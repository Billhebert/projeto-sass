function e(e,t){for(var n=0;n<t.length;n++){const a=t[n];if("string"!=typeof a&&!Array.isArray(a))for(const t in a)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(a,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>a[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a={exports:{}},r={},s={exports:{}},i={},o=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,j={};function N(e,t,n){this.props=e,this.context=t,this.refs=j,this.updater=n||g}function w(){}function S(e,t,n){this.props=e,this.context=t,this.refs=j,this.updater=n||g}N.prototype.isReactComponent={},N.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},N.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=N.prototype;var k=S.prototype=new w;k.constructor=S,b(k,N.prototype),k.isPureReactComponent=!0;var O=Array.isArray,C=Object.prototype.hasOwnProperty,P={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var a,r={},s=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)C.call(t,a)&&!E.hasOwnProperty(a)&&(r[a]=t[a]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===r[a]&&(r[a]=l[a]);return{$$typeof:o,type:e,key:s,ref:i,props:r,_owner:P.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var T=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function R(e,t,n,a,r){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var i=!1;if(null===e)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case o:case l:i=!0}}if(i)return r=r(i=e),e=""===a?"."+M(i,0):a,O(r)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),R(r,t,n,"",function(e){return e})):null!=r&&(A(r)&&(r=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,n+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(T,"$&/")+"/")+e)),t.push(r)),1;if(i=0,a=""===a?".":a+":",O(e))for(var c=0;c<e.length;c++){var u=a+M(s=e[c],c);i+=R(s,t,n,u,r)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)i+=R(s=s.value,t,n,u=a+M(s,c++),r);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function D(e,t,n){if(null==e)return e;var a=[],r=0;return R(e,a,"","",function(e){return t.call(n,e,r++)}),a}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},B={transition:null},F={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:B,ReactCurrentOwner:P};function $(){throw Error("act(...) is not supported in production builds of React.")}i.Children={map:D,forEach:function(e,t,n){D(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},i.Component=N,i.Fragment=c,i.Profiler=d,i.PureComponent=S,i.StrictMode=u,i.Suspense=f,i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,i.act=$,i.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=b({},e.props),r=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=P.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)C.call(t,c)&&!E.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:o,type:e.type,key:r,ref:s,props:a,_owner:i}},i.createContext=function(e){return(e={$$typeof:p,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:h,_context:e},e.Consumer=e},i.createElement=_,i.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},i.createRef=function(){return{current:null}},i.forwardRef=function(e){return{$$typeof:m,render:e}},i.isValidElement=A,i.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:I}},i.memo=function(e,t){return{$$typeof:v,type:e,compare:void 0===t?null:t}},i.startTransition=function(e){var t=B.transition;B.transition={};try{e()}finally{B.transition=t}},i.unstable_act=$,i.useCallback=function(e,t){return L.current.useCallback(e,t)},i.useContext=function(e){return L.current.useContext(e)},i.useDebugValue=function(){},i.useDeferredValue=function(e){return L.current.useDeferredValue(e)},i.useEffect=function(e,t){return L.current.useEffect(e,t)},i.useId=function(){return L.current.useId()},i.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},i.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},i.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},i.useMemo=function(e,t){return L.current.useMemo(e,t)},i.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},i.useRef=function(e){return L.current.useRef(e)},i.useState=function(e){return L.current.useState(e)},i.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},i.useTransition=function(){return L.current.useTransition()},i.version="18.3.1",s.exports=i;var z=s.exports;const U=n(z),q=e({__proto__:null,default:U},[z]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var V=z,W=Symbol.for("react.element"),K=Symbol.for("react.fragment"),H=Object.prototype.hasOwnProperty,G=V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q={key:!0,ref:!0,__self:!0,__source:!0};function X(e,t,n){var a,r={},s=null,i=null;for(a in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(i=t.ref),t)H.call(t,a)&&!Q.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===r[a]&&(r[a]=t[a]);return{$$typeof:W,type:e,key:s,ref:i,props:r,_owner:G.current}}r.Fragment=K,r.jsx=X,r.jsxs=X,a.exports=r;var Y=a.exports,J={},Z={exports:{}},ee={},te={exports:{}},ne={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,s=e[a];if(!(0<r(s,t)))break e;e[a]=t,e[n]=s,n=a}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,s=e.length,i=s>>>1;a<i;){var o=2*(a+1)-1,l=e[o],c=o+1,u=e[c];if(0>r(l,n))c<s&&0>r(u,l)?(e[a]=u,e[c]=n,a=c):(e[a]=l,e[o]=n,a=o);else{if(!(c<s&&0>r(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,f=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function g(e){for(var r=n(c);null!==r;){if(null===r.callback)a(c);else{if(!(r.startTime<=e))break;a(c),r.sortIndex=r.expirationTime,t(l,r)}r=n(c)}}function b(e){if(f=!1,g(e),!m)if(null!==n(l))m=!0,T(j);else{var t=n(c);null!==t&&M(b,t.startTime-e)}}function j(t,r){m=!1,f&&(f=!1,y(k),k=-1),p=!0;var s=h;try{for(g(r),d=n(l);null!==d&&(!(d.expirationTime>r)||t&&!P());){var i=d.callback;if("function"==typeof i){d.callback=null,h=d.priorityLevel;var o=i(d.expirationTime<=r);r=e.unstable_now(),"function"==typeof o?d.callback=o:d===n(l)&&a(l),g(r)}else a(l);d=n(l)}if(null!==d)var u=!0;else{var v=n(c);null!==v&&M(b,v.startTime-r),u=!1}return u}finally{d=null,h=s,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,w=!1,S=null,k=-1,O=5,C=-1;function P(){return!(e.unstable_now()-C<O)}function E(){if(null!==S){var t=e.unstable_now();C=t;var n=!0;try{n=S(!0,t)}finally{n?N():(w=!1,S=null)}}else w=!1}if("function"==typeof x)N=function(){x(E)};else if("undefined"!=typeof MessageChannel){var _=new MessageChannel,A=_.port2;_.port1.onmessage=E,N=function(){A.postMessage(null)}}else N=function(){v(E,0)};function T(e){S=e,w||(w=!0,N())}function M(t,n){k=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,T(j))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(a,r,s){var i=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?i+s:i:s=i,a){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return a={id:u++,callback:r,priorityLevel:a,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(a.sortIndex=s,t(c,a),null===n(l)&&a===n(c)&&(f?(y(k),k=-1):f=!0,M(b,s-i))):(a.sortIndex=o,t(l,a),m||p||(m=!0,T(j))),a},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(ne),te.exports=ne;var ae=te.exports,re=z,se=ae;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oe=new Set,le={};function ce(e,t){ue(e,t),ue(e+"Capture",t)}function ue(e,t){for(le[e]=t,e=0;e<t.length;e++)oe.add(t[e])}var de=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),he=Object.prototype.hasOwnProperty,pe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,me={},fe={};function ve(e,t,n,a,r,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new ve(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new ve(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new ve(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new ve(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new ve(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new ve(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){ye[e]=new ve(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){ye[e]=new ve(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){ye[e]=new ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var xe=/[\-:]([a-z])/g;function ge(e){return e[1].toUpperCase()}function be(e,t,n,a){var r=ye.hasOwnProperty(t)?ye[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null==t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!he.call(fe,e)||!he.call(me,e)&&(pe.test(e)?fe[e]=!0:(me[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xe,ge);ye[t]=new ve(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xe,ge);ye[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xe,ge);ye[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new ve(e,1,!1,e.toLowerCase(),null,!1,!1)}),ye.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){ye[e]=new ve(e,1,!1,e.toLowerCase(),null,!0,!0)});var je=re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ne=Symbol.for("react.element"),we=Symbol.for("react.portal"),Se=Symbol.for("react.fragment"),ke=Symbol.for("react.strict_mode"),Oe=Symbol.for("react.profiler"),Ce=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),De=Symbol.iterator;function Ie(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=De&&e[De]||e["@@iterator"])?e:null}var Le,Be=Object.assign;function Fe(e){if(void 0===Le)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Le=t&&t[1]||""}return"\n"+Le+e}var $e=!1;function ze(e,t){if(!e||$e)return"";$e=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"==typeof c.stack){for(var r=c.stack.split("\n"),s=a.stack.split("\n"),i=r.length-1,o=s.length-1;1<=i&&0<=o&&r[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||r[i]!==s[o]){var l="\n"+r[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{$e=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fe(e):""}function Ue(e){switch(e.tag){case 5:return Fe(e.type);case 16:return Fe("Lazy");case 13:return Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 2:case 15:return e=ze(e.type,!1);case 11:return e=ze(e.type.render,!1);case 1:return e=ze(e.type,!0);default:return""}}function qe(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Se:return"Fragment";case we:return"Portal";case Oe:return"Profiler";case ke:return"StrictMode";case _e:return"Suspense";case Ae:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Pe:return(e.displayName||"Context")+".Consumer";case Ce:return(e._context.displayName||"Context")+".Provider";case Ee:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Te:return null!==(t=e.displayName||null)?t:qe(e.type)||"Memo";case Me:t=e._payload,e=e._init;try{return qe(e(t))}catch(n){}}return null}function Ve(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qe(t);case 8:return t===ke?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function We(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Ke(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function He(e){e._valueTracker||(e._valueTracker=function(e){var t=Ke(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ge(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Ke(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function Qe(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Xe(e,t){var n=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ye(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=We(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Je(e,t){null!=(t=t.checked)&&be(e,"checked",t,!1)}function Ze(e,t){Je(e,t);var n=We(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?tt(e,t.type,n):t.hasOwnProperty("defaultValue")&&tt(e,t.type,We(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function et(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function tt(e,t,n){"number"===t&&Qe(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nt=Array.isArray;function at(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+We(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function rt(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(ie(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function st(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(ie(92));if(nt(n)){if(1<n.length)throw Error(ie(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:We(n)}}function it(e,t){var n=We(t.value),a=We(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function ot(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function lt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?lt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ut,dt,ht=(dt=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ut.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return dt(e,t)})}:dt);function pt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];function vt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||mt.hasOwnProperty(e)&&mt[e]?(""+t).trim():t+"px"}function yt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=vt(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(mt).forEach(function(e){ft.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mt[t]=mt[e]})});var xt=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gt(e,t){if(t){if(xt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(ie(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(ie(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(ie(62))}}function bt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jt=null;function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var wt=null,St=null,kt=null;function Ot(e){if(e=bs(e)){if("function"!=typeof wt)throw Error(ie(280));var t=e.stateNode;t&&(t=Ns(t),wt(e.stateNode,e.type,t))}}function Ct(e){St?kt?kt.push(e):kt=[e]:St=e}function Pt(){if(St){var e=St,t=kt;if(kt=St=null,Ot(e),t)for(e=0;e<t.length;e++)Ot(t[e])}}function Et(e,t){return e(t)}function _t(){}var At=!1;function Tt(e,t,n){if(At)return e(t,n);At=!0;try{return Et(e,t,n)}finally{At=!1,(null!==St||null!==kt)&&(_t(),Pt())}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var a=Ns(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(ie(231,t,typeof n));return n}var Rt=!1;if(de)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Rt=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch(dt){Rt=!1}function It(e,t,n,a,r,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Lt=!1,Bt=null,Ft=!1,$t=null,zt={onError:function(e){Lt=!0,Bt=e}};function Ut(e,t,n,a,r,s,i,o,l){Lt=!1,Bt=null,It.apply(zt,arguments)}function qt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Vt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Wt(e){if(qt(e)!==e)throw Error(ie(188))}function Kt(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qt(e)))throw Error(ie(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(a=r.return)){n=a;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Wt(r),e;if(s===a)return Wt(r),t;s=s.sibling}throw Error(ie(188))}if(n.return!==a.return)n=r,a=s;else{for(var i=!1,o=r.child;o;){if(o===n){i=!0,n=r,a=s;break}if(o===a){i=!0,a=r,n=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===n){i=!0,n=s,a=r;break}if(o===a){i=!0,a=s,n=r;break}o=o.sibling}if(!i)throw Error(ie(189))}}if(n.alternate!==a)throw Error(ie(190))}if(3!==n.tag)throw Error(ie(188));return n.stateNode.current===n?e:t}(e))?Ht(e):null}function Ht(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ht(e);if(null!==t)return t;e=e.sibling}return null}var Gt=se.unstable_scheduleCallback,Qt=se.unstable_cancelCallback,Xt=se.unstable_shouldYield,Yt=se.unstable_requestPaint,Jt=se.unstable_now,Zt=se.unstable_getCurrentPriorityLevel,en=se.unstable_ImmediatePriority,tn=se.unstable_UserBlockingPriority,nn=se.unstable_NormalPriority,an=se.unstable_LowPriority,rn=se.unstable_IdlePriority,sn=null,on=null;var ln=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(cn(e)/un|0)|0},cn=Math.log,un=Math.LN2;var dn=64,hn=4194304;function pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mn(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~r;0!==o?a=pn(o):0!==(s&=i)&&(a=pn(s))}else 0!==(i=n&~r)?a=pn(i):0!==s&&(a=pn(s));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(s=t&-t)||16===r&&4194240&s))return t;if(4&a&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-ln(t)),a|=e[n],t&=~r;return a}function fn(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yn(){var e=dn;return!(4194240&(dn<<=1))&&(dn=64),e}function xn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gn(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ln(t)]=n}function bn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ln(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var jn=0;function Nn(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wn,Sn,kn,On,Cn,Pn=!1,En=[],_n=null,An=null,Tn=null,Mn=new Map,Rn=new Map,Dn=[],In="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ln(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Mn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(t.pointerId)}}function Bn(e,t,n,a,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=bs(t))&&Sn(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Fn(e){var t=gs(e.target);if(null!==t){var n=qt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Vt(n)))return e.blockedOn=t,void Cn(e.priority,function(){kn(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function $n(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&Sn(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);jt=a,n.target.dispatchEvent(a),jt=null,t.shift()}return!0}function zn(e,t,n){$n(e)&&n.delete(t)}function Un(){Pn=!1,null!==_n&&$n(_n)&&(_n=null),null!==An&&$n(An)&&(An=null),null!==Tn&&$n(Tn)&&(Tn=null),Mn.forEach(zn),Rn.forEach(zn)}function qn(e,t){e.blockedOn===t&&(e.blockedOn=null,Pn||(Pn=!0,se.unstable_scheduleCallback(se.unstable_NormalPriority,Un)))}function Vn(e){function t(t){return qn(t,e)}if(0<En.length){qn(En[0],e);for(var n=1;n<En.length;n++){var a=En[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==_n&&qn(_n,e),null!==An&&qn(An,e),null!==Tn&&qn(Tn,e),Mn.forEach(t),Rn.forEach(t),n=0;n<Dn.length;n++)(a=Dn[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Dn.length&&null===(n=Dn[0]).blockedOn;)Fn(n),null===n.blockedOn&&Dn.shift()}var Wn=je.ReactCurrentBatchConfig,Kn=!0;function Hn(e,t,n,a){var r=jn,s=Wn.transition;Wn.transition=null;try{jn=1,Qn(e,t,n,a)}finally{jn=r,Wn.transition=s}}function Gn(e,t,n,a){var r=jn,s=Wn.transition;Wn.transition=null;try{jn=4,Qn(e,t,n,a)}finally{jn=r,Wn.transition=s}}function Qn(e,t,n,a){if(Kn){var r=Yn(e,t,n,a);if(null===r)Wr(e,t,a,Xn,n),Ln(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return _n=Bn(_n,e,t,n,a,r),!0;case"dragenter":return An=Bn(An,e,t,n,a,r),!0;case"mouseover":return Tn=Bn(Tn,e,t,n,a,r),!0;case"pointerover":var s=r.pointerId;return Mn.set(s,Bn(Mn.get(s)||null,e,t,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,Rn.set(s,Bn(Rn.get(s)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Ln(e,a),4&t&&-1<In.indexOf(e)){for(;null!==r;){var s=bs(r);if(null!==s&&wn(s),null===(s=Yn(e,t,n,a))&&Wr(e,t,a,Xn,n),s===r)break;r=s}null!==r&&a.stopPropagation()}else Wr(e,t,a,null,n)}}var Xn=null;function Yn(e,t,n,a){if(Xn=null,null!==(e=gs(e=Nt(a))))if(null===(t=qt(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Vt(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xn=e,null}function Jn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zt()){case en:return 1;case tn:return 4;case nn:case an:return 16;case rn:return 536870912;default:return 16}default:return 16}}var Zn=null,ea=null,ta=null;function na(){if(ta)return ta;var e,t,n=ea,a=n.length,r="value"in Zn?Zn.value:Zn.textContent,s=r.length;for(e=0;e<a&&n[e]===r[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===r[s-t];t++);return ta=r.slice(e,1<t?1-t:void 0)}function aa(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ra(){return!0}function sa(){return!1}function ia(e){function t(t,n,a,r,s){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?ra:sa,this.isPropagationStopped=sa,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),t}var oa,la,ca,ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=ia(ua),ha=Be({},ua,{view:0,detail:0}),pa=ia(ha),ma=Be({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ca&&(ca&&"mousemove"===e.type?(oa=e.screenX-ca.screenX,la=e.screenY-ca.screenY):la=oa=0,ca=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:la}}),fa=ia(ma),va=ia(Be({},ma,{dataTransfer:0})),ya=ia(Be({},ha,{relatedTarget:0})),xa=ia(Be({},ua,{animationName:0,elapsedTime:0,pseudoElement:0})),ga=Be({},ua,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ba=ia(ga),ja=ia(Be({},ua,{data:0})),Na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ka(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sa[e])&&!!t[e]}function Oa(){return ka}var Ca=Be({},ha,{key:function(e){if(e.key){var t=Na[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=aa(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wa[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(e){return"keypress"===e.type?aa(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?aa(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pa=ia(Ca),Ea=ia(Be({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_a=ia(Be({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa})),Aa=ia(Be({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ta=Be({},ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=ia(Ta),Ra=[9,13,27,32],Da=de&&"CompositionEvent"in window,Ia=null;de&&"documentMode"in document&&(Ia=document.documentMode);var La=de&&"TextEvent"in window&&!Ia,Ba=de&&(!Da||Ia&&8<Ia&&11>=Ia),Fa=String.fromCharCode(32),$a=!1;function za(e,t){switch(e){case"keyup":return-1!==Ra.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qa=!1;var Va={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Va[e.type]:"textarea"===t}function Ka(e,t,n,a){Ct(a),0<(t=Hr(t,"onChange")).length&&(n=new da("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ha=null,Ga=null;function Qa(e){Fr(e,0)}function Xa(e){if(Ge(js(e)))return e}function Ya(e,t){if("change"===e)return t}var Ja=!1;if(de){var Za;if(de){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"==typeof tr.oninput}Za=er}else Za=!1;Ja=Za&&(!document.documentMode||9<document.documentMode)}function nr(){Ha&&(Ha.detachEvent("onpropertychange",ar),Ga=Ha=null)}function ar(e){if("value"===e.propertyName&&Xa(Ga)){var t=[];Ka(t,Ga,e,Nt(e)),Tt(Qa,t)}}function rr(e,t,n){"focusin"===e?(nr(),Ga=n,(Ha=t).attachEvent("onpropertychange",ar)):"focusout"===e&&nr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xa(Ga)}function ir(e,t){if("click"===e)return Xa(t)}function or(e,t){if("input"===e||"change"===e)return Xa(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function cr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!he.call(t,r)||!lr(e[r],t[r]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,a=ur(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ur(a)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=Qe();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=Qe((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=pr(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==a&&mr(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(a.start,r);a=void 0===a.end?s:Math.min(a.end,r),!e.extend&&s>a&&(r=a,a=s,s=r),r=dr(n,s);var i=dr(n,a);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=de&&"documentMode"in document&&11>=document.documentMode,yr=null,xr=null,gr=null,br=!1;function jr(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==Qe(a)||("selectionStart"in(a=yr)&&mr(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},gr&&cr(gr,a)||(gr=a,0<(a=Hr(xr,"onSelect")).length&&(t=new da("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=yr)))}function Nr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionend:Nr("Transition","TransitionEnd")},Sr={},kr={};function Or(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}de&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Cr=Or("animationend"),Pr=Or("animationiteration"),Er=Or("animationstart"),_r=Or("transitionend"),Ar=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Ar.set(e,t),ce(t,[e])}for(var Rr=0;Rr<Tr.length;Rr++){var Dr=Tr[Rr];Mr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Mr(Cr,"onAnimationEnd"),Mr(Pr,"onAnimationIteration"),Mr(Er,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(_r,"onTransitionEnd"),ue("onMouseEnter",["mouseout","mouseover"]),ue("onMouseLeave",["mouseout","mouseover"]),ue("onPointerEnter",["pointerout","pointerover"]),ue("onPointerLeave",["pointerout","pointerover"]),ce("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ce("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ce("onBeforeInput",["compositionend","keypress","textInput","paste"]),ce("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ce("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ce("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Br(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,s,i,o,l){if(Ut.apply(this,arguments),Lt){if(!Lt)throw Error(ie(198));var c=Bt;Lt=!1,Bt=null,Ft||(Ft=!0,$t=c)}}(a,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;Br(r,o,c),s=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;Br(r,o,c),s=l}}}if(Ft)throw e=$t,Ft=!1,$t=null,e}function $r(e,t){var n=t[vs];void 0===n&&(n=t[vs]=new Set);var a=e+"__bubble";n.has(a)||(Vr(t,e,2,!1),n.add(a))}function zr(e,t,n){var a=0;t&&(a|=4),Vr(n,e,a,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Ur]){e[Ur]=!0,oe.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,zr("selectionchange",!1,t))}}function Vr(e,t,n,a){switch(Jn(t)){case 1:var r=Hn;break;case 4:r=Gn;break;default:r=Qn}n=r.bind(null,t,n,e),r=void 0,!Rt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wr(e,t,n,a,r){var s=a;if(!(1&t||2&t||null===a))e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var o=a.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===i)for(i=a.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;i=i.return}for(;null!==o;){if(null===(i=gs(o)))return;if(5===(l=i.tag)||6===l){a=s=i;continue e}o=o.parentNode}}a=a.return}Tt(function(){var a=s,r=Nt(n),i=[];e:{var o=Ar.get(e);if(void 0!==o){var l=da,c=e;switch(e){case"keypress":if(0===aa(n))break e;case"keydown":case"keyup":l=Pa;break;case"focusin":c="focus",l=ya;break;case"focusout":c="blur",l=ya;break;case"beforeblur":case"afterblur":l=ya;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=va;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_a;break;case Cr:case Pr:case Er:l=xa;break;case _r:l=Aa;break;case"scroll":l=pa;break;case"wheel":l=Ma;break;case"copy":case"cut":case"paste":l=ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ea}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var p,m=a;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Mt(m,h))&&u.push(Kr(m,f,p)))),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,r),i.push({event:o,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===jt||!(c=n.relatedTarget||n.fromElement)||!gs(c)&&!c[fs])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(c=(c=n.relatedTarget||n.toElement)?gs(c):null)&&(c!==(d=qt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(u=fa,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ea,f="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:js(l),p=null==c?o:js(c),(o=new u(f,m+"leave",l,n,r)).target=d,o.relatedTarget=p,f=null,gs(r)===a&&((u=new u(h,m+"enter",c,n,r)).target=p,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(h=c,m=0,p=u=l;p;p=Gr(p))m++;for(p=0,f=h;f;f=Gr(f))p++;for(;0<m-p;)u=Gr(u),m--;for(;0<p-m;)h=Gr(h),p--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(i,o,l,u,!1),null!==c&&null!==d&&Qr(i,d,c,u,!0)}if("select"===(l=(o=a?js(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var v=Ya;else if(Wa(o))if(Ja)v=or;else{v=sr;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=ir);switch(v&&(v=v(e,a))?Ka(i,v,n,r):(y&&y(e,o,a),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&tt(o,"number",o.value)),y=a?js(a):window,e){case"focusin":(Wa(y)||"true"===y.contentEditable)&&(yr=y,xr=a,gr=null);break;case"focusout":gr=xr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,jr(i,n,r);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":jr(i,n,r)}var x;if(Da)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else qa?za(e,n)&&(g="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(g="onCompositionStart");g&&(Ba&&"ko"!==n.locale&&(qa||"onCompositionStart"!==g?"onCompositionEnd"===g&&qa&&(x=na()):(ea="value"in(Zn=r)?Zn.value:Zn.textContent,qa=!0)),0<(y=Hr(a,g)).length&&(g=new ja(g,e,null,n,r),i.push({event:g,listeners:y}),x?g.data=x:null!==(x=Ua(n))&&(g.data=x))),(x=La?function(e,t){switch(e){case"compositionend":return Ua(t);case"keypress":return 32!==t.which?null:($a=!0,Fa);case"textInput":return(e=t.data)===Fa&&$a?null:e;default:return null}}(e,n):function(e,t){if(qa)return"compositionend"===e||!Da&&za(e,t)?(e=na(),ta=ea=Zn=null,qa=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ba&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Hr(a,"onBeforeInput")).length&&(r=new ja("onBeforeInput","beforeinput",null,n,r),i.push({event:r,listeners:a}),r.data=x))}Fr(i,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Mt(e,n))&&a.unshift(Kr(e,s,r)),null!=(s=Mt(e,t))&&a.push(Kr(e,s,r))),e=e.return}return a}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,a,r){for(var s=t._reactName,i=[];null!==n&&n!==a;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===a)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Mt(n,s))&&i.unshift(Kr(n,l,o)):r||null!=(l=Mt(n,s))&&i.push(Kr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"==typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(ie(425))}function es(){}var ts=null,ns=null;function as(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"==typeof setTimeout?setTimeout:void 0,ss="function"==typeof clearTimeout?clearTimeout:void 0,is="function"==typeof Promise?Promise:void 0,os="function"==typeof queueMicrotask?queueMicrotask:void 0!==is?function(e){return is.resolve(null).then(e).catch(ls)}:rs;function ls(e){setTimeout(function(){throw e})}function cs(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Vn(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Vn(t)}function us(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),ps="__reactFiber$"+hs,ms="__reactProps$"+hs,fs="__reactContainer$"+hs,vs="__reactEvents$"+hs,ys="__reactListeners$"+hs,xs="__reactHandles$"+hs;function gs(e){var t=e[ps];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[ps]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[ps])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[ps]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function js(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(ie(33))}function Ns(e){return e[ms]||null}var ws=[],Ss=-1;function ks(e){return{current:e}}function Os(e){0>Ss||(e.current=ws[Ss],ws[Ss]=null,Ss--)}function Cs(e,t){Ss++,ws[Ss]=e.current,e.current=t}var Ps={},Es=ks(Ps),_s=ks(!1),As=Ps;function Ts(e,t){var n=e.type.contextTypes;if(!n)return Ps;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ms(e){return null!=(e=e.childContextTypes)}function Rs(){Os(_s),Os(Es)}function Ds(e,t,n){if(Es.current!==Ps)throw Error(ie(168));Cs(Es,t),Cs(_s,n)}function Is(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!=typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(ie(108,Ve(e)||"Unknown",r));return Be({},n,a)}function Ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ps,As=Es.current,Cs(Es,e),Cs(_s,_s.current),!0}function Bs(e,t,n){var a=e.stateNode;if(!a)throw Error(ie(169));n?(e=Is(e,t,As),a.__reactInternalMemoizedMergedChildContext=e,Os(_s),Os(Es),Cs(Es,e)):Os(_s),Cs(_s,n)}var Fs=null,$s=!1,zs=!1;function Us(e){null===Fs?Fs=[e]:Fs.push(e)}function qs(){if(!zs&&null!==Fs){zs=!0;var e=0,t=jn;try{var n=Fs;for(jn=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Fs=null,$s=!1}catch(r){throw null!==Fs&&(Fs=Fs.slice(e+1)),Gt(en,qs),r}finally{jn=t,zs=!1}}return null}var Vs=[],Ws=0,Ks=null,Hs=0,Gs=[],Qs=0,Xs=null,Ys=1,Js="";function Zs(e,t){Vs[Ws++]=Hs,Vs[Ws++]=Ks,Ks=e,Hs=t}function ei(e,t,n){Gs[Qs++]=Ys,Gs[Qs++]=Js,Gs[Qs++]=Xs,Xs=e;var a=Ys;e=Js;var r=32-ln(a)-1;a&=~(1<<r),n+=1;var s=32-ln(t)+r;if(30<s){var i=r-r%5;s=(a&(1<<i)-1).toString(32),a>>=i,r-=i,Ys=1<<32-ln(t)+r|n<<r|a,Js=s+e}else Ys=1<<s|n<<r|a,Js=e}function ti(e){null!==e.return&&(Zs(e,1),ei(e,1,0))}function ni(e){for(;e===Ks;)Ks=Vs[--Ws],Vs[Ws]=null,Hs=Vs[--Ws],Vs[Ws]=null;for(;e===Xs;)Xs=Gs[--Qs],Gs[Qs]=null,Js=Gs[--Qs],Gs[Qs]=null,Ys=Gs[--Qs],Gs[Qs]=null}var ai=null,ri=null,si=!1,ii=null;function oi(e,t){var n=Tu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ai=e,ri=us(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ai=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xs?{id:Ys,overflow:Js}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ai=e,ri=null,!0);default:return!1}}function ci(e){return!(!(1&e.mode)||128&e.flags)}function ui(e){if(si){var t=ri;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(ie(418));t=us(n.nextSibling);var a=ai;t&&li(e,t)?oi(a,n):(e.flags=-4097&e.flags|2,si=!1,ai=e)}}else{if(ci(e))throw Error(ie(418));e.flags=-4097&e.flags|2,si=!1,ai=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ai=e}function hi(e){if(e!==ai)return!1;if(!si)return di(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!as(e.type,e.memoizedProps)),t&&(t=ri)){if(ci(e))throw pi(),Error(ie(418));for(;t;)oi(e,t),t=us(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=us(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ai?us(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=ri;e;)e=us(e.nextSibling)}function mi(){ri=ai=null,si=!1}function fi(e){null===ii?ii=[e]:ii.push(e)}var vi=je.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(ie(309));var a=n.stateNode}if(!a)throw Error(ie(147,e));var r=a,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=r.refs;null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(ie(284));if(!n._owner)throw Error(ie(290,e))}return e}function xi(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function s(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=Bu(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function l(e,t,n,a){var s=n.type;return s===Se?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===Me&&gi(s)===t.type)?((a=r(t,n.props)).ref=yi(e,t,n),a.return=e,a):((a=Du(n.type,n.key,n.props,null,e.mode,a)).ref=yi(e,t,n),a.return=e,a)}function c(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,s){return null===t||7!==t.tag?((t=Iu(n,e.mode,a,s)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Bu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ne:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case we:return(t=Fu(t,e.mode,n)).return=e,t;case Me:return d(e,(0,t._init)(t._payload),n)}if(nt(t)||Ie(t))return(t=Iu(t,e.mode,n,null)).return=e,t;xi(e,t)}return null}function h(e,t,n,a){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==r?null:o(e,t,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ne:return n.key===r?l(e,t,n,a):null;case we:return n.key===r?c(e,t,n,a):null;case Me:return h(e,t,(r=n._init)(n._payload),a)}if(nt(n)||Ie(n))return null!==r?null:u(e,t,n,a,null);xi(e,n)}return null}function p(e,t,n,a,r){if("string"==typeof a&&""!==a||"number"==typeof a)return o(t,e=e.get(n)||null,""+a,r);if("object"==typeof a&&null!==a){switch(a.$$typeof){case Ne:return l(t,e=e.get(null===a.key?n:a.key)||null,a,r);case we:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case Me:return p(e,t,n,(0,a._init)(a._payload),r)}if(nt(a)||Ie(a))return u(t,e=e.get(n)||null,a,r,null);xi(t,a)}return null}return function o(l,c,u,m){if("object"==typeof u&&null!==u&&u.type===Se&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case Ne:e:{for(var f=u.key,v=c;null!==v;){if(v.key===f){if((f=u.type)===Se){if(7===v.tag){n(l,v.sibling),(c=r(v,u.props.children)).return=l,l=c;break e}}else if(v.elementType===f||"object"==typeof f&&null!==f&&f.$$typeof===Me&&gi(f)===v.type){n(l,v.sibling),(c=r(v,u.props)).ref=yi(l,v,u),c.return=l,l=c;break e}n(l,v);break}t(l,v),v=v.sibling}u.type===Se?((c=Iu(u.props.children,l.mode,m,u.key)).return=l,l=c):((m=Du(u.type,u.key,u.props,null,l.mode,m)).ref=yi(l,c,u),m.return=l,l=m)}return i(l);case we:e:{for(v=u.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(c=r(c,u.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=Fu(u,l.mode,m)).return=l,l=c}return i(l);case Me:return o(l,c,(v=u._init)(u._payload),m)}if(nt(u))return function(r,i,o,l){for(var c=null,u=null,m=i,f=i=0,v=null;null!==m&&f<o.length;f++){m.index>f?(v=m,m=null):v=m.sibling;var y=h(r,m,o[f],l);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(r,m),i=s(y,i,f),null===u?c=y:u.sibling=y,u=y,m=v}if(f===o.length)return n(r,m),si&&Zs(r,f),c;if(null===m){for(;f<o.length;f++)null!==(m=d(r,o[f],l))&&(i=s(m,i,f),null===u?c=m:u.sibling=m,u=m);return si&&Zs(r,f),c}for(m=a(r,m);f<o.length;f++)null!==(v=p(m,r,f,o[f],l))&&(e&&null!==v.alternate&&m.delete(null===v.key?f:v.key),i=s(v,i,f),null===u?c=v:u.sibling=v,u=v);return e&&m.forEach(function(e){return t(r,e)}),si&&Zs(r,f),c}(l,c,u,m);if(Ie(u))return function(r,i,o,l){var c=Ie(o);if("function"!=typeof c)throw Error(ie(150));if(null==(o=c.call(o)))throw Error(ie(151));for(var u=c=null,m=i,f=i=0,v=null,y=o.next();null!==m&&!y.done;f++,y=o.next()){m.index>f?(v=m,m=null):v=m.sibling;var x=h(r,m,y.value,l);if(null===x){null===m&&(m=v);break}e&&m&&null===x.alternate&&t(r,m),i=s(x,i,f),null===u?c=x:u.sibling=x,u=x,m=v}if(y.done)return n(r,m),si&&Zs(r,f),c;if(null===m){for(;!y.done;f++,y=o.next())null!==(y=d(r,y.value,l))&&(i=s(y,i,f),null===u?c=y:u.sibling=y,u=y);return si&&Zs(r,f),c}for(m=a(r,m);!y.done;f++,y=o.next())null!==(y=p(m,r,f,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?f:y.key),i=s(y,i,f),null===u?c=y:u.sibling=y,u=y);return e&&m.forEach(function(e){return t(r,e)}),si&&Zs(r,f),c}(l,c,u,m);xi(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(c=r(c,u)).return=l,l=c):(n(l,c),(c=Bu(u,l.mode,m)).return=l,l=c),i(l)):n(l,c)}}var ji=bi(!0),Ni=bi(!1),wi=ks(null),Si=null,ki=null,Oi=null;function Ci(){Oi=ki=Si=null}function Pi(e){var t=wi.current;Os(wi),e._currentValue=t}function Ei(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function _i(e,t){Si=e,Oi=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bl=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(Oi!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===Si)throw Error(ie(308));ki=e,Si.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Ti=null;function Mi(e){null===Ti?Ti=[e]:Ti.push(e)}function Ri(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,Mi(t)):(n.next=r.next,r.next=n),t.interleaved=n,Di(e,a)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ii=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,2&Ec){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Di(e,n)}return null===(r=a.interleaved)?(t.next=t,Mi(a)):(t.next=r.next,r.next=t),a.interleaved=t,Di(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,bn(e,n)}}function Ui(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qi(e,t,n,a){var r=e.updateQueue;Ii=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=r.baseState;for(i=0,u=c=l=null,o=s;;){var h=o.lane,p=o.eventTime;if((a&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(h=t,p=n,f.tag){case 1:if("function"==typeof(m=f.payload)){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=f.payload)?m.call(p,d,h):m))break e;d=Be({},d,h);break e;case 2:Ii=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,i|=h;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(h=o).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Lc|=i,e.lanes=i,e.memoizedState=d}}function Vi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!=typeof r)throw Error(ie(191,r));r.call(a)}}}var Wi={},Ki=ks(Wi),Hi=ks(Wi),Gi=ks(Wi);function Qi(e){if(e===Wi)throw Error(ie(174));return e}function Xi(e,t){switch(Cs(Gi,t),Cs(Hi,e),Cs(Ki,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ct(null,"");break;default:t=ct(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Os(Ki),Cs(Ki,t)}function Yi(){Os(Ki),Os(Hi),Os(Gi)}function Ji(e){Qi(Gi.current);var t=Qi(Ki.current),n=ct(t,e.type);t!==n&&(Cs(Hi,e),Cs(Ki,n))}function Zi(e){Hi.current===e&&(Os(Ki),Os(Hi))}var eo=ks(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ao(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var ro=je.ReactCurrentDispatcher,so=je.ReactCurrentBatchConfig,io=0,oo=null,lo=null,co=null,uo=!1,ho=!1,po=0,mo=0;function fo(){throw Error(ie(321))}function vo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function yo(e,t,n,a,r,s){if(io=s,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?el:tl,e=n(a,r),ho){s=0;do{if(ho=!1,po=0,25<=s)throw Error(ie(301));s+=1,co=lo=null,t.updateQueue=null,ro.current=nl,e=n(a,r)}while(ho)}if(ro.current=Zo,t=null!==lo&&null!==lo.next,io=0,co=lo=oo=null,uo=!1,t)throw Error(ie(300));return e}function xo(){var e=0!==po;return po=0,e}function go(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?oo.memoizedState=co=e:co=co.next=e,co}function bo(){if(null===lo){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=lo.next;var t=null===co?oo.memoizedState:co.next;if(null!==t)co=t,lo=e;else{if(null===e)throw Error(ie(310));e={memoizedState:(lo=e).memoizedState,baseState:lo.baseState,baseQueue:lo.baseQueue,queue:lo.queue,next:null},null===co?oo.memoizedState=co=e:co=co.next=e}return co}function jo(e,t){return"function"==typeof t?t(e):t}function No(e){var t=bo(),n=t.queue;if(null===n)throw Error(ie(311));n.lastRenderedReducer=e;var a=lo,r=a.baseQueue,s=n.pending;if(null!==s){if(null!==r){var i=r.next;r.next=s.next,s.next=i}a.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,a=a.baseState;var o=i=null,l=null,c=s;do{var u=c.lane;if((io&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),a=c.hasEagerState?c.eagerState:e(a,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(o=l=d,i=a):l=l.next=d,oo.lanes|=u,Lc|=u}c=c.next}while(null!==c&&c!==s);null===l?i=a:l.next=o,lr(a,t.memoizedState)||(bl=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=l,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,oo.lanes|=s,Lc|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wo(e){var t=bo(),n=t.queue;if(null===n)throw Error(ie(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var i=r=r.next;do{s=e(s,i.action),i=i.next}while(i!==r);lr(s,t.memoizedState)||(bl=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function So(){}function ko(e,t){var n=oo,a=bo(),r=t(),s=!lr(a.memoizedState,r);if(s&&(a.memoizedState=r,bl=!0),a=a.queue,Lo(Po.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,To(9,Co.bind(null,n,a,r,t),void 0,null),null===_c)throw Error(ie(349));30&io||Oo(n,t,r)}return r}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Co(e,t,n,a){t.value=n,t.getSnapshot=a,Eo(t)&&_o(e)}function Po(e,t,n){return n(function(){Eo(t)&&_o(e)})}function Eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(a){return!0}}function _o(e){var t=Di(e,1);null!==t&&au(t,e,1,-1)}function Ao(e){var t=go();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[t.memoizedState,e]}function To(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Mo(){return bo().memoizedState}function Ro(e,t,n,a){var r=go();oo.flags|=e,r.memoizedState=To(1|t,n,void 0,void 0===a?null:a)}function Do(e,t,n,a){var r=bo();a=void 0===a?null:a;var s=void 0;if(null!==lo){var i=lo.memoizedState;if(s=i.destroy,null!==a&&vo(a,i.deps))return void(r.memoizedState=To(t,n,s,a))}oo.flags|=e,r.memoizedState=To(1|t,n,s,a)}function Io(e,t){return Ro(8390656,8,e,t)}function Lo(e,t){return Do(2048,8,e,t)}function Bo(e,t){return Do(4,2,e,t)}function Fo(e,t){return Do(4,4,e,t)}function $o(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!=n?n.concat([e]):null,Do(4,4,$o.bind(null,t,e),n)}function Uo(){}function qo(e,t){var n=bo();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&vo(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Vo(e,t){var n=bo();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&vo(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 21&io?(lr(n,t)||(n=yn(),oo.lanes|=n,Lc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n)}function Ko(e,t){var n=jn;jn=0!==n&&4>n?n:4,e(!0);var a=so.transition;so.transition={};try{e(!1),t()}finally{jn=n,so.transition=a}}function Ho(){return bo().memoizedState}function Go(e,t,n){var a=nu(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e))Yo(t,n);else if(null!==(n=Ri(e,t,n,a))){au(n,e,a,tu()),Jo(n,t,a)}}function Qo(e,t,n){var a=nu(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Yo(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(r.hasEagerState=!0,r.eagerState=o,lr(o,i)){var l=t.interleaved;return null===l?(r.next=r,Mi(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Ri(e,t,r,a))&&(au(n,e,a,r=tu()),Jo(n,t,a))}}function Xo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){ho=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(4194240&n){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,bn(e,n)}}var Zo={readContext:Ai,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},el={readContext:Ai,useCallback:function(e,t){return go().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Io,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ro(4194308,4,$o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=go();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=go();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Go.bind(null,oo,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},go().memoizedState=e},useState:Ao,useDebugValue:Uo,useDeferredValue:function(e){return go().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Ko.bind(null,e[1]),go().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=oo,r=go();if(si){if(void 0===n)throw Error(ie(407));n=n()}else{if(n=t(),null===_c)throw Error(ie(349));30&io||Oo(a,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Io(Po.bind(null,a,s,e),[e]),a.flags|=2048,To(9,Co.bind(null,a,s,n,t),void 0,null),n},useId:function(){var e=go(),t=_c.identifierPrefix;if(si){var n=Js;t=":"+t+"R"+(n=(Ys&~(1<<32-ln(Ys)-1)).toString(32)+n),0<(n=po++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tl={readContext:Ai,useCallback:qo,useContext:Ai,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Bo,useLayoutEffect:Fo,useMemo:Vo,useReducer:No,useRef:Mo,useState:function(){return No(jo)},useDebugValue:Uo,useDeferredValue:function(e){return Wo(bo(),lo.memoizedState,e)},useTransition:function(){return[No(jo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:ko,useId:Ho,unstable_isNewReconciler:!1},nl={readContext:Ai,useCallback:qo,useContext:Ai,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Bo,useLayoutEffect:Fo,useMemo:Vo,useReducer:wo,useRef:Mo,useState:function(){return wo(jo)},useDebugValue:Uo,useDeferredValue:function(e){var t=bo();return null===lo?t.memoizedState=e:Wo(t,lo.memoizedState,e)},useTransition:function(){return[wo(jo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:ko,useId:Ho,unstable_isNewReconciler:!1};function al(e,t){if(e&&e.defaultProps){for(var n in t=Be({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rl(e,t,n,a){n=null==(n=n(a,t=e.memoizedState))?t:Be({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sl={isMounted:function(e){return!!(e=e._reactInternals)&&qt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=tu(),r=nu(e),s=Fi(a,r);s.payload=t,null!=n&&(s.callback=n),null!==(t=$i(e,s,r))&&(au(t,e,r,a),zi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=tu(),r=nu(e),s=Fi(a,r);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=$i(e,s,r))&&(au(t,e,r,a),zi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),a=nu(e),r=Fi(n,a);r.tag=2,null!=t&&(r.callback=t),null!==(t=$i(e,r,a))&&(au(t,e,a,n),zi(t,e,a))}};function il(e,t,n,a,r,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,a)||!cr(r,s))}function ol(e,t,n){var a=!1,r=Ps,s=t.contextType;return"object"==typeof s&&null!==s?s=Ai(s):(r=Ms(t)?As:Es.current,s=(a=null!=(a=t.contextTypes))?Ts(e,r):Ps),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sl,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function ll(e,t,n,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&sl.enqueueReplaceState(t,t.state,null)}function cl(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Li(e);var s=t.contextType;"object"==typeof s&&null!==s?r.context=Ai(s):(s=Ms(t)?As:Es.current,r.context=Ts(e,s)),r.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(rl(e,t,s,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&sl.enqueueReplaceState(r,r.state,null),qi(e,n,r,a),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}function ul(e,t){try{var n="",a=t;do{n+=Ue(a),a=a.return}while(a);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function dl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pl="function"==typeof WeakMap?WeakMap:Map;function ml(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Wc||(Wc=!0,Kc=a),hl(0,t)},n}function fl(e,t,n){(n=Fi(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"==typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){hl(0,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){hl(0,t),"function"!=typeof a&&(null===Hc?Hc=new Set([this]):Hc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vl(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new pl;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=Ou.bind(null,e,t,n),t.then(e,e))}function yl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xl(e,t,n,a,r){return 1&e.mode?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,$i(n,t,1))),n.lanes|=1),e)}var gl=je.ReactCurrentOwner,bl=!1;function jl(e,t,n,a){t.child=null===e?Ni(t,null,n,a):ji(t,e.child,n,a)}function Nl(e,t,n,a,r){n=n.render;var s=t.ref;return _i(t,r),a=yo(e,t,n,a,s,r),n=xo(),null===e||bl?(si&&n&&ti(t),t.flags|=1,jl(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wl(e,t,r))}function wl(e,t,n,a,r){if(null===e){var s=n.type;return"function"!=typeof s||Mu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sl(e,t,s,a,r))}if(s=e.child,0===(e.lanes&r)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(i,a)&&e.ref===t.ref)return Wl(e,t,r)}return t.flags|=1,(e=Ru(s,a)).ref=t.ref,e.return=t,t.child=e}function Sl(e,t,n,a,r){if(null!==e){var s=e.memoizedProps;if(cr(s,a)&&e.ref===t.ref){if(bl=!1,t.pendingProps=a=s,0===(e.lanes&r))return t.lanes=e.lanes,Wl(e,t,r);131072&e.flags&&(bl=!0)}}return Cl(e,t,n,a,r)}function kl(e,t,n){var a=t.pendingProps,r=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Rc,Mc),Mc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:n,Cs(Rc,Mc),Mc|=a}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Rc,Mc),Mc|=n;else null!==s?(a=s.baseLanes|n,t.memoizedState=null):a=n,Cs(Rc,Mc),Mc|=a;return jl(e,t,r,n),t.child}function Ol(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cl(e,t,n,a,r){var s=Ms(n)?As:Es.current;return s=Ts(t,s),_i(t,r),n=yo(e,t,n,a,s,r),a=xo(),null===e||bl?(si&&a&&ti(t),t.flags|=1,jl(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wl(e,t,r))}function Pl(e,t,n,a,r){if(Ms(n)){var s=!0;Ls(t)}else s=!1;if(_i(t,r),null===t.stateNode)Vl(e,t),ol(t,n,a),cl(t,n,a,r),a=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"==typeof c&&null!==c?c=Ai(c):c=Ts(t,c=Ms(n)?As:Es.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==a||l!==c)&&ll(t,i,a,c),Ii=!1;var h=t.memoizedState;i.state=h,qi(t,a,i,r),l=t.memoizedState,o!==a||h!==l||_s.current||Ii?("function"==typeof u&&(rl(t,n,u,a),l=t.memoizedState),(o=Ii||il(t,n,o,a,h,l,c))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),i.props=a,i.state=l,i.context=c,a=o):("function"==typeof i.componentDidMount&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Bi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:al(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ai(l):l=Ts(t,l=Ms(n)?As:Es.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==d||h!==l)&&ll(t,i,a,l),Ii=!1,h=t.memoizedState,i.state=h,qi(t,a,i,r);var m=t.memoizedState;o!==d||h!==m||_s.current||Ii?("function"==typeof p&&(rl(t,n,p,a),m=t.memoizedState),(c=Ii||il(t,n,c,a,h,m,l)||!1)?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(a,m,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,m,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),i.props=a,i.state=m,i.context=l,a=c):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return El(e,t,n,a,s,r)}function El(e,t,n,a,r,s){Ol(e,t);var i=!!(128&t.flags);if(!a&&!i)return r&&Bs(t,n,!1),Wl(e,t,s);a=t.stateNode,gl.current=t;var o=i&&"function"!=typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=ji(t,e.child,null,s),t.child=ji(t,null,o,s)):jl(e,t,o,s),t.memoizedState=a.state,r&&Bs(t,n,!0),t.child}function _l(e){var t=e.stateNode;t.pendingContext?Ds(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ds(0,t.context,!1),Xi(e,t.containerInfo)}function Al(e,t,n,a,r){return mi(),fi(r),t.flags|=256,jl(e,t,n,a),t.child}var Tl,Ml,Rl,Dl,Il={dehydrated:null,treeContext:null,retryLane:0};function Ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bl(e,t,n){var a,r=t.pendingProps,s=eo.current,i=!1,o=!!(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&!!(2&s)),a?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Cs(eo,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},1&r||null===i?i=Lu(o,r,0,null):(i.childLanes=0,i.pendingProps=o),e=Iu(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ll(n),t.memoizedState=Il,e):Fl(t,o));if(null!==(s=e.memoizedState)&&null!==(a=s.dehydrated))return function(e,t,n,a,r,s,i){if(n)return 256&t.flags?(t.flags&=-257,$l(e,t,i,a=dl(Error(ie(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=a.fallback,r=t.mode,a=Lu({mode:"visible",children:a.children},r,0,null),(s=Iu(s,r,i,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,1&t.mode&&ji(t,e.child,null,i),t.child.memoizedState=Ll(i),t.memoizedState=Il,s);if(!(1&t.mode))return $l(e,t,i,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var o=a.dgst;return a=o,$l(e,t,i,a=dl(s=Error(ie(419)),a,void 0))}if(o=0!==(i&e.childLanes),bl||o){if(null!==(a=_c)){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|i))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Di(e,r),au(a,e,r,-1))}return vu(),$l(e,t,i,a=dl(Error(ie(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ri=us(r.nextSibling),ai=t,si=!0,ii=null,null!==e&&(Gs[Qs++]=Ys,Gs[Qs++]=Js,Gs[Qs++]=Xs,Ys=e.id,Js=e.overflow,Xs=t),t=Fl(t,a.children),t.flags|=4096,t)}(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,a=(s=e.child).sibling;var l={mode:"hidden",children:r.children};return 1&o||t.child===s?(r=Ru(s,l)).subtreeFlags=14680064&s.subtreeFlags:((r=t.child).childLanes=0,r.pendingProps=l,t.deletions=null),null!==a?i=Ru(a,i):(i=Iu(i,o,n,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=null===(o=e.child.memoizedState)?Ll(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Il,r}return e=(i=e.child).sibling,r=Ru(i,{mode:"visible",children:r.children}),!(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fl(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $l(e,t,n,a){return null!==a&&fi(a),ji(t,e.child,null,n),(e=Fl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zl(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Ei(e.return,t,n)}function Ul(e,t,n,a,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r)}function ql(e,t,n){var a=t.pendingProps,r=a.revealOrder,s=a.tail;if(jl(e,t,a.children,n),2&(a=eo.current))a=1&a|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zl(e,n,t);else if(19===e.tag)zl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Cs(eo,a),1&t.mode)switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ul(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===to(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ul(t,!0,n,null,s);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Vl(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(ie(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Kl(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Gl(e,t,n){var a=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hl(t),null;case 1:case 17:return Ms(t.type)&&Rs(),Hl(t),null;case 3:return a=t.stateNode,Yi(),Os(_s),Os(Es),ao(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ii&&(ou(ii),ii=null))),Ml(e,t),Hl(t),null;case 5:Zi(t);var r=Qi(Gi.current);if(n=t.type,null!==e&&null!=t.stateNode)Rl(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(ie(166));return Hl(t),null}if(e=Qi(Ki.current),hi(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[ps]=t,a[ms]=s,e=!!(1&t.mode),n){case"dialog":$r("cancel",a),$r("close",a);break;case"iframe":case"object":case"embed":$r("load",a);break;case"video":case"audio":for(r=0;r<Ir.length;r++)$r(Ir[r],a);break;case"source":$r("error",a);break;case"img":case"image":case"link":$r("error",a),$r("load",a);break;case"details":$r("toggle",a);break;case"input":Ye(a,s),$r("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},$r("invalid",a);break;case"textarea":st(a,s),$r("invalid",a)}for(var i in gt(n,s),r=null,s)if(s.hasOwnProperty(i)){var o=s[i];"children"===i?"string"==typeof o?a.textContent!==o&&(!0!==s.suppressHydrationWarning&&Zr(a.textContent,o,e),r=["children",o]):"number"==typeof o&&a.textContent!==""+o&&(!0!==s.suppressHydrationWarning&&Zr(a.textContent,o,e),r=["children",""+o]):le.hasOwnProperty(i)&&null!=o&&"onScroll"===i&&$r("scroll",a)}switch(n){case"input":He(a),et(a,s,!0);break;case"textarea":He(a),ot(a);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(a.onclick=es)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{i=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=lt(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof a.is?e=i.createElement(n,{is:a.is}):(e=i.createElement(n),"select"===n&&(i=e,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):e=i.createElementNS(e,n),e[ps]=t,e[ms]=a,Tl(e,t,!1,!1),t.stateNode=e;e:{switch(i=bt(n,a),n){case"dialog":$r("cancel",e),$r("close",e),r=a;break;case"iframe":case"object":case"embed":$r("load",e),r=a;break;case"video":case"audio":for(r=0;r<Ir.length;r++)$r(Ir[r],e);r=a;break;case"source":$r("error",e),r=a;break;case"img":case"image":case"link":$r("error",e),$r("load",e),r=a;break;case"details":$r("toggle",e),r=a;break;case"input":Ye(e,a),r=Xe(e,a),$r("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=Be({},a,{value:void 0}),$r("invalid",e);break;case"textarea":st(e,a),r=rt(e,a),$r("invalid",e)}for(s in gt(n,r),o=r)if(o.hasOwnProperty(s)){var l=o[s];"style"===s?yt(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&ht(e,l):"children"===s?"string"==typeof l?("textarea"!==n||""!==l)&&pt(e,l):"number"==typeof l&&pt(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(le.hasOwnProperty(s)?null!=l&&"onScroll"===s&&$r("scroll",e):null!=l&&be(e,s,l,i))}switch(n){case"input":He(e),et(e,a,!1);break;case"textarea":He(e),ot(e);break;case"option":null!=a.value&&e.setAttribute("value",""+We(a.value));break;case"select":e.multiple=!!a.multiple,null!=(s=a.value)?at(e,!!a.multiple,s,!1):null!=a.defaultValue&&at(e,!!a.multiple,a.defaultValue,!0);break;default:"function"==typeof r.onClick&&(e.onclick=es)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hl(t),null;case 6:if(e&&null!=t.stateNode)Dl(e,t,e.memoizedProps,a);else{if("string"!=typeof a&&null===t.stateNode)throw Error(ie(166));if(n=Qi(Gi.current),Qi(Ki.current),hi(t)){if(a=t.stateNode,n=t.memoizedProps,a[ps]=t,(s=a.nodeValue!==n)&&null!==(e=ai))switch(e.tag){case 3:Zr(a.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(a.nodeValue,n,!!(1&e.mode))}s&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[ps]=t,t.stateNode=a}return Hl(t),null;case 13:if(Os(eo),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&1&t.mode&&!(128&t.flags))pi(),mi(),t.flags|=98560,s=!1;else if(s=hi(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(ie(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(ie(317));s[ps]=t}else mi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hl(t),s=!1}else null!==ii&&(ou(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,1&t.mode&&(null===e||1&eo.current?0===Dc&&(Dc=3):vu())),null!==t.updateQueue&&(t.flags|=4),Hl(t),null);case 4:return Yi(),Ml(e,t),null===e&&qr(t.stateNode.containerInfo),Hl(t),null;case 10:return Pi(t.type._context),Hl(t),null;case 19:if(Os(eo),null===(s=t.memoizedState))return Hl(t),null;if(a=!!(128&t.flags),null===(i=s.rendering))if(a)Kl(s,!1);else{if(0!==Dc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=to(e))){for(t.flags|=128,Kl(s,!1),null!==(a=i.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(s=n).flags&=14680066,null===(i=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cs(eo,1&eo.current|2),t.child}e=e.sibling}null!==s.tail&&Jt()>qc&&(t.flags|=128,a=!0,Kl(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=to(i))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Kl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!i.alternate&&!si)return Hl(t),null}else 2*Jt()-s.renderingStartTime>qc&&1073741824!==n&&(t.flags|=128,a=!0,Kl(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=s.last)?n.sibling=i:t.child=i,s.last=i)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Jt(),t.sibling=null,n=eo.current,Cs(eo,a?1&n|2:1&n),t):(Hl(t),null);case 22:case 23:return hu(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&1&t.mode?!!(1073741824&Mc)&&(Hl(t),6&t.subtreeFlags&&(t.flags|=8192)):Hl(t),null;case 24:case 25:return null}throw Error(ie(156,t.tag))}function Ql(e,t){switch(ni(t),t.tag){case 1:return Ms(t.type)&&Rs(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yi(),Os(_s),Os(Es),ao(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Os(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(ie(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Os(eo),null;case 4:return Yi(),null;case 10:return Pi(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Tl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ml=function(){},Rl=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,Qi(Ki.current);var s,i=null;switch(n){case"input":r=Xe(e,r),a=Xe(e,a),i=[];break;case"select":r=Be({},r,{value:void 0}),a=Be({},a,{value:void 0}),i=[];break;case"textarea":r=rt(e,r),a=rt(e,a),i=[];break;default:"function"!=typeof r.onClick&&"function"==typeof a.onClick&&(e.onclick=es)}for(c in gt(n,a),n=null,r)if(!a.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var o=r[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(le.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in a){var l=a[c];if(o=null!=r?r[c]:void 0,a.hasOwnProperty(c)&&l!==o&&(null!=l||null!=o))if("style"===c)if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(i=i||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(i=i||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(le.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&$r("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Dl=function(e,t,n,a){n!==a&&(t.flags|=4)};var Xl=!1,Yl=!1,Jl="function"==typeof WeakSet?WeakSet:Set,Zl=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(a){ku(e,t,a)}else n.current=null}function tc(e,t,n){try{n()}catch(a){ku(e,t,a)}}var nc=!1;function ac(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&tc(t,n,s)}r=r.next}while(r!==a)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ic(e){var t=e.alternate;null!==t&&(e.alternate=null,ic(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ps],delete t[ms],delete t[vs],delete t[ys],delete t[xs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oc(e){return 5===e.tag||3===e.tag||4===e.tag}function lc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||oc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=es));else if(4!==a&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function uc(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var dc=null,hc=!1;function pc(e,t,n){for(n=n.child;null!==n;)mc(e,t,n),n=n.sibling}function mc(e,t,n){if(on&&"function"==typeof on.onCommitFiberUnmount)try{on.onCommitFiberUnmount(sn,n)}catch(o){}switch(n.tag){case 5:Yl||ec(n,t);case 6:var a=dc,r=hc;dc=null,pc(e,t,n),hc=r,null!==(dc=a)&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dc.removeChild(n.stateNode));break;case 18:null!==dc&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?cs(e.parentNode,n):1===e.nodeType&&cs(e,n),Vn(e)):cs(dc,n.stateNode));break;case 4:a=dc,r=hc,dc=n.stateNode.containerInfo,hc=!0,pc(e,t,n),dc=a,hc=r;break;case 0:case 11:case 14:case 15:if(!Yl&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var s=r,i=s.destroy;s=s.tag,void 0!==i&&(2&s||4&s)&&tc(n,t,i),r=r.next}while(r!==a)}pc(e,t,n);break;case 1:if(!Yl&&(ec(n,t),"function"==typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(o){ku(n,t,o)}pc(e,t,n);break;case 21:pc(e,t,n);break;case 22:1&n.mode?(Yl=(a=Yl)||null!==n.memoizedState,pc(e,t,n),Yl=a):pc(e,t,n);break;default:pc(e,t,n)}}function fc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jl),t.forEach(function(t){var a=Eu.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function vc(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var s=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:dc=o.stateNode,hc=!1;break e;case 3:case 4:dc=o.stateNode.containerInfo,hc=!0;break e}o=o.return}if(null===dc)throw Error(ie(160));mc(s,i,r),dc=null,hc=!1;var l=r.alternate;null!==l&&(l.return=null),r.return=null}catch(c){ku(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yc(t,e),t=t.sibling}function yc(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vc(t,e),xc(e),4&a){try{ac(3,e,e.return),rc(3,e)}catch(f){ku(e,e.return,f)}try{ac(5,e,e.return)}catch(f){ku(e,e.return,f)}}break;case 1:vc(t,e),xc(e),512&a&&null!==n&&ec(n,n.return);break;case 5:if(vc(t,e),xc(e),512&a&&null!==n&&ec(n,n.return),32&e.flags){var r=e.stateNode;try{pt(r,"")}catch(f){ku(e,e.return,f)}}if(4&a&&null!=(r=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===s.type&&null!=s.name&&Je(r,s),bt(o,i);var c=bt(o,s);for(i=0;i<l.length;i+=2){var u=l[i],d=l[i+1];"style"===u?yt(r,d):"dangerouslySetInnerHTML"===u?ht(r,d):"children"===u?pt(r,d):be(r,u,d,c)}switch(o){case"input":Ze(r,s);break;case"textarea":it(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?at(r,!!s.multiple,p,!1):h!==!!s.multiple&&(null!=s.defaultValue?at(r,!!s.multiple,s.defaultValue,!0):at(r,!!s.multiple,s.multiple?[]:"",!1))}r[ms]=s}catch(f){ku(e,e.return,f)}}break;case 6:if(vc(t,e),xc(e),4&a){if(null===e.stateNode)throw Error(ie(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(f){ku(e,e.return,f)}}break;case 3:if(vc(t,e),xc(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Vn(t.containerInfo)}catch(f){ku(e,e.return,f)}break;case 4:default:vc(t,e),xc(e);break;case 13:vc(t,e),xc(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Uc=Jt())),4&a&&fc(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Yl=(c=Yl)||u,vc(t,e),Yl=c):vc(t,e),xc(e),8192&a){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&1&e.mode)for(Zl=e,u=e.child;null!==u;){for(d=Zl=u;null!==Zl;){switch(p=(h=Zl).child,h.tag){case 0:case 11:case 14:case 15:ac(4,h,h.return);break;case 1:ec(h,h.return);var m=h.stateNode;if("function"==typeof m.componentWillUnmount){a=h,n=h.return;try{t=a,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(f){ku(a,n,f)}}break;case 5:ec(h,h.return);break;case 22:if(null!==h.memoizedState){Nc(d);continue}}null!==p?(p.return=h,Zl=p):Nc(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{r=d.stateNode,c?"function"==typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(o=d.stateNode,i=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=vt("display",i))}catch(f){ku(e,e.return,f)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(f){ku(e,e.return,f)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vc(t,e),xc(e),4&a&&fc(e);case 21:}}function xc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(oc(n)){var a=n;break e}n=n.return}throw Error(ie(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(pt(r,""),a.flags&=-33),uc(e,lc(e),r);break;case 3:case 4:var s=a.stateNode.containerInfo;cc(e,lc(e),s);break;default:throw Error(ie(161))}}catch(i){ku(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gc(e,t,n){Zl=e,bc(e)}function bc(e,t,n){for(var a=!!(1&e.mode);null!==Zl;){var r=Zl,s=r.child;if(22===r.tag&&a){var i=null!==r.memoizedState||Xl;if(!i){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Yl;o=Xl;var c=Yl;if(Xl=i,(Yl=l)&&!c)for(Zl=r;null!==Zl;)l=(i=Zl).child,22===i.tag&&null!==i.memoizedState?wc(r):null!==l?(l.return=i,Zl=l):wc(r);for(;null!==s;)Zl=s,bc(s),s=s.sibling;Zl=r,Xl=o,Yl=c}jc(e)}else 8772&r.subtreeFlags&&null!==s?(s.return=r,Zl=s):jc(e)}}function jc(e){for(;null!==Zl;){var t=Zl;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Yl||rc(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Yl)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:al(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Vi(t,s,a);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vi(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Vn(d)}}}break;default:throw Error(ie(163))}Yl||512&t.flags&&sc(t)}catch(h){ku(t,t.return,h)}}if(t===e){Zl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zl=n;break}Zl=t.return}}function Nc(e){for(;null!==Zl;){var t=Zl;if(t===e){Zl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zl=n;break}Zl=t.return}}function wc(e){for(;null!==Zl;){var t=Zl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(l){ku(t,n,l)}break;case 1:var a=t.stateNode;if("function"==typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(l){ku(t,r,l)}}var s=t.return;try{sc(t)}catch(l){ku(t,s,l)}break;case 5:var i=t.return;try{sc(t)}catch(l){ku(t,i,l)}}}catch(l){ku(t,t.return,l)}if(t===e){Zl=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zl=o;break}Zl=t.return}}var Sc,kc=Math.ceil,Oc=je.ReactCurrentDispatcher,Cc=je.ReactCurrentOwner,Pc=je.ReactCurrentBatchConfig,Ec=0,_c=null,Ac=null,Tc=0,Mc=0,Rc=ks(0),Dc=0,Ic=null,Lc=0,Bc=0,Fc=0,$c=null,zc=null,Uc=0,qc=1/0,Vc=null,Wc=!1,Kc=null,Hc=null,Gc=!1,Qc=null,Xc=0,Yc=0,Jc=null,Zc=-1,eu=0;function tu(){return 6&Ec?Jt():-1!==Zc?Zc:Zc=Jt()}function nu(e){return 1&e.mode?2&Ec&&0!==Tc?Tc&-Tc:null!==vi.transition?(0===eu&&(eu=yn()),eu):0!==(e=jn)?e:e=void 0===(e=window.event)?16:Jn(e.type):1}function au(e,t,n,a){if(50<Yc)throw Yc=0,Jc=null,Error(ie(185));gn(e,n,a),2&Ec&&e===_c||(e===_c&&(!(2&Ec)&&(Bc|=n),4===Dc&&lu(e,Tc)),ru(e,a),1===n&&0===Ec&&!(1&t.mode)&&(qc=Jt()+500,$s&&qs()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-ln(s),o=1<<i,l=r[i];-1===l?0!==(o&n)&&0===(o&a)||(r[i]=fn(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var a=mn(e,e===_c?Tc:0);if(0===a)null!==n&&Qt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Qt(n),1===t)0===e.tag?function(e){$s=!0,Us(e)}(cu.bind(null,e)):Us(cu.bind(null,e)),os(function(){!(6&Ec)&&qs()}),n=null;else{switch(Nn(a)){case 1:n=en;break;case 4:n=tn;break;case 16:default:n=nn;break;case 536870912:n=rn}n=_u(n,su.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function su(e,t){if(Zc=-1,eu=0,6&Ec)throw Error(ie(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var a=mn(e,e===_c?Tc:0);if(0===a)return null;if(30&a||0!==(a&e.expiredLanes)||t)t=yu(e,a);else{t=a;var r=Ec;Ec|=2;var s=fu();for(_c===e&&Tc===t||(Vc=null,qc=Jt()+500,pu(e,t));;)try{gu();break}catch(o){mu(e,o)}Ci(),Oc.current=s,Ec=r,null!==Ac?t=0:(_c=null,Tc=0,t=Dc)}if(0!==t){if(2===t&&(0!==(r=vn(e))&&(a=r,t=iu(e,r))),1===t)throw n=Ic,pu(e,0),lu(e,a),ru(e,Jt()),n;if(6===t)lu(e,a);else{if(r=e.current.alternate,!(30&a||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!lr(s(),r))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)||(t=yu(e,a),2===t&&(s=vn(e),0!==s&&(a=s,t=iu(e,s))),1!==t)))throw n=Ic,pu(e,0),lu(e,a),ru(e,Jt()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(ie(345));case 2:case 5:Nu(e,zc,Vc);break;case 3:if(lu(e,a),(130023424&a)===a&&10<(t=Uc+500-Jt())){if(0!==mn(e,0))break;if(((r=e.suspendedLanes)&a)!==a){tu(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=rs(Nu.bind(null,e,zc,Vc),t);break}Nu(e,zc,Vc);break;case 4:if(lu(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var i=31-ln(a);s=1<<i,(i=t[i])>r&&(r=i),a&=~s}if(a=r,10<(a=(120>(a=Jt()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*kc(a/1960))-a)){e.timeoutHandle=rs(Nu.bind(null,e,zc,Vc),a);break}Nu(e,zc,Vc);break;default:throw Error(ie(329))}}}return ru(e,Jt()),e.callbackNode===n?su.bind(null,e):null}function iu(e,t){var n=$c;return e.current.memoizedState.isDehydrated&&(pu(e,t).flags|=256),2!==(e=yu(e,t))&&(t=zc,zc=n,null!==t&&ou(t)),e}function ou(e){null===zc?zc=e:zc.push.apply(zc,e)}function lu(e,t){for(t&=~Fc,t&=~Bc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ln(t),a=1<<n;e[n]=-1,t&=~a}}function cu(e){if(6&Ec)throw Error(ie(327));wu();var t=mn(e,0);if(!(1&t))return ru(e,Jt()),null;var n=yu(e,t);if(0!==e.tag&&2===n){var a=vn(e);0!==a&&(t=a,n=iu(e,a))}if(1===n)throw n=Ic,pu(e,0),lu(e,t),ru(e,Jt()),n;if(6===n)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nu(e,zc,Vc),ru(e,Jt()),null}function uu(e,t){var n=Ec;Ec|=1;try{return e(t)}finally{0===(Ec=n)&&(qc=Jt()+500,$s&&qs())}}function du(e){null!==Qc&&0===Qc.tag&&!(6&Ec)&&wu();var t=Ec;Ec|=1;var n=Pc.transition,a=jn;try{if(Pc.transition=null,jn=1,e)return e()}finally{jn=a,Pc.transition=n,!(6&(Ec=t))&&qs()}}function hu(){Mc=Rc.current,Os(Rc)}function pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Ac)for(n=Ac.return;null!==n;){var a=n;switch(ni(a),a.tag){case 1:null!=(a=a.type.childContextTypes)&&Rs();break;case 3:Yi(),Os(_s),Os(Es),ao();break;case 5:Zi(a);break;case 4:Yi();break;case 13:case 19:Os(eo);break;case 10:Pi(a.type._context);break;case 22:case 23:hu()}n=n.return}if(_c=e,Ac=e=Ru(e.current,null),Tc=Mc=t,Dc=0,Ic=null,Fc=Bc=Lc=0,zc=$c=null,null!==Ti){for(t=0;t<Ti.length;t++)if(null!==(a=(n=Ti[t]).interleaved)){n.interleaved=null;var r=a.next,s=n.pending;if(null!==s){var i=s.next;s.next=r,a.next=i}n.pending=a}Ti=null}return e}function mu(e,t){for(;;){var n=Ac;try{if(Ci(),ro.current=Zo,uo){for(var a=oo.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}uo=!1}if(io=0,co=lo=oo=null,ho=!1,po=0,Cc.current=null,null===n||null===n.return){Dc=1,Ic=t,Ac=null;break}e:{var s=e,i=n.return,o=n,l=t;if(t=Tc,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,u=o,d=u.tag;if(!(1&u.mode||0!==d&&11!==d&&15!==d)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=yl(i);if(null!==p){p.flags&=-257,xl(p,i,o,0,t),1&p.mode&&vl(s,c,t),l=c;var m=(t=p).updateQueue;if(null===m){var f=new Set;f.add(l),t.updateQueue=f}else m.add(l);break e}if(!(1&t)){vl(s,c,t),vu();break e}l=Error(ie(426))}else if(si&&1&o.mode){var v=yl(i);if(null!==v){!(65536&v.flags)&&(v.flags|=256),xl(v,i,o,0,t),fi(ul(l,o));break e}}s=l=ul(l,o),4!==Dc&&(Dc=2),null===$c?$c=[s]:$c.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,ml(0,l,t));break e;case 1:o=l;var y=s.type,x=s.stateNode;if(!(128&s.flags||"function"!=typeof y.getDerivedStateFromError&&(null===x||"function"!=typeof x.componentDidCatch||null!==Hc&&Hc.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,fl(s,o,t));break e}}s=s.return}while(null!==s)}ju(n)}catch(g){t=g,Ac===n&&null!==n&&(Ac=n=n.return);continue}break}}function fu(){var e=Oc.current;return Oc.current=Zo,null===e?Zo:e}function vu(){0!==Dc&&3!==Dc&&2!==Dc||(Dc=4),null===_c||!(268435455&Lc)&&!(268435455&Bc)||lu(_c,Tc)}function yu(e,t){var n=Ec;Ec|=2;var a=fu();for(_c===e&&Tc===t||(Vc=null,pu(e,t));;)try{xu();break}catch(r){mu(e,r)}if(Ci(),Ec=n,Oc.current=a,null!==Ac)throw Error(ie(261));return _c=null,Tc=0,Dc}function xu(){for(;null!==Ac;)bu(Ac)}function gu(){for(;null!==Ac&&!Xt();)bu(Ac)}function bu(e){var t=Sc(e.alternate,e,Mc);e.memoizedProps=e.pendingProps,null===t?ju(e):Ac=t,Cc.current=null}function ju(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ql(n,t)))return n.flags&=32767,void(Ac=n);if(null===e)return Dc=6,void(Ac=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Gl(n,t,Mc)))return void(Ac=n);if(null!==(t=t.sibling))return void(Ac=t);Ac=t=e}while(null!==t);0===Dc&&(Dc=5)}function Nu(e,t,n){var a=jn,r=Pc.transition;try{Pc.transition=null,jn=1,function(e,t,n,a){do{wu()}while(null!==Qc);if(6&Ec)throw Error(ie(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ln(n),s=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~s}}(e,s),e===_c&&(Ac=_c=null,Tc=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Gc||(Gc=!0,_u(nn,function(){return wu(),null})),s=!!(15990&n.flags),!!(15990&n.subtreeFlags)||s){s=Pc.transition,Pc.transition=null;var i=jn;jn=1;var o=Ec;Ec|=4,Cc.current=null,function(e,t){if(ts=Kn,mr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(b){n=null;break e}var i=0,o=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(o=i+r),d!==s||0!==a&&3!==d.nodeType||(l=i+a),3===d.nodeType&&(i+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===r&&(o=i),h===s&&++u===a&&(l=i),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===o||-1===l?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ns={focusedElem:e,selectionRange:n},Kn=!1,Zl=t;null!==Zl;)if(e=(t=Zl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Zl=e;else for(;null!==Zl;){t=Zl;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var f=m.memoizedProps,v=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:al(t.type,f),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var g=t.stateNode.containerInfo;1===g.nodeType?g.textContent="":9===g.nodeType&&g.documentElement&&g.removeChild(g.documentElement);break;default:throw Error(ie(163))}}catch(b){ku(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Zl=e;break}Zl=t.return}m=nc,nc=!1}(e,n),yc(n,e),fr(ns),Kn=!!ts,ns=ts=null,e.current=n,gc(n),Yt(),Ec=o,jn=i,Pc.transition=s}else e.current=n;if(Gc&&(Gc=!1,Qc=e,Xc=r),s=e.pendingLanes,0===s&&(Hc=null),function(e){if(on&&"function"==typeof on.onCommitFiberRoot)try{on.onCommitFiberRoot(sn,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),ru(e,Jt()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Wc)throw Wc=!1,e=Kc,Kc=null,e;!!(1&Xc)&&0!==e.tag&&wu(),s=e.pendingLanes,1&s?e===Jc?Yc++:(Yc=0,Jc=e):Yc=0,qs()}(e,t,n,a)}finally{Pc.transition=r,jn=a}return null}function wu(){if(null!==Qc){var e=Nn(Xc),t=Pc.transition,n=jn;try{if(Pc.transition=null,jn=16>e?16:e,null===Qc)var a=!1;else{if(e=Qc,Qc=null,Xc=0,6&Ec)throw Error(ie(331));var r=Ec;for(Ec|=4,Zl=e.current;null!==Zl;){var s=Zl,i=s.child;if(16&Zl.flags){var o=s.deletions;if(null!==o){for(var l=0;l<o.length;l++){var c=o[l];for(Zl=c;null!==Zl;){var u=Zl;switch(u.tag){case 0:case 11:case 15:ac(8,u,s)}var d=u.child;if(null!==d)d.return=u,Zl=d;else for(;null!==Zl;){var h=(u=Zl).sibling,p=u.return;if(ic(u),u===c){Zl=null;break}if(null!==h){h.return=p,Zl=h;break}Zl=p}}}var m=s.alternate;if(null!==m){var f=m.child;if(null!==f){m.child=null;do{var v=f.sibling;f.sibling=null,f=v}while(null!==f)}}Zl=s}}if(2064&s.subtreeFlags&&null!==i)i.return=s,Zl=i;else e:for(;null!==Zl;){if(2048&(s=Zl).flags)switch(s.tag){case 0:case 11:case 15:ac(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Zl=y;break e}Zl=s.return}}var x=e.current;for(Zl=x;null!==Zl;){var g=(i=Zl).child;if(2064&i.subtreeFlags&&null!==g)g.return=i,Zl=g;else e:for(i=x;null!==Zl;){if(2048&(o=Zl).flags)try{switch(o.tag){case 0:case 11:case 15:rc(9,o)}}catch(j){ku(o,o.return,j)}if(o===i){Zl=null;break e}var b=o.sibling;if(null!==b){b.return=o.return,Zl=b;break e}Zl=o.return}}if(Ec=r,qs(),on&&"function"==typeof on.onPostCommitFiberRoot)try{on.onPostCommitFiberRoot(sn,e)}catch(j){}a=!0}return a}finally{jn=n,Pc.transition=t}}return!1}function Su(e,t,n){e=$i(e,t=ml(0,t=ul(n,t),1),1),t=tu(),null!==e&&(gn(e,1,t),ru(e,t))}function ku(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Hc||!Hc.has(a))){t=$i(t,e=fl(t,e=ul(n,e),1),1),e=tu(),null!==t&&(gn(t,1,e),ru(t,e));break}}t=t.return}}function Ou(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,_c===e&&(Tc&n)===n&&(4===Dc||3===Dc&&(130023424&Tc)===Tc&&500>Jt()-Uc?pu(e,0):Fc|=n),ru(e,t)}function Cu(e,t){0===t&&(1&e.mode?(t=hn,!(130023424&(hn<<=1))&&(hn=4194304)):t=1);var n=tu();null!==(e=Di(e,t))&&(gn(e,t,n),ru(e,n))}function Pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Eu(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(ie(314))}null!==a&&a.delete(t),Cu(e,n)}function _u(e,t){return Gt(e,t)}function Au(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tu(e,t,n,a){return new Au(e,t,n,a)}function Mu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Tu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,a,r,s){var i=2;if(a=e,"function"==typeof e)Mu(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case Se:return Iu(n.children,r,s,t);case ke:i=8,r|=8;break;case Oe:return(e=Tu(12,n,t,2|r)).elementType=Oe,e.lanes=s,e;case _e:return(e=Tu(13,n,t,r)).elementType=_e,e.lanes=s,e;case Ae:return(e=Tu(19,n,t,r)).elementType=Ae,e.lanes=s,e;case Re:return Lu(n,r,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ce:i=10;break e;case Pe:i=9;break e;case Ee:i=11;break e;case Te:i=14;break e;case Me:i=16,a=null;break e}throw Error(ie(130,null==e?e:typeof e,""))}return(t=Tu(i,n,t,r)).elementType=e,t.type=a,t.lanes=s,t}function Iu(e,t,n,a){return(e=Tu(7,e,a,t)).lanes=n,e}function Lu(e,t,n,a){return(e=Tu(22,e,a,t)).elementType=Re,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return(e=Tu(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Tu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xn(0),this.expirationTimes=xn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,a,r,s,i,o,l){return e=new $u(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(s),e}function Uu(e){if(!e)return Ps;e:{if(qt(e=e._reactInternals)!==e||1!==e.tag)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ms(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(ie(171))}if(1===e.tag){var n=e.type;if(Ms(n))return Is(e,n,t)}return t}function qu(e,t,n,a,r,s,i,o,l){return(e=zu(n,a,!0,e,0,s,0,o,l)).context=Uu(null),n=e.current,(s=Fi(a=tu(),r=nu(n))).callback=null!=t?t:null,$i(n,s,r),e.current.lanes=r,gn(e,r,a),ru(e,a),e}function Vu(e,t,n,a){var r=t.current,s=tu(),i=nu(r);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(s,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=$i(r,t,i))&&(au(e,r,i,s),zi(e,r,i)),i}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ku(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hu(e,t){Ku(e,t),(e=e.alternate)&&Ku(e,t)}Sc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_s.current)bl=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:_l(t),mi();break;case 5:Ji(t);break;case 1:Ms(t.type)&&Ls(t);break;case 4:Xi(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Cs(wi,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Cs(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bl(e,t,n):(Cs(eo,1&eo.current),null!==(e=Wl(e,t,n))?e.sibling:null);Cs(eo,1&eo.current);break;case 19:if(a=0!==(n&t.childLanes),128&e.flags){if(a)return ql(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cs(eo,eo.current),a)break;return null;case 22:case 23:return t.lanes=0,kl(e,t,n)}return Wl(e,t,n)}(e,t,n);bl=!!(131072&e.flags)}else bl=!1,si&&1048576&t.flags&&ei(t,Hs,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Vl(e,t),e=t.pendingProps;var r=Ts(t,Es.current);_i(t,n),r=yo(null,t,a,e,r,n);var s=xo();return t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ms(a)?(s=!0,Ls(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Li(t),r.updater=sl,t.stateNode=r,r._reactInternals=t,cl(t,a,e,n),t=El(null,t,a,!0,s,n)):(t.tag=0,si&&s&&ti(t),jl(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Vl(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"==typeof e)return Mu(e)?1:0;if(null!=e){if((e=e.$$typeof)===Ee)return 11;if(e===Te)return 14}return 2}(a),e=al(a,e),r){case 0:t=Cl(null,t,a,e,n);break e;case 1:t=Pl(null,t,a,e,n);break e;case 11:t=Nl(null,t,a,e,n);break e;case 14:t=wl(null,t,a,al(a.type,e),n);break e}throw Error(ie(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,Cl(e,t,a,r=t.elementType===a?r:al(a,r),n);case 1:return a=t.type,r=t.pendingProps,Pl(e,t,a,r=t.elementType===a?r:al(a,r),n);case 3:e:{if(_l(t),null===e)throw Error(ie(387));a=t.pendingProps,r=(s=t.memoizedState).element,Bi(e,t),qi(t,a,null,n);var i=t.memoizedState;if(a=i.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Al(e,t,a,n,r=ul(Error(ie(423)),t));break e}if(a!==r){t=Al(e,t,a,n,r=ul(Error(ie(424)),t));break e}for(ri=us(t.stateNode.containerInfo.firstChild),ai=t,si=!0,ii=null,n=Ni(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),a===r){t=Wl(e,t,n);break e}jl(e,t,a,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ui(t),a=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,i=r.children,as(a,r)?i=null:null!==s&&as(a,s)&&(t.flags|=32),Ol(e,t),jl(e,t,i,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Bl(e,t,n);case 4:return Xi(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ji(t,null,a,n):jl(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,Nl(e,t,a,r=t.elementType===a?r:al(a,r),n);case 7:return jl(e,t,t.pendingProps,n),t.child;case 8:case 12:return jl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,s=t.memoizedProps,i=r.value,Cs(wi,a._currentValue),a._currentValue=i,null!==s)if(lr(s.value,i)){if(s.children===r.children&&!_s.current){t=Wl(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){i=s.child;for(var l=o.firstContext;null!==l;){if(l.context===a){if(1===s.tag){(l=Fi(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ei(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(ie(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),Ei(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}jl(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,_i(t,n),a=a(r=Ai(r)),t.flags|=1,jl(e,t,a,n),t.child;case 14:return r=al(a=t.type,t.pendingProps),wl(e,t,a,r=al(a.type,r),n);case 15:return Sl(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:al(a,r),Vl(e,t),t.tag=1,Ms(a)?(e=!0,Ls(t)):e=!1,_i(t,n),ol(t,a,r),cl(t,a,r,n),El(null,t,a,!0,e,n);case 19:return ql(e,t,n);case 22:return kl(e,t,n)}throw Error(ie(156,t.tag))};var Gu="function"==typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ed(e,t,n,a,r){var s=n._reactRootContainer;if(s){var i=s;if("function"==typeof r){var o=r;r=function(){var e=Wu(i);o.call(e)}}Vu(t,i,e,r)}else i=function(e,t,n,a,r){if(r){if("function"==typeof a){var s=a;a=function(){var e=Wu(i);s.call(e)}}var i=qu(t,a,e,0,null,!1,0,"",Zu);return e._reactRootContainer=i,e[fs]=i.current,qr(8===e.nodeType?e.parentNode:e),du(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"==typeof a){var o=a;a=function(){var e=Wu(l);o.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[fs]=l.current,qr(8===e.nodeType?e.parentNode:e),du(function(){Vu(t,l,n,a)}),l}(n,t,e,r,a);return Wu(i)}Xu.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(ie(409));Vu(e,t,null,null)},Xu.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du(function(){Vu(null,e,null,null)}),t[fs]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=On();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&0!==t&&t<Dn[n].priority;n++);Dn.splice(n,0,e),0===n&&Fn(e)}},wn=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pn(t.pendingLanes);0!==n&&(bn(t,1|n),ru(t,Jt()),!(6&Ec)&&(qc=Jt()+500,qs()))}break;case 13:du(function(){var t=Di(e,1);if(null!==t){var n=tu();au(t,e,1,n)}}),Hu(e,1)}},Sn=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)au(t,e,134217728,tu());Hu(e,134217728)}},kn=function(e){if(13===e.tag){var t=nu(e),n=Di(e,t);if(null!==n)au(n,e,t,tu());Hu(e,t)}},On=function(){return jn},Cn=function(e,t){var n=jn;try{return jn=e,t()}finally{jn=n}},wt=function(e,t,n){switch(t){case"input":if(Ze(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=Ns(a);if(!r)throw Error(ie(90));Ge(a),Ze(a,r)}}}break;case"textarea":it(e,n);break;case"select":null!=(t=n.value)&&at(e,!!n.multiple,t,!1)}},Et=uu,_t=du;var td={usingClientEntryPoint:!1,Events:[bs,js,Ns,Ct,Pt,uu]},nd={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:je.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Kt(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{sn=rd.inject(ad),on=rd}catch(dt){}}ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,ee.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(ie(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:we,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},ee.createRoot=function(e,t){if(!Yu(e))throw Error(ie(299));var n=!1,a="",r=Gu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,a,r),e[fs]=t.current,qr(8===e.nodeType?e.parentNode:e),new Qu(t)},ee.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(ie(188));throw e=Object.keys(e).join(","),Error(ie(268,e))}return e=null===(e=Kt(t))?null:e.stateNode},ee.flushSync=function(e){return du(e)},ee.hydrate=function(e,t,n){if(!Ju(t))throw Error(ie(200));return ed(null,e,t,!0,n)},ee.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(ie(405));var a=null!=n&&n.hydratedSources||null,r=!1,s="",i=Gu;if(null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=qu(t,null,e,1,null!=n?n:null,r,0,s,i),e[fs]=t.current,qr(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Xu(t)},ee.render=function(e,t,n){if(!Ju(t))throw Error(ie(200));return ed(null,e,t,!1,n)},ee.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(ie(40));return!!e._reactRootContainer&&(du(function(){ed(null,null,e,!1,function(){e._reactRootContainer=null,e[fs]=null})}),!0)},ee.unstable_batchedUpdates=uu,ee.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Ju(n))throw Error(ie(200));if(null==e||void 0===e._reactInternals)throw Error(ie(38));return ed(e,t,n,!1,a)},ee.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),Z.exports=ee;var sd,id,od=Z.exports;
/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ld.apply(this,arguments)}J.createRoot=od.createRoot,J.hydrateRoot=od.hydrateRoot,(id=sd||(sd={})).Pop="POP",id.Push="PUSH",id.Replace="REPLACE";const cd="popstate";function ud(e){return void 0===e&&(e={}),function(e,t,n,a){void 0===a&&(a={});let{window:r=document.defaultView,v5Compat:s=!1}=a,i=r.history,o=sd.Pop,l=null,c=u();null==c&&(c=0,i.replaceState(ld({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function d(){o=sd.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:f.location,delta:t})}function h(e,t){o=sd.Push;let n=md(f.location,e,t);c=u()+1;let a=pd(n,c),d=f.createHref(n);try{i.pushState(a,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;r.location.assign(d)}s&&l&&l({action:o,location:f.location,delta:1})}function p(e,t){o=sd.Replace;let n=md(f.location,e,t);c=u();let a=pd(n,c),r=f.createHref(n);i.replaceState(a,"",r),s&&l&&l({action:o,location:f.location,delta:0})}function m(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"==typeof e?e:fd(e);return n=n.replace(/ $/,"%20"),dd(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let f={get action(){return o},get location(){return e(r,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(cd,d),l=e,()=>{r.removeEventListener(cd,d),l=null}},createHref:e=>t(r,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:p,go:e=>i.go(e)};return f}(function(e,t){let{pathname:n,search:a,hash:r}=e.location;return md("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:fd(t)},0,e)}function dd(e,t){if(!1===e||null==e)throw new Error(t)}function hd(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function pd(e,t){return{usr:e.state,key:e.key,idx:t}}function md(e,t,n,a){return void 0===n&&(n=null),ld({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?vd(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function fd(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function vd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}var yd,xd;function gd(e,t,n){return void 0===n&&(n="/"),function(e,t,n){let a="string"==typeof t?vd(t):t,r=Md(a.pathname||"/",n);if(null==r)return null;let s=bd(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=Td(r);i=_d(s[o],e)}return i}(e,t,n)}function bd(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let r=(e,r,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(dd(i.relativePath.startsWith(a),'Absolute route path "'+i.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(a.length));let o=$d([a,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(dd(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),bd(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:Ed(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of jd(e.path))r(e,t,a);else r(e,t)}),t}function jd(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===a.length)return r?[s,""]:[s];let i=jd(a.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),r&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}(xd=yd||(yd={})).data="data",xd.deferred="deferred",xd.redirect="redirect",xd.error="error";const Nd=/^:[\w-]+$/,wd=3,Sd=2,kd=1,Od=10,Cd=-2,Pd=e=>"*"===e;function Ed(e,t){let n=e.split("/"),a=n.length;return n.some(Pd)&&(a+=Cd),t&&(a+=Sd),n.filter(e=>!Pd(e)).reduce((e,t)=>e+(Nd.test(t)?wd:""===t?kd:Od),a)}function _d(e,t,n){let{routesMeta:a}=e,r={},s="/",i=[];for(let o=0;o<a.length;++o){let e=a[o],n=o===a.length-1,l="/"===s?t:t.slice(s.length)||"/",c=Ad({path:e.relativePath,caseSensitive:e.caseSensitive,end:n},l),u=e.route;if(!c)return null;Object.assign(r,c.params),i.push({params:r,pathname:$d([s,c.pathname]),pathnameBase:zd($d([s,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(s=$d([s,c.pathnameBase]))}return i}function Ad(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);hd("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,a]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],i=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[a]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function Td(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return hd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Md(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}const Rd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Dd(e,t){void 0===t&&(t="/");let n,{pathname:a,search:r="",hash:s=""}="string"==typeof e?vd(e):e;if(a)if(i=a,Rd.test(i))n=a;else{if(a.includes("//")){let e=a;a=a.replace(/\/\/+/g,"/"),hd(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+a)}n=a.startsWith("/")?Id(a.substring(1),"/"):Id(a,t)}else n=t;var i;return{pathname:n,search:Ud(r),hash:qd(s)}}function Id(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function Ld(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Bd(e,t){let n=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function Fd(e,t,n,a){let r;void 0===a&&(a=!1),"string"==typeof e?r=vd(e):(r=ld({},e),dd(!r.pathname||!r.pathname.includes("?"),Ld("?","pathname","search",r)),dd(!r.pathname||!r.pathname.includes("#"),Ld("#","pathname","hash",r)),dd(!r.search||!r.search.includes("#"),Ld("#","search","hash",r)));let s,i=""===e||""===r.pathname,o=i?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=Dd(r,s),c=o&&"/"!==o&&o.endsWith("/"),u=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const $d=e=>e.join("/").replace(/\/\/+/g,"/"),zd=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ud=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",qd=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const Vd=["post","put","patch","delete"];new Set(Vd);const Wd=["get",...Vd];
/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kd.apply(this,arguments)}new Set(Wd);const Hd=z.createContext(null),Gd=z.createContext(null),Qd=z.createContext(null),Xd=z.createContext(null),Yd=z.createContext({outlet:null,matches:[],isDataRoute:!1}),Jd=z.createContext(null);function Zd(){return null!=z.useContext(Xd)}function eh(){return Zd()||dd(!1),z.useContext(Xd).location}function th(e){z.useContext(Qd).static||z.useLayoutEffect(e)}function nh(){let{isDataRoute:e}=z.useContext(Yd);return e?function(){let{router:e}=function(){let e=z.useContext(Hd);return e||dd(!1),e}(dh.UseNavigateStable),t=ph(hh.UseNavigateStable),n=z.useRef(!1);return th(()=>{n.current=!0}),z.useCallback(function(a,r){void 0===r&&(r={}),n.current&&("number"==typeof a?e.navigate(a):e.navigate(a,Kd({fromRouteId:t},r)))},[e,t])}():function(){Zd()||dd(!1);let e=z.useContext(Hd),{basename:t,future:n,navigator:a}=z.useContext(Qd),{matches:r}=z.useContext(Yd),{pathname:s}=eh(),i=JSON.stringify(Bd(r,n.v7_relativeSplatPath)),o=z.useRef(!1);return th(()=>{o.current=!0}),z.useCallback(function(n,r){if(void 0===r&&(r={}),!o.current)return;if("number"==typeof n)return void a.go(n);let l=Fd(n,JSON.parse(i),s,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:$d([t,l.pathname])),(r.replace?a.replace:a.push)(l,r.state,r)},[t,a,i,s,e])}()}const ah=z.createContext(null);function rh(){let{matches:e}=z.useContext(Yd),t=e[e.length-1];return t?t.params:{}}function sh(e,t){let{relative:n}=void 0===t?{}:t,{future:a}=z.useContext(Qd),{matches:r}=z.useContext(Yd),{pathname:s}=eh(),i=JSON.stringify(Bd(r,a.v7_relativeSplatPath));return z.useMemo(()=>Fd(e,JSON.parse(i),s,"path"===n),[e,i,s,n])}function ih(e,t){return function(e,t,n,a){Zd()||dd(!1);let{navigator:r}=z.useContext(Qd),{matches:s}=z.useContext(Yd),i=s[s.length-1],o=i?i.params:{};!i||i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c,u=eh();if(t){var d;let e="string"==typeof t?vd(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||dd(!1),c=e}else c=u;let h=c.pathname||"/",p=h;if("/"!==l){let e=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=gd(e,{pathname:p}),f=function(e,t,n,a){var r;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===a&&(a=null);if(null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=a)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,o=null==(r=n)?void 0:r.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||dd(!1),i=i.slice(0,Math.min(i.length,e+1))}let l=!1,c=-1;if(n&&a&&a.v7_partialHydration)for(let u=0;u<i.length;u++){let e=i[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=u),e.route.id){let{loaderData:t,errors:a}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){l=!0,i=c>=0?i.slice(0,c+1):[i[0]];break}}}return i.reduceRight((e,a,r)=>{let s,u=!1,d=null,h=null;var p;n&&(s=o&&a.route.id?o[a.route.id]:void 0,d=a.route.errorElement||lh,l&&(c<0&&0===r?(mh[p="route-fallback"]||(mh[p]=!0),u=!0,h=null):c===r&&(u=!0,h=a.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,r+1)),f=()=>{let t;return t=s?d:u?h:a.route.Component?z.createElement(a.route.Component,null):a.route.element?a.route.element:e,z.createElement(uh,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===r)?z.createElement(ch,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:$d([l,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:$d([l,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,a);if(t&&f)return z.createElement(Xd.Provider,{value:{location:Kd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:sd.Pop}},f);return f}(e,t)}function oh(){let e=function(){var e;let t=z.useContext(Jd),n=function(){let e=z.useContext(Gd);return e||dd(!1),e}(),a=ph();if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),n?z.createElement("pre",{style:a},n):null,null)}const lh=z.createElement(oh,null);class ch extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?z.createElement(Yd.Provider,{value:this.props.routeContext},z.createElement(Jd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uh(e){let{routeContext:t,match:n,children:a}=e,r=z.useContext(Hd);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(Yd.Provider,{value:t},a)}var dh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dh||{}),hh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hh||{});function ph(e){let t=function(){let e=z.useContext(Yd);return e||dd(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||dd(!1),n.route.id}const mh={};function fh(e){let{to:t,replace:n,state:a,relative:r}=e;Zd()||dd(!1);let{future:s,static:i}=z.useContext(Qd),{matches:o}=z.useContext(Yd),{pathname:l}=eh(),c=nh(),u=Fd(t,Bd(o,s.v7_relativeSplatPath),l,"path"===r),d=JSON.stringify(u);return z.useEffect(()=>c(JSON.parse(d),{replace:n,state:a,relative:r}),[c,d,r,n,a]),null}function vh(e){return function(e){let t=z.useContext(Yd).outlet;return t?z.createElement(ah.Provider,{value:e},t):t}(e.context)}function yh(e){dd(!1)}function xh(e){let{basename:t="/",children:n=null,location:a,navigationType:r=sd.Pop,navigator:s,static:i=!1,future:o}=e;Zd()&&dd(!1);let l=t.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:l,navigator:s,static:i,future:Kd({v7_relativeSplatPath:!1},o)}),[l,o,s,i]);"string"==typeof a&&(a=vd(a));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=a,f=z.useMemo(()=>{let e=Md(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:m},navigationType:r}},[l,u,d,h,p,m,r]);return null==f?null:z.createElement(Qd.Provider,{value:c},z.createElement(Xd.Provider,{children:n,value:f}))}function gh(e){let{children:t,location:n}=e;return ih(bh(t),n)}function bh(e,t){void 0===t&&(t=[]);let n=[];return z.Children.forEach(e,(e,a)=>{if(!z.isValidElement(e))return;let r=[...t,a];if(e.type===z.Fragment)return void n.push.apply(n,bh(e.props.children,r));e.type!==yh&&dd(!1),e.props.index&&e.props.children&&dd(!1);let s={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=bh(e.props.children,r)),n.push(s)}),n}
/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jh.apply(this,arguments)}new Promise(()=>{});const Nh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(CH){}const wh=q.startTransition;function Sh(e){let{basename:t,children:n,future:a,window:r}=e,s=z.useRef();null==s.current&&(s.current=ud({window:r,v5Compat:!0}));let i=s.current,[o,l]=z.useState({action:i.action,location:i.location}),{v7_startTransition:c}=a||{},u=z.useCallback(e=>{c&&wh?wh(()=>l(e)):l(e)},[l,c]);return z.useLayoutEffect(()=>i.listen(u),[i,u]),z.useEffect(()=>{return null==(e=a)||e.v7_startTransition,void(null==e||e.v7_relativeSplatPath);var e},[a]),z.createElement(xh,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:a})}const kh="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Oh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ch=z.forwardRef(function(e,t){let n,{onClick:a,relative:r,reloadDocument:s,replace:i,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Nh),{basename:p}=z.useContext(Qd),m=!1;if("string"==typeof c&&Oh.test(c)&&(n=c,kh))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=Md(t.pathname,p);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:m=!0}catch(CH){}let f=function(e,t){let{relative:n}=void 0===t?{}:t;Zd()||dd(!1);let{basename:a,navigator:r}=z.useContext(Qd),{hash:s,pathname:i,search:o}=sh(e,{relative:n}),l=i;return"/"!==a&&(l="/"===i?a:$d([a,i])),r.createHref({pathname:l,search:o,hash:s})}(c,{relative:r}),v=function(e,t){let{target:n,replace:a,state:r,preventScrollReset:s,relative:i,viewTransition:o}=void 0===t?{}:t,l=nh(),c=eh(),u=sh(e,{relative:i});return z.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==a?a:fd(c)===fd(u);l(e,{replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,a,r,n,e,s,i,o])}(c,{replace:i,state:o,target:l,preventScrollReset:u,relative:r,viewTransition:d});return z.createElement("a",jh({},h,{href:n||f,onClick:m||s?a:function(e){a&&a(e),e.defaultPrevented||v(e)},ref:t,target:l}))});var Ph,Eh,_h,Ah;(Eh=Ph||(Ph={})).UseScrollRestoration="useScrollRestoration",Eh.UseSubmit="useSubmit",Eh.UseSubmitFetcher="useSubmitFetcher",Eh.UseFetcher="useFetcher",Eh.useViewTransitionState="useViewTransitionState",(Ah=_h||(_h={})).UseFetcher="useFetcher",Ah.UseFetchers="useFetchers",Ah.UseScrollRestoration="useScrollRestoration";const Th={},Mh=e=>{let t;const n=new Set,a=(e,a)=>{const r="function"==typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=a?a:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,s={setState:a,getState:r,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{"production"!==(Th?"production":void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(a,r,s);return s};var Rh={exports:{}},Dh={},Ih={exports:{}},Lh={},Bh=z;var Fh="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},$h=Bh.useState,zh=Bh.useEffect,Uh=Bh.useLayoutEffect,qh=Bh.useDebugValue;function Vh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fh(e,n)}catch(a){return!0}}var Wh="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),a=$h({inst:{value:n,getSnapshot:t}}),r=a[0].inst,s=a[1];return Uh(function(){r.value=n,r.getSnapshot=t,Vh(r)&&s({inst:r})},[e,n,t]),zh(function(){return Vh(r)&&s({inst:r}),e(function(){Vh(r)&&s({inst:r})})},[e]),qh(n),n};Lh.useSyncExternalStore=void 0!==Bh.useSyncExternalStore?Bh.useSyncExternalStore:Wh,Ih.exports=Lh;var Kh=Ih.exports,Hh=z,Gh=Kh;
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Xh=Gh.useSyncExternalStore,Yh=Hh.useRef,Jh=Hh.useEffect,Zh=Hh.useMemo,ep=Hh.useDebugValue;Dh.useSyncExternalStoreWithSelector=function(e,t,n,a,r){var s=Yh(null);if(null===s.current){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=Zh(function(){function e(e){if(!l){if(l=!0,s=e,e=a(e),void 0!==r&&i.hasValue){var t=i.value;if(r(t,e))return o=t}return o=e}if(t=o,Qh(s,e))return t;var n=a(e);return void 0!==r&&r(t,n)?(s=e,t):(s=e,o=n)}var s,o,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,a,r]);var o=Xh(e,s[0],s[1]);return Jh(function(){i.hasValue=!0,i.value=o},[o]),ep(o),o},Rh.exports=Dh;const tp=n(Rh.exports),np={},{useDebugValue:ap}=U,{useSyncExternalStoreWithSelector:rp}=tp;let sp=!1;const ip=e=>e;const op=e=>{"production"!==(np?"production":void 0)&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?Mh(e):Mh)(e):e,n=(e,n)=>function(e,t=ip,n){"production"!==(np?"production":void 0)&&n&&!sp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),sp=!0);const a=rp(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ap(a),a}(t,e,n);return Object.assign(n,t),n},lp=e=>e?op(e):op;function cp(e,t){return function(){return e.apply(t,arguments)}}const{toString:up}=Object.prototype,{getPrototypeOf:dp}=Object,{iterator:hp,toStringTag:pp}=Symbol,mp=(e=>t=>{const n=up.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fp=e=>(e=e.toLowerCase(),t=>mp(t)===e),vp=e=>t=>typeof t===e,{isArray:yp}=Array,xp=vp("undefined");function gp(e){return null!==e&&!xp(e)&&null!==e.constructor&&!xp(e.constructor)&&Np(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const bp=fp("ArrayBuffer");const jp=vp("string"),Np=vp("function"),wp=vp("number"),Sp=e=>null!==e&&"object"==typeof e,kp=e=>{if("object"!==mp(e))return!1;const t=dp(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||pp in e||hp in e)},Op=fp("Date"),Cp=fp("File"),Pp=fp("Blob"),Ep=fp("FileList"),_p=fp("URLSearchParams"),[Ap,Tp,Mp,Rp]=["ReadableStream","Request","Response","Headers"].map(fp);function Dp(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let a,r;if("object"!=typeof e&&(e=[e]),yp(e))for(a=0,r=e.length;a<r;a++)t.call(null,e[a],a,e);else{if(gp(e))return;const r=n?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let i;for(a=0;a<s;a++)i=r[a],t.call(null,e[i],i,e)}}function Ip(e,t){if(gp(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,r=n.length;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Lp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Bp=e=>!xp(e)&&e!==Lp;const Fp=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&dp(Uint8Array)),$p=fp("HTMLFormElement"),zp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Up=fp("RegExp"),qp=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};Dp(n,(n,r)=>{let s;!1!==(s=t(n,r,e))&&(a[r]=s||n)}),Object.defineProperties(e,a)};const Vp=fp("AsyncFunction"),Wp=(Kp="function"==typeof setImmediate,Hp=Np(Lp.postMessage),Kp?setImmediate:Hp?(Gp=`axios@${Math.random()}`,Qp=[],Lp.addEventListener("message",({source:e,data:t})=>{e===Lp&&t===Gp&&Qp.length&&Qp.shift()()},!1),e=>{Qp.push(e),Lp.postMessage(Gp,"*")}):e=>setTimeout(e));var Kp,Hp,Gp,Qp;const Xp="undefined"!=typeof queueMicrotask?queueMicrotask.bind(Lp):"undefined"!=typeof process&&process.nextTick||Wp,Yp={isArray:yp,isArrayBuffer:bp,isBuffer:gp,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Np(e.append)&&("formdata"===(t=mp(e))||"object"===t&&Np(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&bp(e.buffer),t},isString:jp,isNumber:wp,isBoolean:e=>!0===e||!1===e,isObject:Sp,isPlainObject:kp,isEmptyObject:e=>{if(!Sp(e)||gp(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(CH){return!1}},isReadableStream:Ap,isRequest:Tp,isResponse:Mp,isHeaders:Rp,isUndefined:xp,isDate:Op,isFile:Cp,isBlob:Pp,isRegExp:Up,isFunction:Np,isStream:e=>Sp(e)&&Np(e.pipe),isURLSearchParams:_p,isTypedArray:Fp,isFileList:Ep,forEach:Dp,merge:function e(){const{caseless:t,skipUndefined:n}=Bp(this)&&this||{},a={},r=(r,s)=>{const i=t&&Ip(a,s)||s;kp(a[i])&&kp(r)?a[i]=e(a[i],r):kp(r)?a[i]=e({},r):yp(r)?a[i]=r.slice():n&&xp(r)||(a[i]=r)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Dp(arguments[s],r);return a},extend:(e,t,n,{allOwnKeys:a}={})=>(Dp(t,(t,a)=>{n&&Np(t)?Object.defineProperty(e,a,{value:cp(t,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,a,{value:t,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:a}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let r,s,i;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)i=r[s],a&&!a(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==n&&dp(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:mp,kindOfTest:fp,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(yp(e))return e;let t=e.length;if(!wp(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[hp]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:$p,hasOwnProperty:zp,hasOwnProp:zp,reduceDescriptors:qp,freezeMethods:e=>{qp(e,(t,n)=>{if(Np(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];Np(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return yp(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Ip,global:Lp,isContextDefined:Bp,isSpecCompliantForm:function(e){return!!(e&&Np(e.append)&&"FormData"===e[pp]&&e[hp])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(Sp(e)){if(t.indexOf(e)>=0)return;if(gp(e))return e;if(!("toJSON"in e)){t[a]=e;const r=yp(e)?[]:{};return Dp(e,(e,t)=>{const s=n(e,a+1);!xp(s)&&(r[t]=s)}),t[a]=void 0,r}}return e};return n(e,0)},isAsyncFn:Vp,isThenable:e=>e&&(Sp(e)||Np(e))&&Np(e.then)&&Np(e.catch),setImmediate:Wp,asap:Xp,isIterable:e=>null!=e&&Np(e[hp])};let Jp=class e extends Error{static from(t,n,a,r,s,i){const o=new e(t.message,n||t.code,a,r,s);return o.cause=t,o.name=t.name,i&&Object.assign(o,i),o}constructor(e,t,n,a,r){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Yp.toJSONObject(this.config),code:this.code,status:this.status}}};Jp.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",Jp.ERR_BAD_OPTION="ERR_BAD_OPTION",Jp.ECONNABORTED="ECONNABORTED",Jp.ETIMEDOUT="ETIMEDOUT",Jp.ERR_NETWORK="ERR_NETWORK",Jp.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",Jp.ERR_DEPRECATED="ERR_DEPRECATED",Jp.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",Jp.ERR_BAD_REQUEST="ERR_BAD_REQUEST",Jp.ERR_CANCELED="ERR_CANCELED",Jp.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",Jp.ERR_INVALID_URL="ERR_INVALID_URL";function Zp(e){return Yp.isPlainObject(e)||Yp.isArray(e)}function em(e){return Yp.endsWith(e,"[]")?e.slice(0,-2):e}function tm(e,t,n){return e?e.concat(t).map(function(e,t){return e=em(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const nm=Yp.toFlatObject(Yp,{},null,function(e){return/^is[A-Z]/.test(e)});function am(e,t,n){if(!Yp.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=Yp.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Yp.isUndefined(t[e])})).metaTokens,r=n.visitor||c,s=n.dots,i=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Yp.isSpecCompliantForm(t);if(!Yp.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Yp.isDate(e))return e.toISOString();if(Yp.isBoolean(e))return e.toString();if(!o&&Yp.isBlob(e))throw new Jp("Blob is not supported. Use a Buffer instead.");return Yp.isArrayBuffer(e)||Yp.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let o=e;if(e&&!r&&"object"==typeof e)if(Yp.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(Yp.isArray(e)&&function(e){return Yp.isArray(e)&&!e.some(Zp)}(e)||(Yp.isFileList(e)||Yp.endsWith(n,"[]"))&&(o=Yp.toArray(e)))return n=em(n),o.forEach(function(e,a){!Yp.isUndefined(e)&&null!==e&&t.append(!0===i?tm([n],a,s):null===i?n:n+"[]",l(e))}),!1;return!!Zp(e)||(t.append(tm(r,n,s),l(e)),!1)}const u=[],d=Object.assign(nm,{defaultVisitor:c,convertValue:l,isVisitable:Zp});if(!Yp.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!Yp.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+a.join("."));u.push(n),Yp.forEach(n,function(n,s){!0===(!(Yp.isUndefined(n)||null===n)&&r.call(t,n,Yp.isString(s)?s.trim():s,a,d))&&e(n,a?a.concat(s):[s])}),u.pop()}}(e),t}function rm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function sm(e,t){this._pairs=[],e&&am(e,this,t)}const im=sm.prototype;function om(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lm(e,t,n){if(!t)return e;const a=n&&n.encode||om,r=Yp.isFunction(n)?{serialize:n}:n,s=r&&r.serialize;let i;if(i=s?s(t,r):Yp.isURLSearchParams(t)?t.toString():new sm(t,r).toString(a),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}im.append=function(e,t){this._pairs.push([e,t])},im.toString=function(e){const t=e?function(t){return e.call(this,t,rm)}:rm;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class cm{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Yp.forEach(this.handlers,function(t){null!==t&&e(t)})}}const um={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dm={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:sm,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},hm="undefined"!=typeof window&&"undefined"!=typeof document,pm="object"==typeof navigator&&navigator||void 0,mm=hm&&(!pm||["ReactNative","NativeScript","NS"].indexOf(pm.product)<0),fm="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,vm=hm&&window.location.href||"http://localhost",ym={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hm,hasStandardBrowserEnv:mm,hasStandardBrowserWebWorkerEnv:fm,navigator:pm,origin:vm},Symbol.toStringTag,{value:"Module"})),...dm};function xm(e){function t(e,n,a,r){let s=e[r++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=r>=e.length;if(s=!s&&Yp.isArray(a)?a.length:s,o)return Yp.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!i;a[s]&&Yp.isObject(a[s])||(a[s]=[]);return t(e,n,a[s],r)&&Yp.isArray(a[s])&&(a[s]=function(e){const t={},n=Object.keys(e);let a;const r=n.length;let s;for(a=0;a<r;a++)s=n[a],t[s]=e[s];return t}(a[s])),!i}if(Yp.isFormData(e)&&Yp.isFunction(e.entries)){const n={};return Yp.forEachEntry(e,(e,a)=>{t(function(e){return Yp.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null}const gm={transitional:um,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,r=Yp.isObject(e);r&&Yp.isHTMLForm(e)&&(e=new FormData(e));if(Yp.isFormData(e))return a?JSON.stringify(xm(e)):e;if(Yp.isArrayBuffer(e)||Yp.isBuffer(e)||Yp.isStream(e)||Yp.isFile(e)||Yp.isBlob(e)||Yp.isReadableStream(e))return e;if(Yp.isArrayBufferView(e))return e.buffer;if(Yp.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return am(e,new ym.classes.URLSearchParams,{visitor:function(e,t,n,a){return ym.isNode&&Yp.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((s=Yp.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return am(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e,t,n){if(Yp.isString(e))try{return(t||JSON.parse)(e),Yp.trim(e)}catch(CH){if("SyntaxError"!==CH.name)throw CH}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||gm.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(Yp.isResponse(e)||Yp.isReadableStream(e))return e;if(e&&Yp.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(CH){if(n){if("SyntaxError"===CH.name)throw Jp.from(CH,Jp.ERR_BAD_RESPONSE,this,null,this.response);throw CH}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ym.classes.FormData,Blob:ym.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Yp.forEach(["delete","get","head","post","put","patch"],e=>{gm.headers[e]={}});const bm=Yp.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jm=Symbol("internals");function Nm(e){return e&&String(e).trim().toLowerCase()}function wm(e){return!1===e||null==e?e:Yp.isArray(e)?e.map(wm):String(e)}function Sm(e,t,n,a,r){return Yp.isFunction(a)?a.call(this,t,n):(r&&(t=n),Yp.isString(t)?Yp.isString(a)?-1!==t.indexOf(a):Yp.isRegExp(a)?a.test(t):void 0:void 0)}let km=class{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function r(e,t,n){const r=Nm(t);if(!r)throw new Error("header name must be a non-empty string");const s=Yp.findKey(a,r);(!s||void 0===a[s]||!0===n||void 0===n&&!1!==a[s])&&(a[s||t]=wm(e))}const s=(e,t)=>Yp.forEach(e,(e,n)=>r(e,n,t));if(Yp.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Yp.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,a,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!n||t[n]&&bm[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(Yp.isObject(e)&&Yp.isIterable(e)){let n,a,r={};for(const t of e){if(!Yp.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[a=t[0]]=(n=r[a])?Yp.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Nm(e)){const n=Yp.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(Yp.isFunction(t))return t.call(this,e,n);if(Yp.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Nm(e)){const n=Yp.findKey(this,e);return!(!n||void 0===this[n]||t&&!Sm(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function r(e){if(e=Nm(e)){const r=Yp.findKey(n,e);!r||t&&!Sm(0,n[r],r,t)||(delete n[r],a=!0)}}return Yp.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const r=t[n];e&&!Sm(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,n={};return Yp.forEach(this,(a,r)=>{const s=Yp.findKey(n,r);if(s)return t[s]=wm(a),void delete t[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();i!==r&&delete t[r],t[i]=wm(a),n[i]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Yp.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&Yp.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[jm]=this[jm]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=Nm(e);t[a]||(!function(e,t){const n=Yp.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,r){return this[a].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[a]=!0)}return Yp.isArray(e)?e.forEach(a):a(e),this}};function Om(e,t){const n=this||gm,a=t||n,r=km.from(a.headers);let s=a.data;return Yp.forEach(e,function(e){s=e.call(n,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function Cm(e){return!(!e||!e.__CANCEL__)}km.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Yp.reduceDescriptors(km.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),Yp.freezeMethods(km);let Pm=class extends Jp{constructor(e,t,n){super(null==e?"canceled":e,Jp.ERR_CANCELED,t,n),this.name="CanceledError",this.__CANCEL__=!0}};function Em(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new Jp("Request failed with status code "+n.status,[Jp.ERR_BAD_REQUEST,Jp.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const _m=(e,t,n=3)=>{let a=0;const r=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[i];r||(r=l),n[s]=o,a[s]=l;let u=i,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-r<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let n,a,r=0,s=1e3/t;const i=(t,s=Date.now())=>{r=s,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[(...e)=>{const t=Date.now(),o=t-r;o>=s?i(e,t):(n=e,a||(a=setTimeout(()=>{a=null,i(n)},s-o)))},()=>n&&i(n)]}(n=>{const s=n.loaded,i=n.lengthComputable?n.total:void 0,o=s-a,l=r(o);a=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},Am=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},Tm=e=>(...t)=>Yp.asap(()=>e(...t)),Mm=ym.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ym.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ym.origin),ym.navigator&&/(msie|trident)/i.test(ym.navigator.userAgent)):()=>!0,Rm=ym.hasStandardBrowserEnv?{write(e,t,n,a,r,s,i){if("undefined"==typeof document)return;const o=[`${e}=${encodeURIComponent(t)}`];Yp.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),Yp.isString(a)&&o.push(`path=${a}`),Yp.isString(r)&&o.push(`domain=${r}`),!0===s&&o.push("secure"),Yp.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function Dm(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Im=e=>e instanceof km?{...e}:e;function Lm(e,t){t=t||{};const n={};function a(e,t,n,a){return Yp.isPlainObject(e)&&Yp.isPlainObject(t)?Yp.merge.call({caseless:a},e,t):Yp.isPlainObject(t)?Yp.merge({},t):Yp.isArray(t)?t.slice():t}function r(e,t,n,r){return Yp.isUndefined(t)?Yp.isUndefined(e)?void 0:a(void 0,e,0,r):a(e,t,0,r)}function s(e,t){if(!Yp.isUndefined(t))return a(void 0,t)}function i(e,t){return Yp.isUndefined(t)?Yp.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(n,r,s){return s in t?a(n,r):s in e?a(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>r(Im(e),Im(t),0,!0)};return Yp.forEach(Object.keys({...e,...t}),function(a){const s=l[a]||r,i=s(e[a],t[a],a);Yp.isUndefined(i)&&s!==o||(n[a]=i)}),n}const Bm=e=>{const t=Lm({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:s,headers:i,auth:o}=t;if(t.headers=i=km.from(i),t.url=lm(Dm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Yp.isFormData(n))if(ym.hasStandardBrowserEnv||ym.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Yp.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&i.set(e,n)})}if(ym.hasStandardBrowserEnv&&(a&&Yp.isFunction(a)&&(a=a(t)),a||!1!==a&&Mm(t.url))){const e=r&&s&&Rm.read(s);e&&i.set(r,e)}return t},Fm="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=Bm(e);let r=a.data;const s=km.from(a.headers).normalize();let i,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=a;function m(){c&&c(),u&&u(),a.cancelToken&&a.cancelToken.unsubscribe(i),a.signal&&a.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function v(){if(!f)return;const a=km.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Em(function(e){t(e),m()},function(e){n(e),m()},{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:a,config:e,request:f}),f=null}f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout,"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(v)},f.onabort=function(){f&&(n(new Jp("Request aborted",Jp.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const a=t&&t.message?t.message:"Network Error",r=new Jp(a,Jp.ERR_NETWORK,e,f);r.event=t||null,n(r),f=null},f.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const r=a.transitional||um;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new Jp(t,r.clarifyTimeoutError?Jp.ETIMEDOUT:Jp.ECONNABORTED,e,f)),f=null},void 0===r&&s.setContentType(null),"setRequestHeader"in f&&Yp.forEach(s.toJSON(),function(e,t){f.setRequestHeader(t,e)}),Yp.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),d&&"json"!==d&&(f.responseType=a.responseType),p&&([l,u]=_m(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=_m(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(i=t=>{f&&(n(!t||t.type?new Pm(null,e,f):t),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(i),a.signal&&(a.signal.aborted?i():a.signal.addEventListener("abort",i)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);y&&-1===ym.protocols.indexOf(y)?n(new Jp("Unsupported protocol "+y+":",Jp.ERR_BAD_REQUEST,e)):f.send(r||null)})},$m=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const r=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;a.abort(t instanceof Jp?t:new Pm(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,r(new Jp(`timeout of ${t}ms exceeded`,Jp.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=a;return o.unsubscribe=()=>Yp.asap(i),o}},zm=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let a,r=0;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},Um=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},qm=(e,t,n,a)=>{const r=async function*(e,t){for await(const n of Um(e))yield*zm(n,t)}(e,t);let s,i=0,o=e=>{s||(s=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return o(),void e.close();let s=a.byteLength;if(n){let e=i+=s;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},{isFunction:Vm}=Yp,Wm=(({Request:e,Response:t})=>({Request:e,Response:t}))(Yp.global),{ReadableStream:Km,TextEncoder:Hm}=Yp.global,Gm=(e,...t)=>{try{return!!e(...t)}catch(CH){return!1}},Qm=e=>{e=Yp.merge.call({skipUndefined:!0},Wm,e);const{fetch:t,Request:n,Response:a}=e,r=t?Vm(t):"function"==typeof fetch,s=Vm(n),i=Vm(a);if(!r)return!1;const o=r&&Vm(Km),l=r&&("function"==typeof Hm?(e=>t=>e.encode(t))(new Hm):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=s&&o&&Gm(()=>{let e=!1;const t=new n(ym.origin,{body:new Km,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&o&&Gm(()=>Yp.isReadableStream(new a("").body)),d={stream:u&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!d[e]&&(d[e]=(t,n)=>{let a=t&&t[e];if(a)return a.call(t);throw new Jp(`Response type '${e}' is not supported`,Jp.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const a=Yp.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(Yp.isBlob(e))return e.size;if(Yp.isSpecCompliantForm(e)){const t=new n(ym.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Yp.isArrayBufferView(e)||Yp.isArrayBuffer(e)?e.byteLength:(Yp.isURLSearchParams(e)&&(e+=""),Yp.isString(e)?(await l(e)).byteLength:void 0)})(t):a};return async e=>{let{url:r,method:i,data:o,signal:l,cancelToken:p,timeout:m,onDownloadProgress:f,onUploadProgress:v,responseType:y,headers:x,withCredentials:g="same-origin",fetchOptions:b}=Bm(e),j=t||fetch;y=y?(y+"").toLowerCase():"text";let N=$m([l,p&&p.toAbortSignal()],m),w=null;const S=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let k;try{if(v&&c&&"get"!==i&&"head"!==i&&0!==(k=await h(x,o))){let e,t=new n(r,{method:"POST",body:o,duplex:"half"});if(Yp.isFormData(o)&&(e=t.headers.get("content-type"))&&x.setContentType(e),t.body){const[e,n]=Am(k,_m(Tm(v)));o=qm(t.body,65536,e,n)}}Yp.isString(g)||(g=g?"include":"omit");const t=s&&"credentials"in n.prototype,l={...b,signal:N,method:i.toUpperCase(),headers:x.normalize().toJSON(),body:o,duplex:"half",credentials:t?g:void 0};w=s&&new n(r,l);let p=await(s?j(w,b):j(r,l));const m=u&&("stream"===y||"response"===y);if(u&&(f||m&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=p[t]});const t=Yp.toFiniteNumber(p.headers.get("content-length")),[n,r]=f&&Am(t,_m(Tm(f),!0))||[];p=new a(qm(p.body,65536,n,()=>{r&&r(),S&&S()}),e)}y=y||"text";let O=await d[Yp.findKey(d,y)||"text"](p,e);return!m&&S&&S(),await new Promise((t,n)=>{Em(t,n,{data:O,headers:km.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:w})})}catch(O){if(S&&S(),O&&"TypeError"===O.name&&/Load failed|fetch/i.test(O.message))throw Object.assign(new Jp("Network Error",Jp.ERR_NETWORK,e,w),{cause:O.cause||O});throw Jp.from(O,O&&O.code,e,w)}}},Xm=new Map,Ym=e=>{let t=e&&e.env||{};const{fetch:n,Request:a,Response:r}=t,s=[a,r,n];let i,o,l=s.length,c=Xm;for(;l--;)i=s[l],o=c.get(i),void 0===o&&c.set(i,o=l?new Map:Qm(t)),c=o;return o};Ym();const Jm={http:null,xhr:Fm,fetch:{get:Ym}};Yp.forEach(Jm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(CH){}Object.defineProperty(e,"adapterName",{value:t})}});const Zm=e=>`- ${e}`,ef=e=>Yp.isFunction(e)||null===e||!1===e;const tf={getAdapter:function(e,t){e=Yp.isArray(e)?e:[e];const{length:n}=e;let a,r;const s={};for(let i=0;i<n;i++){let n;if(a=e[i],r=a,!ef(a)&&(r=Jm[(n=String(a)).toLowerCase()],void 0===r))throw new Jp(`Unknown adapter '${n}'`);if(r&&(Yp.isFunction(r)||(r=r.get(t))))break;s[n||"#"+i]=r}if(!r){const e=Object.entries(s).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));let t=n?e.length>1?"since :\n"+e.map(Zm).join("\n"):" "+Zm(e[0]):"as no adapter specified";throw new Jp("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r},adapters:Jm};function nf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pm(null,e)}function af(e){nf(e),e.headers=km.from(e.headers),e.data=Om.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return tf.getAdapter(e.adapter||gm.adapter,e)(e).then(function(t){return nf(e),t.data=Om.call(e,e.transformResponse,t),t.headers=km.from(t.headers),t},function(t){return Cm(t)||(nf(e),t&&t.response&&(t.response.data=Om.call(e,e.transformResponse,t.response),t.response.headers=km.from(t.response.headers))),Promise.reject(t)})}const rf="1.13.4",sf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{sf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const of={};sf.transitional=function(e,t,n){function a(e,t){return"[Axios v"+rf+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,s)=>{if(!1===e)throw new Jp(a(r," has been removed"+(t?" in "+t:"")),Jp.ERR_DEPRECATED);return t&&!of[r]&&(of[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},sf.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const lf={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Jp("options must be an object",Jp.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const s=a[r],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new Jp("option "+s+" must be "+n,Jp.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Jp("Unknown option "+s,Jp.ERR_BAD_OPTION)}},validators:sf},cf=lf.validators;let uf=class{constructor(e){this.defaults=e||{},this.interceptors={request:new cm,response:new cm}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(CH){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Lm(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:r}=t;void 0!==n&&lf.assertOptions(n,{silentJSONParsing:cf.transitional(cf.boolean),forcedJSONParsing:cf.transitional(cf.boolean),clarifyTimeoutError:cf.transitional(cf.boolean)},!1),null!=a&&(Yp.isFunction(a)?t.paramsSerializer={serialize:a}:lf.assertOptions(a,{encode:cf.function,serialize:cf.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),lf.assertOptions(t,{baseUrl:cf.spelling("baseURL"),withXsrfToken:cf.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=r&&Yp.merge(r.common,r[t.method]);r&&Yp.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=km.concat(s,r);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[af.bind(this),void 0];for(e.unshift(...i),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let h=t;for(;d<u;){const e=i[d++],t=i[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=af.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return lm(Dm((e=Lm(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};Yp.forEach(["delete","get","head","options"],function(e){uf.prototype[e]=function(t,n){return this.request(Lm(n||{},{method:e,url:t,data:(n||{}).data}))}}),Yp.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,r){return this.request(Lm(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}uf.prototype[e]=t(),uf.prototype[e+"Form"]=t(!0)});const df={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(df).forEach(([e,t])=>{df[t]=e});const hf=function e(t){const n=new uf(t),a=cp(uf.prototype.request,n);return Yp.extend(a,uf.prototype,n,{allOwnKeys:!0}),Yp.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(Lm(t,n))},a}(gm);hf.Axios=uf,hf.CanceledError=Pm,hf.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,r){n.reason||(n.reason=new Pm(e,a,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},hf.isCancel=Cm,hf.VERSION=rf,hf.toFormData=am,hf.AxiosError=Jp,hf.Cancel=hf.CanceledError,hf.all=function(e){return Promise.all(e)},hf.spread=function(e){return function(t){return e.apply(null,t)}},hf.isAxiosError=function(e){return Yp.isObject(e)&&!0===e.isAxiosError},hf.mergeConfig=Lm,hf.AxiosHeaders=km,hf.formToJSON=e=>xm(Yp.isHTMLForm(e)?new FormData(e):e),hf.getAdapter=tf.getAdapter,hf.HttpStatusCode=df,hf.default=hf;const{Axios:pf,AxiosError:mf,CanceledError:ff,isCancel:vf,CancelToken:yf,VERSION:xf,all:gf,Cancel:bf,isAxiosError:jf,spread:Nf,toFormData:wf,AxiosHeaders:Sf,HttpStatusCode:kf,formToJSON:Of,getAdapter:Cf,mergeConfig:Pf}=hf,Ef=hf.create({baseURL:"http://localhost:3011/api",timeout:1e4});Ef.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),Ef.interceptors.response.use(e=>e,e=>{var t;return 401===(null==(t=e.response)?void 0:t.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const _f=lp(e=>({token:null,user:null,loading:!1,error:null,loadToken:()=>{const t=localStorage.getItem("token"),n=localStorage.getItem("user");t&&n&&e({token:t,user:JSON.parse(n)})},login:async(t,n)=>{var a,r;e({loading:!0,error:null});try{const a=await Ef.post("/auth/login",{email:t,password:n}),{data:r,token:s,user:i}=a.data,o=s||(null==r?void 0:r.token),l=i||(null==r?void 0:r.user);if(!o||!l)throw new Error("Invalid response format: missing token or user");return localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(l)),e({token:o,user:l,loading:!1}),!0}catch(s){const t=(null==(r=null==(a=s.response)?void 0:a.data)?void 0:r.error)||s.message||"Login failed";return e({error:t,loading:!1}),!1}},register:async t=>{var n,a;e({loading:!0,error:null});try{const n=await Ef.post("/auth/register",t),{data:a,token:r,user:s}=n.data,i=r||(null==a?void 0:a.token),o=s||(null==a?void 0:a.user);if(!i||!o)throw new Error("Invalid response format: missing token or user");return localStorage.setItem("token",i),localStorage.setItem("user",JSON.stringify(o)),e({token:i,user:o,loading:!1}),!0}catch(r){const t=(null==(a=null==(n=r.response)?void 0:n.data)?void 0:a.error)||r.message||"Registration failed";return e({error:t,loading:!1}),!1}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),e({token:null,user:null,error:null})},updateUser:t=>{e(e=>{const n={...e.user,...t};return localStorage.setItem("user",JSON.stringify(n)),{user:n}})},clearError:()=>{e({error:null})}})),Af=_f;let Tf=0;const Mf=lp((e,t)=>({toasts:[],addToast:(n,a="info",r=5e3)=>{const s=++Tf,i={id:s,message:n,type:a,duration:r};return e(e=>({toasts:[...e.toasts,i]})),r>0&&setTimeout(()=>{t().removeToast(s)},r),s},removeToast:t=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==t)}))},success:(e,n)=>t().addToast(e,"success",n),error:(e,n)=>t().addToast(e,"error",n),warning:(e,n)=>t().addToast(e,"warning",n),info:(e,n)=>t().addToast(e,"info",n),clearAll:()=>e({toasts:[]})})),Rf=(e,t)=>Mf.getState().success(e,t),Df=(e,t)=>Mf.getState().error(e,t),If=(e,t)=>Mf.getState().warning(e,t),Lf=(e,t)=>Mf.getState().info(e,t),Bf=e=>{if(!e)return"Email  obrigatrio";return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?null:"Email invlido"},Ff=(e,t=8)=>e?e.length<t?`Senha deve ter no mnimo ${t} caracteres`:null:"Senha  obrigatria",$f=(e,t)=>e?e!==t?"As senhas no conferem":null:"Confirmao de senha  obrigatria",zf=(e,t="Este campo")=>!e||"string"==typeof e&&!e.trim()?`${t}  obrigatrio`:null;function Uf(){const e=nh(),{login:t,loading:n}=_f(),[a,r]=z.useState({email:"",password:""}),[s,i]=z.useState({}),[o,l]=z.useState({}),c=e=>{const{name:t,value:n}=e.target;r(e=>({...e,[t]:n})),s[t]&&i(e=>({...e,[t]:null}))},u=e=>{const{name:t,value:n}=e.target;l(e=>({...e,[t]:!0}));let a=null;switch(t){case"email":a=Bf(n);break;case"password":a=zf(n,"Senha")}a&&i(e=>({...e,[t]:a}))},d=e=>{let t="form-input";return o[e]&&s[e]?t+=" input-error":o[e]&&a[e]&&!s[e]&&(t+=" input-success"),t};return Y.jsx("div",{className:"auth-container",children:Y.jsxs("div",{className:"auth-card",children:[Y.jsxs("div",{className:"auth-header",children:[Y.jsx("h1",{children:"Projeto SASS"}),Y.jsx("p",{children:"Dashboard com Mercado Livre"})]}),Y.jsxs("form",{onSubmit:async n=>{if(n.preventDefault(),l({email:!0,password:!0}),!(()=>{const e={},t=Bf(a.email);t&&(e.email=t);const n=zf(a.password,"Senha");return n&&(e.password=n),i(e),0===Object.keys(e).length})())return void Df("Por favor, preencha todos os campos corretamente");await t(a.email,a.password)?(Rf("Login realizado com sucesso!"),e("/")):Df("Email ou senha invlidos")},className:"auth-form",noValidate:!0,children:[Y.jsx("h2",{children:"Login"}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{className:"form-label",children:"Email"}),Y.jsx("input",{type:"email",name:"email",className:d("email"),value:a.email,onChange:c,onBlur:u,disabled:n}),o.email&&s.email&&Y.jsx("span",{className:"form-error",children:s.email})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{className:"form-label",children:"Senha"}),Y.jsx("input",{type:"password",name:"password",className:d("password"),value:a.password,onChange:c,onBlur:u,disabled:n}),o.password&&s.password&&Y.jsx("span",{className:"form-error",children:s.password})]}),Y.jsx("button",{type:"submit",className:"btn btn-primary w-full btn-lg",disabled:n,children:n?"Entrando...":"Entrar"})]}),Y.jsxs("p",{className:"auth-footer",children:["No tem conta? ",Y.jsx(Ch,{to:"/register",children:"Registre-se aqui"})]})]})})}function qf(){const e=nh(),{register:t,loading:n}=_f(),[a,r]=z.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[s,i]=z.useState({}),[o,l]=z.useState({}),c=e=>{const{name:t,value:n}=e.target;r(e=>({...e,[t]:n})),s[t]&&i(e=>({...e,[t]:null}))},u=e=>{const{name:t,value:n}=e.target;l(e=>({...e,[t]:!0}));let r=null;switch(t){case"firstName":r=zf(n,"Nome");break;case"lastName":r=zf(n,"Sobrenome");break;case"email":r=Bf(n);break;case"password":r=Ff(n);break;case"confirmPassword":r=$f(n,a.password)}r&&i(e=>({...e,[t]:r}))},d=e=>{let t="form-input";return o[e]&&s[e]?t+=" input-error":o[e]&&a[e]&&!s[e]&&(t+=" input-success"),t};return Y.jsx("div",{className:"auth-container",children:Y.jsxs("div",{className:"auth-card",children:[Y.jsxs("div",{className:"auth-header",children:[Y.jsx("h1",{children:"Projeto SASS"}),Y.jsx("p",{children:"Dashboard com Mercado Livre"})]}),Y.jsxs("form",{onSubmit:async n=>{if(n.preventDefault(),l({firstName:!0,lastName:!0,email:!0,password:!0,confirmPassword:!0}),!(()=>{const e={},t=zf(a.firstName,"Nome");t&&(e.firstName=t);const n=zf(a.lastName,"Sobrenome");n&&(e.lastName=n);const r=Bf(a.email);r&&(e.email=r);const s=Ff(a.password);s&&(e.password=s);const o=$f(a.confirmPassword,a.password);return o&&(e.confirmPassword=o),i(e),0===Object.keys(e).length})())return void Df("Por favor, corrija os erros no formulrio");await t({firstName:a.firstName,lastName:a.lastName,email:a.email,password:a.password})?(Rf("Conta criada com sucesso!"),e("/")):Df("Erro ao criar conta. Verifique os dados e tente novamente.")},className:"auth-form",noValidate:!0,children:[Y.jsx("h2",{children:"Criar Conta"}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{className:"form-label",children:"Primeiro Nome"}),Y.jsx("input",{type:"text",name:"firstName",className:d("firstName"),value:a.firstName,onChange:c,onBlur:u,disabled:n}),o.firstName&&s.firstName&&Y.jsx("span",{className:"form-error",children:s.firstName})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{className:"form-label",children:"ltimo Nome"}),Y.jsx("input",{type:"text",name:"lastName",className:d("lastName"),value:a.lastName,onChange:c,onBlur:u,disabled:n}),o.lastName&&s.lastName&&Y.jsx("span",{className:"form-error",children:s.lastName})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{className:"form-label",children:"Email"}),Y.jsx("input",{type:"email",name:"email",className:d("email"),value:a.email,onChange:c,onBlur:u,disabled:n}),o.email&&s.email&&Y.jsx("span",{className:"form-error",children:s.email})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{className:"form-label",children:"Senha"}),Y.jsx("input",{type:"password",name:"password",className:d("password"),value:a.password,onChange:c,onBlur:u,disabled:n}),o.password&&s.password&&Y.jsx("span",{className:"form-error",children:s.password}),!s.password&&Y.jsx("span",{className:"form-hint",children:"Mnimo 8 caracteres"})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{className:"form-label",children:"Confirmar Senha"}),Y.jsx("input",{type:"password",name:"confirmPassword",className:d("confirmPassword"),value:a.confirmPassword,onChange:c,onBlur:u,disabled:n}),o.confirmPassword&&s.confirmPassword&&Y.jsx("span",{className:"form-error",children:s.confirmPassword})]}),Y.jsx("button",{type:"submit",className:"btn btn-primary w-full btn-lg",disabled:n,children:n?"Criando Conta...":"Criar Conta"})]}),Y.jsxs("p",{className:"auth-footer",children:["J tem conta? ",Y.jsx(Ch,{to:"/login",children:"Faa login"})]})]})})}function Vf(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Vf(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Wf(){for(var e,t,n=0,a="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Vf(e))&&(a&&(a+=" "),a+=t);return a}var Kf=Array.isArray,Hf="object"==typeof t&&t&&t.Object===Object&&t,Gf=Hf,Qf="object"==typeof self&&self&&self.Object===Object&&self,Xf=Gf||Qf||Function("return this")(),Yf=Xf.Symbol,Jf=Yf,Zf=Object.prototype,ev=Zf.hasOwnProperty,tv=Zf.toString,nv=Jf?Jf.toStringTag:void 0;var av=function(e){var t=ev.call(e,nv),n=e[nv];try{e[nv]=void 0;var a=!0}catch(CH){}var r=tv.call(e);return a&&(t?e[nv]=n:delete e[nv]),r},rv=Object.prototype.toString;var sv=av,iv=function(e){return rv.call(e)},ov=Yf?Yf.toStringTag:void 0;var lv=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ov&&ov in Object(e)?sv(e):iv(e)};var cv=function(e){return null!=e&&"object"==typeof e},uv=lv,dv=cv;var hv=function(e){return"symbol"==typeof e||dv(e)&&"[object Symbol]"==uv(e)},pv=Kf,mv=hv,fv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vv=/^\w*$/;var yv=function(e,t){if(pv(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!mv(e))||(vv.test(e)||!fv.test(e)||null!=t&&e in Object(t))};var xv=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const gv=n(xv);var bv=lv,jv=xv;var Nv=function(e){if(!jv(e))return!1;var t=bv(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const wv=n(Nv);var Sv,kv=Xf["__core-js_shared__"],Ov=(Sv=/[^.]+$/.exec(kv&&kv.keys&&kv.keys.IE_PROTO||""))?"Symbol(src)_1."+Sv:"";var Cv=function(e){return!!Ov&&Ov in e},Pv=Function.prototype.toString;var Ev=function(e){if(null!=e){try{return Pv.call(e)}catch(CH){}try{return e+""}catch(CH){}}return""},_v=Nv,Av=Cv,Tv=xv,Mv=Ev,Rv=/^\[object .+?Constructor\]$/,Dv=Function.prototype,Iv=Object.prototype,Lv=Dv.toString,Bv=Iv.hasOwnProperty,Fv=RegExp("^"+Lv.call(Bv).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var $v=function(e){return!(!Tv(e)||Av(e))&&(_v(e)?Fv:Rv).test(Mv(e))},zv=function(e,t){return null==e?void 0:e[t]};var Uv=function(e,t){var n=zv(e,t);return $v(n)?n:void 0},qv=Uv(Object,"create"),Vv=qv;var Wv=function(){this.__data__=Vv?Vv(null):{},this.size=0};var Kv=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hv=qv,Gv=Object.prototype.hasOwnProperty;var Qv=function(e){var t=this.__data__;if(Hv){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Gv.call(t,e)?t[e]:void 0},Xv=qv,Yv=Object.prototype.hasOwnProperty;var Jv=qv;var Zv=Wv,ey=Kv,ty=Qv,ny=function(e){var t=this.__data__;return Xv?void 0!==t[e]:Yv.call(t,e)},ay=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Jv&&void 0===t?"__lodash_hash_undefined__":t,this};function ry(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}ry.prototype.clear=Zv,ry.prototype.delete=ey,ry.prototype.get=ty,ry.prototype.has=ny,ry.prototype.set=ay;var sy=ry;var iy=function(){this.__data__=[],this.size=0};var oy=function(e,t){return e===t||e!=e&&t!=t},ly=oy;var cy=function(e,t){for(var n=e.length;n--;)if(ly(e[n][0],t))return n;return-1},uy=cy,dy=Array.prototype.splice;var hy=cy;var py=cy;var my=cy;var fy=iy,vy=function(e){var t=this.__data__,n=uy(t,e);return!(n<0)&&(n==t.length-1?t.pop():dy.call(t,n,1),--this.size,!0)},yy=function(e){var t=this.__data__,n=hy(t,e);return n<0?void 0:t[n][1]},xy=function(e){return py(this.__data__,e)>-1},gy=function(e,t){var n=this.__data__,a=my(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this};function by(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}by.prototype.clear=fy,by.prototype.delete=vy,by.prototype.get=yy,by.prototype.has=xy,by.prototype.set=gy;var jy=by,Ny=Uv(Xf,"Map"),wy=sy,Sy=jy,ky=Ny;var Oy=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Cy=function(e,t){var n=e.__data__;return Oy(t)?n["string"==typeof t?"string":"hash"]:n.map},Py=Cy;var Ey=Cy;var _y=Cy;var Ay=Cy;var Ty=function(){this.size=0,this.__data__={hash:new wy,map:new(ky||Sy),string:new wy}},My=function(e){var t=Py(this,e).delete(e);return this.size-=t?1:0,t},Ry=function(e){return Ey(this,e).get(e)},Dy=function(e){return _y(this,e).has(e)},Iy=function(e,t){var n=Ay(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this};function Ly(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}Ly.prototype.clear=Ty,Ly.prototype.delete=My,Ly.prototype.get=Ry,Ly.prototype.has=Dy,Ly.prototype.set=Iy;var By=Ly,Fy=By;function $y(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var a=arguments,r=t?t.apply(this,a):a[0],s=n.cache;if(s.has(r))return s.get(r);var i=e.apply(this,a);return n.cache=s.set(r,i)||s,i};return n.cache=new($y.Cache||Fy),n}$y.Cache=Fy;var zy=$y;const Uy=n(zy);var qy=zy;var Vy=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wy=/\\(\\)?/g,Ky=function(e){var t=qy(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Vy,function(e,n,a,r){t.push(a?r.replace(Wy,"$1"):n||e)}),t});var Hy=function(e,t){for(var n=-1,a=null==e?0:e.length,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r},Gy=Hy,Qy=Kf,Xy=hv,Yy=Yf?Yf.prototype:void 0,Jy=Yy?Yy.toString:void 0;var Zy=function e(t){if("string"==typeof t)return t;if(Qy(t))return Gy(t,e)+"";if(Xy(t))return Jy?Jy.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},ex=Zy;var tx=function(e){return null==e?"":ex(e)},nx=Kf,ax=yv,rx=Ky,sx=tx;var ix=function(e,t){return nx(e)?e:ax(e,t)?[e]:rx(sx(e))},ox=hv;var lx=function(e){if("string"==typeof e||ox(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},cx=ix,ux=lx;var dx=function(e,t){for(var n=0,a=(t=cx(t,e)).length;null!=e&&n<a;)e=e[ux(t[n++])];return n&&n==a?e:void 0},hx=dx;var px=function(e,t,n){var a=null==e?void 0:hx(e,t);return void 0===a?n:a};const mx=n(px);const fx=n(function(e){return null==e});var vx=lv,yx=Kf,xx=cv;const gx=n(function(e){return"string"==typeof e||!yx(e)&&xx(e)&&"[object String]"==vx(e)});var bx,jx={exports:{}},Nx={},wx=Symbol.for("react.element"),Sx=Symbol.for("react.portal"),kx=Symbol.for("react.fragment"),Ox=Symbol.for("react.strict_mode"),Cx=Symbol.for("react.profiler"),Px=Symbol.for("react.provider"),Ex=Symbol.for("react.context"),_x=Symbol.for("react.server_context"),Ax=Symbol.for("react.forward_ref"),Tx=Symbol.for("react.suspense"),Mx=Symbol.for("react.suspense_list"),Rx=Symbol.for("react.memo"),Dx=Symbol.for("react.lazy"),Ix=Symbol.for("react.offscreen");function Lx(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case wx:switch(e=e.type){case kx:case Cx:case Ox:case Tx:case Mx:return e;default:switch(e=e&&e.$$typeof){case _x:case Ex:case Ax:case Dx:case Rx:case Px:return e;default:return t}}case Sx:return t}}}bx=Symbol.for("react.module.reference"),Nx.ContextConsumer=Ex,Nx.ContextProvider=Px,Nx.Element=wx,Nx.ForwardRef=Ax,Nx.Fragment=kx,Nx.Lazy=Dx,Nx.Memo=Rx,Nx.Portal=Sx,Nx.Profiler=Cx,Nx.StrictMode=Ox,Nx.Suspense=Tx,Nx.SuspenseList=Mx,Nx.isAsyncMode=function(){return!1},Nx.isConcurrentMode=function(){return!1},Nx.isContextConsumer=function(e){return Lx(e)===Ex},Nx.isContextProvider=function(e){return Lx(e)===Px},Nx.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===wx},Nx.isForwardRef=function(e){return Lx(e)===Ax},Nx.isFragment=function(e){return Lx(e)===kx},Nx.isLazy=function(e){return Lx(e)===Dx},Nx.isMemo=function(e){return Lx(e)===Rx},Nx.isPortal=function(e){return Lx(e)===Sx},Nx.isProfiler=function(e){return Lx(e)===Cx},Nx.isStrictMode=function(e){return Lx(e)===Ox},Nx.isSuspense=function(e){return Lx(e)===Tx},Nx.isSuspenseList=function(e){return Lx(e)===Mx},Nx.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===kx||e===Cx||e===Ox||e===Tx||e===Mx||e===Ix||"object"==typeof e&&null!==e&&(e.$$typeof===Dx||e.$$typeof===Rx||e.$$typeof===Px||e.$$typeof===Ex||e.$$typeof===Ax||e.$$typeof===bx||void 0!==e.getModuleId)},Nx.typeOf=Lx,jx.exports=Nx;var Bx=jx.exports,Fx=lv,$x=cv;var zx=function(e){return"number"==typeof e||$x(e)&&"[object Number]"==Fx(e)};const Ux=n(zx);var qx=zx;const Vx=n(function(e){return qx(e)&&e!=+e});var Wx=function(e){return 0===e?0:e>0?1:-1},Kx=function(e){return gx(e)&&e.indexOf("%")===e.length-1},Hx=function(e){return Ux(e)&&!Vx(e)},Gx=function(e){return Hx(e)||gx(e)},Qx=0,Xx=function(e){var t=++Qx;return"".concat(e||"").concat(t)},Yx=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Hx(e)&&!gx(e))return a;if(Kx(e)){var s=e.indexOf("%");n=t*parseFloat(e.slice(0,s))/100}else n=+e;return Vx(n)&&(n=a),r&&n>t&&(n=t),n},Jx=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Zx=function(e,t){return Hx(e)&&Hx(t)?function(n){return e+n*(t-e)}:function(){return t}};function eg(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):mx(e,t))===n}):null}var tg=function(e,t){return Hx(e)&&Hx(t)?e-t:gx(e)&&gx(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function ng(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function ag(e){return(ag="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var rg=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],sg=["points","pathLength"],ig={svg:["viewBox","children"],polygon:sg,polyline:sg},og=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],lg=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(z.isValidElement(e)&&(n=e.props),!gv(n))return null;var a={};return Object.keys(n).forEach(function(e){og.includes(e)&&(a[e]=t||function(t){return n[e](n,t)})}),a},cg=function(e,t,n){if(!gv(e)||"object"!==ag(e))return null;var a=null;return Object.keys(e).forEach(function(r){var s=e[r];og.includes(r)&&"function"==typeof s&&(a||(a={}),a[r]=function(e,t,n){return function(a){return e(t,n,a),null}}(s,t,n))}),a},ug=["children"],dg=["children"];function hg(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pg(e){return(pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var mg={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fg=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},vg=null,yg=null,xg=function e(t){if(t===vg&&Array.isArray(yg))return yg;var n=[];return z.Children.forEach(t,function(t){fx(t)||(Bx.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))}),yg=n,vg=t,n};function gg(e,t){var n=[],a=[];return a=Array.isArray(t)?t.map(function(e){return fg(e)}):[fg(t)],xg(e).forEach(function(e){var t=mx(e,"type.displayName")||mx(e,"type.name");-1!==a.indexOf(t)&&n.push(e)}),n}function bg(e,t){var n=gg(e,t);return n&&n[0]}var jg=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,a=t.height;return!(!Hx(n)||n<=0||!Hx(a)||a<=0)},Ng=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wg=function(e){return e&&"object"===pg(e)&&"clipDot"in e},Sg=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var a=e;if(z.isValidElement(e)&&(a=e.props),!gv(a))return null;var r={};return Object.keys(a).forEach(function(e){var s;(function(e,t,n,a){var r,s=null!==(r=null==ig?void 0:ig[a])&&void 0!==r?r:[];return t.startsWith("data-")||!wv(e)&&(a&&s.includes(t)||rg.includes(t))||n&&og.includes(t)})(null===(s=a)||void 0===s?void 0:s[e],e,t,n)&&(r[e]=a[e])}),r},kg=function e(t,n){if(t===n)return!0;var a=z.Children.count(t);if(a!==z.Children.count(n))return!1;if(0===a)return!0;if(1===a)return Og(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var r=0;r<a;r++){var s=t[r],i=n[r];if(Array.isArray(s)||Array.isArray(i)){if(!e(s,i))return!1}else if(!Og(s,i))return!1}return!0},Og=function(e,t){if(fx(e)&&fx(t))return!0;if(!fx(e)&&!fx(t)){var n=e.props||{},a=n.children,r=hg(n,ug),s=t.props||{},i=s.children,o=hg(s,dg);return a&&i?ng(r,o)&&kg(a,i):!a&&!i&&ng(r,o)}return!1},Cg=function(e,t){var n=[],a={};return xg(e).forEach(function(e,r){if(function(e){return e&&e.type&&gx(e.type)&&Ng.indexOf(e.type)>=0}(e))n.push(e);else if(e){var s=fg(e.type),i=t[s]||{},o=i.handler,l=i.once;if(o&&(!l||!a[s])){var c=o(e,s,r);n.push(c),a[s]=!0}}}),n},Pg=["children","width","height","viewBox","className","style","title","desc"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Eg.apply(this,arguments)}function _g(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ag(e){var t=e.children,n=e.width,a=e.height,r=e.viewBox,s=e.className,i=e.style,o=e.title,l=e.desc,c=_g(e,Pg),u=r||{width:n,height:a,x:0,y:0},d=Wf("recharts-surface",s);return U.createElement("svg",Eg({},Sg(c,!0,"svg"),{className:d,width:n,height:a,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),U.createElement("title",null,o),U.createElement("desc",null,l),t)}var Tg=["children","className"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mg.apply(this,arguments)}function Rg(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Dg=U.forwardRef(function(e,t){var n=e.children,a=e.className,r=Rg(e,Tg),s=Wf("recharts-layer",a);return U.createElement("g",Mg({className:s},Sg(r,!0),{ref:t}),n)}),Ig=function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r]};var Lg=function(e,t,n){var a=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(r);++a<r;)s[a]=e[a+t];return s};var Bg=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:Lg(e,t,n)},Fg=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var $g=function(e){return Fg.test(e)};var zg=function(e){return e.split("")},Ug="\\ud800-\\udfff",qg="["+Ug+"]",Vg="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Wg="\\ud83c[\\udffb-\\udfff]",Kg="[^"+Ug+"]",Hg="(?:\\ud83c[\\udde6-\\uddff]){2}",Gg="[\\ud800-\\udbff][\\udc00-\\udfff]",Qg="(?:"+Vg+"|"+Wg+")"+"?",Xg="[\\ufe0e\\ufe0f]?",Yg=Xg+Qg+("(?:\\u200d(?:"+[Kg,Hg,Gg].join("|")+")"+Xg+Qg+")*"),Jg="(?:"+[Kg+Vg+"?",Vg,Hg,Gg,qg].join("|")+")",Zg=RegExp(Wg+"(?="+Wg+")|"+Jg+Yg,"g");var eb=zg,tb=$g,nb=function(e){return e.match(Zg)||[]};var ab=Bg,rb=$g,sb=function(e){return tb(e)?nb(e):eb(e)},ib=tx;const ob=n(function(e){return function(t){t=ib(t);var n=rb(t)?sb(t):void 0,a=n?n[0]:t.charAt(0),r=n?ab(n,1).join(""):t.slice(1);return a[e]()+r}}("toUpperCase"));function lb(e){return function(){return e}}const cb=Math.cos,ub=Math.sin,db=Math.sqrt,hb=Math.PI,pb=2*hb,mb=Math.PI,fb=2*mb,vb=1e-6,yb=fb-vb;function xb(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class gb{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?xb:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xb;const n=10**t;return function(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,a){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,t,n,a,r,s){this._append`C${+e},${+t},${+n},${+a},${this._x1=+r},${this._y1=+s}`}arcTo(e,t,n,a,r){if(e=+e,t=+t,n=+n,a=+a,(r=+r)<0)throw new Error(`negative radius: ${r}`);let s=this._x1,i=this._y1,o=n-e,l=a-t,c=s-e,u=i-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>vb)if(Math.abs(u*o-l*c)>vb&&r){let h=n-s,p=a-i,m=o*o+l*l,f=h*h+p*p,v=Math.sqrt(m),y=Math.sqrt(d),x=r*Math.tan((mb-Math.acos((m+d-f)/(2*v*y)))/2),g=x/y,b=x/v;Math.abs(g-1)>vb&&this._append`L${e+g*c},${t+g*u}`,this._append`A${r},${r},0,0,${+(u*h>c*p)},${this._x1=e+b*o},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,a,r,s){if(e=+e,t=+t,s=!!s,(n=+n)<0)throw new Error(`negative radius: ${n}`);let i=n*Math.cos(a),o=n*Math.sin(a),l=e+i,c=t+o,u=1^s,d=s?a-r:r-a;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>vb||Math.abs(this._y1-c)>vb)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%fb+fb),d>yb?this._append`A${n},${n},0,1,${u},${e-i},${t-o}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>vb&&this._append`A${n},${n},0,${+(d>=mb)},${u},${this._x1=e+n*Math.cos(r)},${this._y1=t+n*Math.sin(r)}`)}rect(e,t,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function bb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new gb(t)}function jb(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Nb(e){this._context=e}function wb(e){return new Nb(e)}function Sb(e){return e[0]}function kb(e){return e[1]}function Ob(e,t){var n=lb(!0),a=null,r=wb,s=null,i=bb(o);function o(o){var l,c,u,d=(o=jb(o)).length,h=!1;for(null==a&&(s=r(u=i())),l=0;l<=d;++l)!(l<d&&n(c=o[l],l,o))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(c,l,o),+t(c,l,o));if(u)return s=null,u+""||null}return e="function"==typeof e?e:void 0===e?Sb:lb(e),t="function"==typeof t?t:void 0===t?kb:lb(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:lb(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:lb(+e),o):t},o.defined=function(e){return arguments.length?(n="function"==typeof e?e:lb(!!e),o):n},o.curve=function(e){return arguments.length?(r=e,null!=a&&(s=r(a)),o):r},o.context=function(e){return arguments.length?(null==e?a=s=null:s=r(a=e),o):a},o}function Cb(e,t,n){var a=null,r=lb(!0),s=null,i=wb,o=null,l=bb(c);function c(c){var u,d,h,p,m,f=(c=jb(c)).length,v=!1,y=new Array(f),x=new Array(f);for(null==s&&(o=i(m=l())),u=0;u<=f;++u){if(!(u<f&&r(p=c[u],u,c))===v)if(v=!v)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(y[h],x[h]);o.lineEnd(),o.areaEnd()}v&&(y[u]=+e(p,u,c),x[u]=+t(p,u,c),o.point(a?+a(p,u,c):y[u],n?+n(p,u,c):x[u]))}if(m)return o=null,m+""||null}function u(){return Ob().defined(r).curve(i).context(s)}return e="function"==typeof e?e:void 0===e?Sb:lb(+e),t="function"==typeof t?t:lb(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?kb:lb(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:lb(+t),a=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:lb(+t),c):e},c.x1=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:lb(+e),c):a},c.y=function(e){return arguments.length?(t="function"==typeof e?e:lb(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:lb(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:lb(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(a).y(t)},c.defined=function(e){return arguments.length?(r="function"==typeof e?e:lb(!!e),c):r},c.curve=function(e){return arguments.length?(i=e,null!=s&&(o=i(s)),c):i},c.context=function(e){return arguments.length?(null==e?s=o=null:o=i(s=e),c):s},c}Nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class Pb{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const Eb={draw(e,t){const n=db(t/hb);e.moveTo(n,0),e.arc(0,0,n,0,pb)}},_b={draw(e,t){const n=db(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Ab=db(1/3),Tb=2*Ab,Mb={draw(e,t){const n=db(t/Tb),a=n*Ab;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},Rb={draw(e,t){const n=db(t),a=-n/2;e.rect(a,a,n,n)}},Db=ub(hb/10)/ub(7*hb/10),Ib=ub(pb/10)*Db,Lb=-cb(pb/10)*Db,Bb={draw(e,t){const n=db(.8908130915292852*t),a=Ib*n,r=Lb*n;e.moveTo(0,-n),e.lineTo(a,r);for(let s=1;s<5;++s){const t=pb*s/5,i=cb(t),o=ub(t);e.lineTo(o*n,-i*n),e.lineTo(i*a-o*r,o*a+i*r)}e.closePath()}},Fb=db(3),$b={draw(e,t){const n=-db(t/(3*Fb));e.moveTo(0,2*n),e.lineTo(-Fb*n,-n),e.lineTo(Fb*n,-n),e.closePath()}},zb=-.5,Ub=db(3)/2,qb=1/db(12),Vb=3*(qb/2+1),Wb={draw(e,t){const n=db(t/Vb),a=n/2,r=n*qb,s=a,i=n*qb+n,o=-s,l=i;e.moveTo(a,r),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(zb*a-Ub*r,Ub*a+zb*r),e.lineTo(zb*s-Ub*i,Ub*s+zb*i),e.lineTo(zb*o-Ub*l,Ub*o+zb*l),e.lineTo(zb*a+Ub*r,zb*r-Ub*a),e.lineTo(zb*s+Ub*i,zb*i-Ub*s),e.lineTo(zb*o+Ub*l,zb*l-Ub*o),e.closePath()}};function Kb(){}function Hb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Gb(e){this._context=e}function Qb(e){this._context=e}function Xb(e){this._context=e}function Yb(e){this._context=e}function Jb(e){return e<0?-1:1}function Zb(e,t,n){var a=e._x1-e._x0,r=t-e._x1,s=(e._y1-e._y0)/(a||r<0&&-0),i=(n-e._y1)/(r||a<0&&-0),o=(s*r+i*a)/(a+r);return(Jb(s)+Jb(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function ej(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function tj(e,t,n){var a=e._x0,r=e._y0,s=e._x1,i=e._y1,o=(s-a)/3;e._context.bezierCurveTo(a+o,r+o*t,s-o,i-o*n,s,i)}function nj(e){this._context=e}function aj(e){this._context=new rj(e)}function rj(e){this._context=e}function sj(e){this._context=e}function ij(e){var t,n,a=e.length-1,r=new Array(a),s=new Array(a),i=new Array(a);for(r[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<a-1;++t)r[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(r[a-1]=2,s[a-1]=7,i[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)n=r[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(r[a-1]=i[a-1]/s[a-1],t=a-2;t>=0;--t)r[t]=(i[t]-r[t+1])/s[t];for(s[a-1]=(e[a]+r[a-1])/2,t=0;t<a-1;++t)s[t]=2*e[t+1]-r[t+1];return[r,s]}function oj(e,t){this._context=e,this._t=t}function lj(e,t){if((r=e.length)>1)for(var n,a,r,s=1,i=e[t[0]],o=i.length;s<r;++s)for(a=i,i=e[t[s]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function cj(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function uj(e,t){return e[t]}function dj(e){const t=[];return t.key=e,t}function hj(e){return(hj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Gb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Qb.prototype={areaStart:Kb,areaEnd:Kb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Xb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:Hb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Yb.prototype={areaStart:Kb,areaEnd:Kb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},nj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tj(this,this._t0,ej(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tj(this,ej(this,n=Zb(this,e,t)),n);break;default:tj(this,this._t0,n=Zb(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(aj.prototype=Object.create(nj.prototype)).point=function(e,t){nj.prototype.point.call(this,t,e)},rj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,r,s){this._context.bezierCurveTo(t,e,a,n,s,r)}},sj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var a=ij(e),r=ij(t),s=0,i=1;i<n;++s,++i)this._context.bezierCurveTo(a[0][s],r[0][s],a[1][s],r[1][s],e[i],t[i]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},oj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var pj=["type","size","sizeType"];function mj(){return mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mj.apply(this,arguments)}function fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function vj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fj(Object(n),!0).forEach(function(t){yj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yj(e,t,n){var a;return a=function(e,t){if("object"!=hj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=hj(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==hj(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xj(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var gj={symbolCircle:Eb,symbolCross:_b,symbolDiamond:Mb,symbolSquare:Rb,symbolStar:Bb,symbolTriangle:$b,symbolWye:Wb},bj=Math.PI/180,jj=function(e){var t,n,a=e.type,r=void 0===a?"circle":a,s=e.size,i=void 0===s?64:s,o=e.sizeType,l=void 0===o?"area":o,c=vj(vj({},xj(e,pj)),{},{type:r,size:i,sizeType:l}),u=c.className,d=c.cx,h=c.cy,p=Sg(c,!0);return d===+d&&h===+h&&i===+i?U.createElement("path",mj({},p,{className:Wf("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(h,")"),d:(t=function(e){var t="symbol".concat(ob(e));return gj[t]||Eb}(r),n=function(e,t){let n=null,a=bb(r);function r(){let r;if(n||(n=r=a()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"==typeof e?e:lb(e||Eb),t="function"==typeof t?t:lb(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"==typeof t?t:lb(t),r):e},r.size=function(e){return arguments.length?(t="function"==typeof e?e:lb(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var a=18*bj;return 1.25*e*e*(Math.tan(a)-Math.tan(2*a)*Math.pow(Math.tan(a),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(i,l,r)),n())})):null};function Nj(e){return(Nj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wj(){return wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wj.apply(this,arguments)}function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function kj(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Aj(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oj(e,t,n){return t=Pj(t),function(e,t){if(t&&("object"===Nj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Cj()?Reflect.construct(t,n||[],Pj(e).constructor):t.apply(e,n))}function Cj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Cj=function(){return!!e})()}function Pj(e){return(Pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ej(e,t){return(Ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _j(e,t,n){return(t=Aj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aj(e){var t=function(e,t){if("object"!=Nj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Nj(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Nj(t)?t:t+""}jj.registerSymbol=function(e,t){gj["symbol".concat(ob(e))]=t};var Tj=32,Mj=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Oj(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ej(e,t)}(e,z.PureComponent),kj(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,a=Tj/6,r=Tj/3,s=e.inactive?t:e.color;if("plainline"===e.type)return U.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:Tj,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return U.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(n,"h").concat(r,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*r,",").concat(n,"\n            H").concat(Tj,"M").concat(2*r,",").concat(n,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(r,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return U.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(Tj,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(U.isValidElement(e.legendIcon)){var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sj(Object(n),!0).forEach(function(t){_j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete i.legendIcon,U.cloneElement(e.legendIcon,i)}return U.createElement(jj,{fill:s,cx:n,cy:n,size:Tj,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,a=t.iconSize,r=t.layout,s=t.formatter,i=t.inactiveColor,o={x:0,y:0,width:Tj,height:Tj},l={display:"horizontal"===r?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var r=t.formatter||s,u=Wf(_j(_j({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var d=wv(t.value)?null:t.value;Ig(!wv(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var h=t.inactive?i:t.color;return U.createElement("li",wj({className:u,style:l,key:"legend-item-".concat(n)},cg(e.props,t,n)),U.createElement(Ag,{width:a,height:a,viewBox:o,style:c},e.renderIcon(t)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},r?r(d,t,n):d))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,a=e.align;if(!t||!t.length)return null;var r={padding:0,margin:0,textAlign:"horizontal"===n?a:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:r},this.renderItems())}}])}();_j(Mj,"displayName","Legend"),_j(Mj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Rj=jy;var Dj=jy,Ij=Ny,Lj=By;var Bj=jy,Fj=function(){this.__data__=new Rj,this.size=0},$j=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},zj=function(e){return this.__data__.get(e)},Uj=function(e){return this.__data__.has(e)},qj=function(e,t){var n=this.__data__;if(n instanceof Dj){var a=n.__data__;if(!Ij||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new Lj(a)}return n.set(e,t),this.size=n.size,this};function Vj(e){var t=this.__data__=new Bj(e);this.size=t.size}Vj.prototype.clear=Fj,Vj.prototype.delete=$j,Vj.prototype.get=zj,Vj.prototype.has=Uj,Vj.prototype.set=qj;var Wj=Vj;var Kj=By,Hj=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Gj=function(e){return this.__data__.has(e)};function Qj(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kj;++t<n;)this.add(e[t])}Qj.prototype.add=Qj.prototype.push=Hj,Qj.prototype.has=Gj;var Xj=Qj;var Yj=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1};var Jj=function(e,t){return e.has(t)},Zj=Xj,eN=Yj,tN=Jj;var nN=function(e,t,n,a,r,s){var i=1&n,o=e.length,l=t.length;if(o!=l&&!(i&&l>o))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=2&n?new Zj:void 0;for(s.set(e,t),s.set(t,e);++d<o;){var m=e[d],f=t[d];if(a)var v=i?a(f,m,d,t,e,s):a(m,f,d,e,t,s);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!eN(t,function(e,t){if(!tN(p,t)&&(m===e||r(m,e,n,a,s)))return p.push(t)})){h=!1;break}}else if(m!==f&&!r(m,f,n,a,s)){h=!1;break}}return s.delete(e),s.delete(t),h};var aN=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},rN=Xf.Uint8Array,sN=oy,iN=nN,oN=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,a){n[++t]=[a,e]}),n},lN=aN,cN=Yf?Yf.prototype:void 0,uN=cN?cN.valueOf:void 0;var dN=function(e,t,n,a,r,s,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new rN(e),new rN(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return sN(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var o=oN;case"[object Set]":var l=1&a;if(o||(o=lN),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;a|=2,i.set(e,t);var u=iN(o(e),o(t),a,r,s,i);return i.delete(e),u;case"[object Symbol]":if(uN)return uN.call(e)==uN.call(t)}return!1};var hN=function(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e},pN=hN,mN=Kf;var fN=function(e,t,n){var a=t(e);return mN(e)?a:pN(a,n(e))};var vN=function(e,t){for(var n=-1,a=null==e?0:e.length,r=0,s=[];++n<a;){var i=e[n];t(i,n,e)&&(s[r++]=i)}return s},yN=function(){return[]},xN=Object.prototype.propertyIsEnumerable,gN=Object.getOwnPropertySymbols,bN=gN?function(e){return null==e?[]:(e=Object(e),vN(gN(e),function(t){return xN.call(e,t)}))}:yN;var jN=function(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a},NN=lv,wN=cv;var SN,kN,ON,CN,PN,EN,_N,AN,TN=function(e){return wN(e)&&"[object Arguments]"==NN(e)},MN=cv,RN=Object.prototype,DN=RN.hasOwnProperty,IN=RN.propertyIsEnumerable,LN=TN(function(){return arguments}())?TN:function(e){return MN(e)&&DN.call(e,"callee")&&!IN.call(e,"callee")},BN={exports:{}};SN=BN,ON=Xf,CN=function(){return!1},PN=(kN=BN.exports)&&!kN.nodeType&&kN,EN=PN&&SN&&!SN.nodeType&&SN,_N=EN&&EN.exports===PN?ON.Buffer:void 0,AN=(_N?_N.isBuffer:void 0)||CN,SN.exports=AN;var FN=BN.exports,$N=/^(?:0|[1-9]\d*)$/;var zN=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&$N.test(e))&&e>-1&&e%1==0&&e<t};var UN=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},qN=lv,VN=UN,WN=cv,KN={};KN["[object Float32Array]"]=KN["[object Float64Array]"]=KN["[object Int8Array]"]=KN["[object Int16Array]"]=KN["[object Int32Array]"]=KN["[object Uint8Array]"]=KN["[object Uint8ClampedArray]"]=KN["[object Uint16Array]"]=KN["[object Uint32Array]"]=!0,KN["[object Arguments]"]=KN["[object Array]"]=KN["[object ArrayBuffer]"]=KN["[object Boolean]"]=KN["[object DataView]"]=KN["[object Date]"]=KN["[object Error]"]=KN["[object Function]"]=KN["[object Map]"]=KN["[object Number]"]=KN["[object Object]"]=KN["[object RegExp]"]=KN["[object Set]"]=KN["[object String]"]=KN["[object WeakMap]"]=!1;var HN=function(e){return WN(e)&&VN(e.length)&&!!KN[qN(e)]};var GN=function(e){return function(t){return e(t)}},QN={exports:{}};!function(e,t){var n=Hf,a=t&&!t.nodeType&&t,r=a&&e&&!e.nodeType&&e,s=r&&r.exports===a&&n.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(CH){}}();e.exports=i}(QN,QN.exports);var XN=QN.exports,YN=HN,JN=GN,ZN=XN&&XN.isTypedArray,ew=ZN?JN(ZN):YN,tw=jN,nw=LN,aw=Kf,rw=FN,sw=zN,iw=ew,ow=Object.prototype.hasOwnProperty;var lw=function(e,t){var n=aw(e),a=!n&&nw(e),r=!n&&!a&&rw(e),s=!n&&!a&&!r&&iw(e),i=n||a||r||s,o=i?tw(e.length,String):[],l=o.length;for(var c in e)!t&&!ow.call(e,c)||i&&("length"==c||r&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||sw(c,l))||o.push(c);return o},cw=Object.prototype;var uw=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||cw)};var dw=function(e,t){return function(n){return e(t(n))}},hw=dw(Object.keys,Object),pw=uw,mw=hw,fw=Object.prototype.hasOwnProperty;var vw=Nv,yw=UN;var xw=function(e){return null!=e&&yw(e.length)&&!vw(e)},gw=lw,bw=function(e){if(!pw(e))return mw(e);var t=[];for(var n in Object(e))fw.call(e,n)&&"constructor"!=n&&t.push(n);return t},jw=xw;var Nw=function(e){return jw(e)?gw(e):bw(e)},ww=fN,Sw=bN,kw=Nw;var Ow=function(e){return ww(e,kw,Sw)},Cw=Object.prototype.hasOwnProperty;var Pw=function(e,t,n,a,r,s){var i=1&n,o=Ow(e),l=o.length;if(l!=Ow(t).length&&!i)return!1;for(var c=l;c--;){var u=o[c];if(!(i?u in t:Cw.call(t,u)))return!1}var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var p=!0;s.set(e,t),s.set(t,e);for(var m=i;++c<l;){var f=e[u=o[c]],v=t[u];if(a)var y=i?a(v,f,u,t,e,s):a(f,v,u,e,t,s);if(!(void 0===y?f===v||r(f,v,n,a,s):y)){p=!1;break}m||(m="constructor"==u)}if(p&&!m){var x=e.constructor,g=t.constructor;x==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof g&&g instanceof g||(p=!1)}return s.delete(e),s.delete(t),p},Ew=Uv(Xf,"DataView"),_w=Uv(Xf,"Promise"),Aw=Uv(Xf,"Set"),Tw=Ew,Mw=Ny,Rw=_w,Dw=Aw,Iw=Uv(Xf,"WeakMap"),Lw=lv,Bw=Ev,Fw="[object Map]",$w="[object Promise]",zw="[object Set]",Uw="[object WeakMap]",qw="[object DataView]",Vw=Bw(Tw),Ww=Bw(Mw),Kw=Bw(Rw),Hw=Bw(Dw),Gw=Bw(Iw),Qw=Lw;(Tw&&Qw(new Tw(new ArrayBuffer(1)))!=qw||Mw&&Qw(new Mw)!=Fw||Rw&&Qw(Rw.resolve())!=$w||Dw&&Qw(new Dw)!=zw||Iw&&Qw(new Iw)!=Uw)&&(Qw=function(e){var t=Lw(e),n="[object Object]"==t?e.constructor:void 0,a=n?Bw(n):"";if(a)switch(a){case Vw:return qw;case Ww:return Fw;case Kw:return $w;case Hw:return zw;case Gw:return Uw}return t});var Xw=Wj,Yw=nN,Jw=dN,Zw=Pw,eS=Qw,tS=Kf,nS=FN,aS=ew,rS="[object Arguments]",sS="[object Array]",iS="[object Object]",oS=Object.prototype.hasOwnProperty;var lS=function(e,t,n,a,r,s){var i=tS(e),o=tS(t),l=i?sS:eS(e),c=o?sS:eS(t),u=(l=l==rS?iS:l)==iS,d=(c=c==rS?iS:c)==iS,h=l==c;if(h&&nS(e)){if(!nS(t))return!1;i=!0,u=!1}if(h&&!u)return s||(s=new Xw),i||aS(e)?Yw(e,t,n,a,r,s):Jw(e,t,l,n,a,r,s);if(!(1&n)){var p=u&&oS.call(e,"__wrapped__"),m=d&&oS.call(t,"__wrapped__");if(p||m){var f=p?e.value():e,v=m?t.value():t;return s||(s=new Xw),r(f,v,n,a,s)}}return!!h&&(s||(s=new Xw),Zw(e,t,n,a,r,s))},cS=cv;var uS=function e(t,n,a,r,s){return t===n||(null==t||null==n||!cS(t)&&!cS(n)?t!=t&&n!=n:lS(t,n,a,r,e,s))},dS=Wj,hS=uS;var pS=xv;var mS=function(e){return e==e&&!pS(e)},fS=mS,vS=Nw;var yS=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},xS=function(e,t,n,a){var r=n.length,s=r,i=!a;if(null==e)return!s;for(e=Object(e);r--;){var o=n[r];if(i&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<s;){var l=(o=n[r])[0],c=e[l],u=o[1];if(i&&o[2]){if(void 0===c&&!(l in e))return!1}else{var d=new dS;if(a)var h=a(c,u,l,e,t,d);if(!(void 0===h?hS(u,c,3,a,d):h))return!1}}return!0},gS=function(e){for(var t=vS(e),n=t.length;n--;){var a=t[n],r=e[a];t[n]=[a,r,fS(r)]}return t},bS=yS;var jS=ix,NS=LN,wS=Kf,SS=zN,kS=UN,OS=lx;var CS=function(e,t){return null!=e&&t in Object(e)},PS=function(e,t,n){for(var a=-1,r=(t=jS(t,e)).length,s=!1;++a<r;){var i=OS(t[a]);if(!(s=null!=e&&n(e,i)))break;e=e[i]}return s||++a!=r?s:!!(r=null==e?0:e.length)&&kS(r)&&SS(i,r)&&(wS(e)||NS(e))};var ES=uS,_S=px,AS=function(e,t){return null!=e&&PS(e,t,CS)},TS=yv,MS=mS,RS=yS,DS=lx;var IS=function(e){return e};var LS=dx;var BS=function(e){return function(t){return null==t?void 0:t[e]}},FS=function(e){return function(t){return LS(t,e)}},$S=yv,zS=lx;var US=function(e){var t=gS(e);return 1==t.length&&t[0][2]?bS(t[0][0],t[0][1]):function(n){return n===e||xS(n,e,t)}},qS=function(e,t){return TS(e)&&MS(t)?RS(DS(e),t):function(n){var a=_S(n,e);return void 0===a&&a===t?AS(n,e):ES(t,a,3)}},VS=IS,WS=Kf,KS=function(e){return $S(e)?BS(zS(e)):FS(e)};var HS=function(e){return"function"==typeof e?e:null==e?VS:"object"==typeof e?WS(e)?qS(e[0],e[1]):US(e):KS(e)};var GS=function(e,t,n,a){for(var r=e.length,s=n+(a?1:-1);a?s--:++s<r;)if(t(e[s],s,e))return s;return-1};var QS=GS,XS=function(e){return e!=e},YS=function(e,t,n){for(var a=n-1,r=e.length;++a<r;)if(e[a]===t)return a;return-1};var JS=function(e,t,n){return t==t?YS(e,t,n):QS(e,XS,n)};var ZS=function(e,t){return!!(null==e?0:e.length)&&JS(e,t,0)>-1};var ek=function(e,t,n){for(var a=-1,r=null==e?0:e.length;++a<r;)if(n(t,e[a]))return!0;return!1};var tk=Aw,nk=function(){},ak=tk&&1/aN(new tk([,-0]))[1]==1/0?function(e){return new tk(e)}:nk,rk=Xj,sk=ZS,ik=ek,ok=Jj,lk=ak,ck=aN;var uk=HS,dk=function(e,t,n){var a=-1,r=sk,s=e.length,i=!0,o=[],l=o;if(n)i=!1,r=ik;else if(s>=200){var c=t?null:lk(e);if(c)return ck(c);i=!1,r=ok,l=new rk}else l=t?[]:o;e:for(;++a<s;){var u=e[a],d=t?t(u):u;if(u=n||0!==u?u:0,i&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),o.push(u)}else r(l,d,n)||(l!==o&&l.push(d),o.push(u))}return o};const hk=n(function(e,t){return e&&e.length?dk(e,uk(t)):[]});function pk(e,t,n){return!0===t?hk(e,n):wv(t)?hk(e,t):e}function mk(e){return(mk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fk=["ref"];function vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function yk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vk(Object(n),!0).forEach(function(t){wk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xk(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Sk(a.key),a)}}function gk(e,t,n){return t=jk(t),function(e,t){if(t&&("object"===mk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bk()?Reflect.construct(t,n||[],jk(e).constructor):t.apply(e,n))}function bk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(bk=function(){return!!e})()}function jk(e){return(jk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nk(e,t){return(Nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wk(e,t,n){return(t=Sk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sk(e){var t=function(e,t){if("object"!=mk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=mk(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==mk(t)?t:t+""}function kk(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ok(e){return e.value}var Ck=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return wk(t=gk(this,e,[].concat(a)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nk(e,t)}(e,z.PureComponent),t=e,a=[{key:"getWithHeight",value:function(e,t){var n=yk(yk({},this.defaultProps),e.props).layout;return"vertical"===n&&Hx(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yk({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,a=this.props,r=a.layout,s=a.align,i=a.verticalAlign,o=a.margin,l=a.chartWidth,c=a.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===s&&"vertical"===r?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===s?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===i?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===i?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),yk(yk({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,a=t.width,r=t.height,s=t.wrapperStyle,i=t.payloadUniqBy,o=t.payload,l=yk(yk({position:"absolute",width:a||"auto",height:r||"auto"},this.getDefaultPosition(s)),s);return U.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(U.isValidElement(e))return U.cloneElement(e,t);if("function"==typeof e)return U.createElement(e,t);t.ref;var n=kk(t,fk);return U.createElement(Mj,n)}(n,yk(yk({},this.props),{},{payload:pk(o,i,Ok)})))}}])&&xk(t.prototype,n),a&&xk(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();wk(Ck,"displayName","Legend"),wk(Ck,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Pk=LN,Ek=Kf,_k=Yf?Yf.isConcatSpreadable:void 0;var Ak=hN,Tk=function(e){return Ek(e)||Pk(e)||!!(_k&&e&&e[_k])};var Mk=function e(t,n,a,r,s){var i=-1,o=t.length;for(a||(a=Tk),s||(s=[]);++i<o;){var l=t[i];n>0&&a(l)?n>1?e(l,n-1,a,r,s):Ak(s,l):r||(s[s.length]=l)}return s};var Rk=function(e){return function(t,n,a){for(var r=-1,s=Object(t),i=a(t),o=i.length;o--;){var l=i[e?o:++r];if(!1===n(s[l],l,s))break}return t}}(),Dk=Nw;var Ik=function(e,t){return e&&Rk(e,t,Dk)},Lk=xw;var Bk=function(e,t){return function(n,a){if(null==n)return n;if(!Lk(n))return e(n,a);for(var r=n.length,s=t?r:-1,i=Object(n);(t?s--:++s<r)&&!1!==a(i[s],s,i););return n}}(Ik),Fk=Bk,$k=xw;var zk=function(e,t){var n=-1,a=$k(e)?Array(e.length):[];return Fk(e,function(e,r,s){a[++n]=t(e,r,s)}),a};var Uk=hv;var qk=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,r=e==e,s=Uk(e),i=void 0!==t,o=null===t,l=t==t,c=Uk(t);if(!o&&!c&&!s&&e>t||s&&i&&l&&!o&&!c||a&&i&&l||!n&&l||!r)return 1;if(!a&&!s&&!c&&e<t||c&&n&&r&&!a&&!s||o&&n&&r||!i&&r||!l)return-1}return 0};var Vk=Hy,Wk=dx,Kk=HS,Hk=zk,Gk=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},Qk=GN,Xk=function(e,t,n){for(var a=-1,r=e.criteria,s=t.criteria,i=r.length,o=n.length;++a<i;){var l=qk(r[a],s[a]);if(l)return a>=o?l:l*("desc"==n[a]?-1:1)}return e.index-t.index},Yk=IS,Jk=Kf;var Zk=function(e,t,n){t=t.length?Vk(t,function(e){return Jk(e)?function(t){return Wk(t,1===e.length?e[0]:e)}:e}):[Yk];var a=-1;t=Vk(t,Qk(Kk));var r=Hk(e,function(e,n,r){return{criteria:Vk(t,function(t){return t(e)}),index:++a,value:e}});return Gk(r,function(e,t){return Xk(e,t,n)})};var eO=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},tO=Math.max;var nO=function(e,t,n){return t=tO(void 0===t?e.length-1:t,0),function(){for(var a=arguments,r=-1,s=tO(a.length-t,0),i=Array(s);++r<s;)i[r]=a[t+r];r=-1;for(var o=Array(t+1);++r<t;)o[r]=a[r];return o[t]=n(i),eO(e,this,o)}};var aO=function(e){return function(){return e}},rO=Uv,sO=function(){try{var e=rO(Object,"defineProperty");return e({},"",{}),e}catch(CH){}}(),iO=aO,oO=sO,lO=oO?function(e,t){return oO(e,"toString",{configurable:!0,enumerable:!1,value:iO(t),writable:!0})}:IS,cO=Date.now;var uO=function(e){var t=0,n=0;return function(){var a=cO(),r=16-(a-n);if(n=a,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(lO),dO=IS,hO=nO,pO=uO;var mO=oy,fO=xw,vO=zN,yO=xv;var xO=function(e,t,n){if(!yO(n))return!1;var a=typeof t;return!!("number"==a?fO(n)&&vO(t,n.length):"string"==a&&t in n)&&mO(n[t],e)},gO=Mk,bO=Zk,jO=xO;const NO=n(function(e,t){return pO(hO(e,t,dO),e+"")}(function(e,t){if(null==e)return[];var n=t.length;return n>1&&jO(e,t[0],t[1])?t=[]:n>2&&jO(t[0],t[1],t[2])&&(t=[t[0]]),bO(e,gO(t,1),[])}));function wO(e){return(wO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SO(){return SO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},SO.apply(this,arguments)}function kO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(l=(a=s.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return OO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function PO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CO(Object(n),!0).forEach(function(t){EO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function EO(e,t,n){var a;return a=function(e,t){if("object"!=wO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=wO(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==wO(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _O(e){return Array.isArray(e)&&Gx(e[0])&&Gx(e[1])?e.join(" ~ "):e}var AO=function(e){var t=e.separator,n=void 0===t?" : ":t,a=e.contentStyle,r=void 0===a?{}:a,s=e.itemStyle,i=void 0===s?{}:s,o=e.labelStyle,l=void 0===o?{}:o,c=e.payload,u=e.formatter,d=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,m=e.label,f=e.labelFormatter,v=e.accessibilityLayer,y=void 0!==v&&v,x=PO({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=PO({margin:0},l),b=!fx(m),j=b?m:"",N=Wf("recharts-default-tooltip",h),w=Wf("recharts-tooltip-label",p);b&&f&&null!=c&&(j=f(m,c));var S=y?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",SO({className:N,style:x},S),U.createElement("p",{className:w,style:g},U.isValidElement(j)?j:"".concat(j)),function(){if(c&&c.length){var e=(d?NO(c,d):c).map(function(e,t){if("none"===e.type)return null;var a=PO({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i),r=e.formatter||u||_O,s=e.value,o=e.name,l=s,d=o;if(r&&null!=l&&null!=d){var h=r(s,o,e,t,c);if(Array.isArray(h)){var p=kO(h,2);l=p[0],d=p[1]}else l=h}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:a},Gx(d)?U.createElement("span",{className:"recharts-tooltip-item-name"},d):null,Gx(d)?U.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,U.createElement("span",{className:"recharts-tooltip-item-value"},l),U.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function TO(e){return(TO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MO(e,t,n){var a;return a=function(e,t){if("object"!=TO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=TO(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==TO(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RO="recharts-tooltip-wrapper",DO={visibility:"hidden"};function IO(e){var t=e.coordinate,n=e.translateX,a=e.translateY;return Wf(RO,MO(MO(MO(MO({},"".concat(RO,"-right"),Hx(n)&&t&&Hx(t.x)&&n>=t.x),"".concat(RO,"-left"),Hx(n)&&t&&Hx(t.x)&&n<t.x),"".concat(RO,"-bottom"),Hx(a)&&t&&Hx(t.y)&&a>=t.y),"".concat(RO,"-top"),Hx(a)&&t&&Hx(t.y)&&a<t.y))}function LO(e){var t=e.allowEscapeViewBox,n=e.coordinate,a=e.key,r=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(s&&Hx(s[a]))return s[a];var u=n[a]-o-r,d=n[a]+r;return t[a]?i[a]?u:d:i[a]?u<l[a]?Math.max(d,l[a]):Math.max(u,l[a]):d+o>l[a]+c?Math.max(u,l[a]):Math.max(d,l[a])}function BO(e){return(BO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function $O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FO(Object(n),!0).forEach(function(t){KO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zO(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,HO(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UO(e,t,n){return t=VO(t),function(e,t){if(t&&("object"===BO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qO()?Reflect.construct(t,n||[],VO(e).constructor):t.apply(e,n))}function qO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(qO=function(){return!!e})()}function VO(e){return(VO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WO(e,t){return(WO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function KO(e,t,n){return(t=HO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HO(e){var t=function(e,t){if("object"!=BO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=BO(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==BO(t)?t:t+""}var GO=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return KO(t=UO(this,e,[].concat(a)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),KO(t,"handleKeyDown",function(e){var n,a,r,s;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(a=t.props.coordinate)||void 0===a?void 0:a.x)&&void 0!==n?n:0,y:null!==(r=null===(s=t.props.coordinate)||void 0===s?void 0:s.y)&&void 0!==r?r:0}})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WO(e,t)}(e,z.PureComponent),zO(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,a=t.allowEscapeViewBox,r=t.animationDuration,s=t.animationEasing,i=t.children,o=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,u=t.offset,d=t.position,h=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,f=t.wrapperStyle,v=function(e){var t,n,a=e.allowEscapeViewBox,r=e.coordinate,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&r?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=LO({allowEscapeViewBox:a,coordinate:r,key:"x",offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=LO({allowEscapeViewBox:a,coordinate:r,key:"y",offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):DO,cssClasses:IO({translateX:t,translateY:n,coordinate:r})}}({allowEscapeViewBox:a,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),y=v.cssClasses,x=v.cssProperties,g=$O($O({transition:c&&n?"transform ".concat(r,"ms ").concat(s):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},f);return U.createElement("div",{tabIndex:-1,className:y,style:g,ref:function(t){e.wrapperNode=t}},i)}}])}(),QO=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function XO(e){return(XO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function JO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YO(Object(n),!0).forEach(function(t){rC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZO(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sC(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eC(e,t,n){return t=nC(t),function(e,t){if(t&&("object"===XO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tC()?Reflect.construct(t,n||[],nC(e).constructor):t.apply(e,n))}function tC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(tC=function(){return!!e})()}function nC(e){return(nC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aC(e,t){return(aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rC(e,t,n){return(t=sC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sC(e){var t=function(e,t){if("object"!=XO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=XO(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==XO(t)?t:t+""}function iC(e){return e.dataKey}var oC=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),eC(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aC(e,t)}(e,z.PureComponent),ZO(e,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,a=t.allowEscapeViewBox,r=t.animationDuration,s=t.animationEasing,i=t.content,o=t.coordinate,l=t.filterNull,c=t.isAnimationActive,u=t.offset,d=t.payload,h=t.payloadUniqBy,p=t.position,m=t.reverseDirection,f=t.useTranslate3d,v=t.viewBox,y=t.wrapperStyle,x=null!=d?d:[];l&&x.length&&(x=pk(d.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),h,iC));var g=x.length>0;return U.createElement(GO,{allowEscapeViewBox:a,animationDuration:r,animationEasing:s,isAnimationActive:c,active:n,coordinate:o,hasPayload:g,offset:u,position:p,reverseDirection:m,useTranslate3d:f,viewBox:v,wrapperStyle:y},function(e,t){return U.isValidElement(e)?U.cloneElement(e,t):"function"==typeof e?U.createElement(e,t):U.createElement(AO,t)}(i,JO(JO({},this.props),{},{payload:x})))}}])}();rC(oC,"displayName","Tooltip"),rC(oC,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!QO,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lC=Xf,cC=/\s/;var uC=function(e){for(var t=e.length;t--&&cC.test(e.charAt(t)););return t},dC=/^\s+/;var hC=function(e){return e?e.slice(0,uC(e)+1).replace(dC,""):e},pC=xv,mC=hv,fC=/^[-+]0x[0-9a-f]+$/i,vC=/^0b[01]+$/i,yC=/^0o[0-7]+$/i,xC=parseInt;var gC=function(e){if("number"==typeof e)return e;if(mC(e))return NaN;if(pC(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=pC(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=hC(e);var n=vC.test(e);return n||yC.test(e)?xC(e.slice(2),n?2:8):fC.test(e)?NaN:+e},bC=xv,jC=function(){return lC.Date.now()},NC=gC,wC=Math.max,SC=Math.min;var kC=function(e,t,n){var a,r,s,i,o,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=a,s=r;return a=r=void 0,c=t,i=e.apply(s,n)}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=s}function f(){var e=jC();if(m(e))return v(e);o=setTimeout(f,function(e){var n=t-(e-l);return d?SC(n,s-(e-c)):n}(e))}function v(e){return o=void 0,h&&a?p(e):(a=r=void 0,i)}function y(){var e=jC(),n=m(e);if(a=arguments,r=this,l=e,n){if(void 0===o)return function(e){return c=e,o=setTimeout(f,t),u?p(e):i}(l);if(d)return clearTimeout(o),o=setTimeout(f,t),p(l)}return void 0===o&&(o=setTimeout(f,t)),i}return t=NC(t)||0,bC(n)&&(u=!!n.leading,s=(d="maxWait"in n)?wC(NC(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==o&&clearTimeout(o),c=0,a=l=r=o=void 0},y.flush=function(){return void 0===o?i:v(jC())},y},OC=xv;const CC=n(function(e,t,n){var a=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return OC(n)&&(a="leading"in n?!!n.leading:a,r="trailing"in n?!!n.trailing:r),kC(e,t,{leading:a,maxWait:t,trailing:r})});function PC(e){return(PC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EC(Object(n),!0).forEach(function(t){AC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AC(e,t,n){var a;return a=function(e,t){if("object"!=PC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=PC(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==PC(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(l=(a=s.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return MC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var RC=z.forwardRef(function(e,t){var n=e.aspect,a=e.initialDimension,r=void 0===a?{width:-1,height:-1}:a,s=e.width,i=void 0===s?"100%":s,o=e.height,l=void 0===o?"100%":o,c=e.minWidth,u=void 0===c?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,f=void 0===m?0:m,v=e.id,y=e.className,x=e.onResize,g=e.style,b=void 0===g?{}:g,j=z.useRef(null),N=z.useRef();N.current=x,z.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var w=TC(z.useState({containerWidth:r.width,containerHeight:r.height}),2),S=w[0],k=w[1],O=z.useCallback(function(e,t){k(function(n){var a=Math.round(e),r=Math.round(t);return n.containerWidth===a&&n.containerHeight===r?n:{containerWidth:a,containerHeight:r}})},[]);z.useEffect(function(){var e=function(e){var t,n=e[0].contentRect,a=n.width,r=n.height;O(a,r),null===(t=N.current)||void 0===t||t.call(N,a,r)};f>0&&(e=CC(e,f,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=j.current.getBoundingClientRect(),a=n.width,r=n.height;return O(a,r),t.observe(j.current),function(){t.disconnect()}},[O,f]);var C=z.useMemo(function(){var e=S.containerWidth,t=S.containerHeight;if(e<0||t<0)return null;Ig(Kx(i)||Kx(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,l),Ig(!n||n>0,"The aspect(%s) must be greater than zero.",n);var a=Kx(i)?e:i,r=Kx(l)?t:l;n&&n>0&&(a?r=a/n:r&&(a=r*n),h&&r>h&&(r=h)),Ig(a>0||r>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,r,i,l,u,d,n);var s=!Array.isArray(p)&&fg(p.type).endsWith("Chart");return U.Children.map(p,function(e){return U.isValidElement(e)?z.cloneElement(e,_C({width:a,height:r},s?{style:_C({height:"100%",width:"100%",maxHeight:r,maxWidth:a},e.props.style)}:{})):e})},[n,p,l,h,d,u,S,i]);return U.createElement("div",{id:v?"".concat(v):void 0,className:Wf("recharts-responsive-container",y),style:_C(_C({},b),{},{width:i,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:j},C)}),DC=function(e){return null};function IC(e){return(IC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function BC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LC(Object(n),!0).forEach(function(t){FC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FC(e,t,n){var a;return a=function(e,t){if("object"!=IC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=IC(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==IC(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}DC.displayName="Cell";var $C={widthCache:{},cacheCount:0},zC={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},UC="recharts_measurement_span";var qC=function(e){if(null==e||QO)return{width:0,height:0};var t,n=(t=BC({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t),a=JSON.stringify({text:e,copyStyle:n});if($C.widthCache[a])return $C.widthCache[a];try{var r=document.getElementById(UC);r||((r=document.createElement("span")).setAttribute("id",UC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r));var s=BC(BC({},zC),n);Object.assign(r.style,s),r.textContent="".concat(e);var i=r.getBoundingClientRect(),o={width:i.width,height:i.height};return $C.widthCache[a]=o,++$C.cacheCount>2e3&&($C.cacheCount=0,$C.widthCache={}),o}catch(CH){return{width:0,height:0}}};function VC(e){return(VC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=s.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return KC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function HC(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,GC(a.key),a)}}function GC(e){var t=function(e,t){if("object"!=VC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=VC(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==VC(t)?t:t+""}var QC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YC=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JC=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ZC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},eP=Object.keys(ZC),tP="NaN";var nP=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||YC.test(n)||(this.num=NaN,this.unit=""),eP.includes(n)&&(this.num=function(e,t){return e*ZC[t]}(t,n),this.unit="px")}return t=e,a=[{key:"parse",value:function(t){var n,a=WC(null!==(n=JC.exec(t))&&void 0!==n?n:[],3),r=a[1],s=a[2];return new e(parseFloat(r),null!=s?s:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&HC(t.prototype,n),a&&HC(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function aP(e){if(e.includes(tP))return tP;for(var t=e;t.includes("*")||t.includes("/");){var n,a=WC(null!==(n=QC.exec(t))&&void 0!==n?n:[],4),r=a[1],s=a[2],i=a[3],o=nP.parse(null!=r?r:""),l=nP.parse(null!=i?i:""),c="*"===s?o.multiply(l):o.divide(l);if(c.isNaN())return tP;t=t.replace(QC,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=WC(null!==(u=XC.exec(t))&&void 0!==u?u:[],4),h=d[1],p=d[2],m=d[3],f=nP.parse(null!=h?h:""),v=nP.parse(null!=m?m:""),y="+"===p?f.add(v):f.subtract(v);if(y.isNaN())return tP;t=t.replace(XC,y.toString())}return t}var rP=/\(([^()]*)\)/;function sP(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=WC(rP.exec(t),2)[1];t=t.replace(rP,aP(n))}return t}(t),t=aP(t)}function iP(e){var t=function(e){try{return sP(e)}catch(CH){return tP}}(e.slice(5,-1));return t===tP?"":t}var oP=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lP=["dx","dy","angle","className","breakAll"];function cP(){return cP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},cP.apply(this,arguments)}function uP(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=s.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var pP=/[ \f\n\r\t\v\u2028\u2029]+/,mP=function(e){var t=e.children,n=e.breakAll,a=e.style;try{var r=[];return fx(t)||(r=n?t.toString().split(""):t.toString().split(pP)),{wordsWithComputedWidth:r.map(function(e){return{word:e,width:qC(e,a).width}}),spaceWidth:n?0:qC("",a).width}}catch(CH){return null}},fP=function(e){return[{words:fx(e)?[]:e.toString().split(pP)}]},vP=function(e){var t=e.width,n=e.scaleToFit,a=e.children,r=e.style,s=e.breakAll,i=e.maxLines;if((t||n)&&!QO){var o=mP({breakAll:s,children:a,style:r});return o?function(e,t,n,a,r){var s=e.maxLines,i=e.children,o=e.style,l=e.breakAll,c=Hx(s),u=i,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var s=t.word,i=t.width,o=e[e.length-1];if(o&&(null==a||r||o.width+i+n<Number(a)))o.words.push(s),o.width+=i+n;else{var l={words:[s],width:i};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var p,m=function(e){var t=u.slice(0,e),n=mP({breakAll:l,style:o,children:t+""}).wordsWithComputedWidth,r=d(n),i=r.length>s||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(r).width>Number(a);return[i,r]},f=0,v=u.length-1,y=0;f<=v&&y<=u.length-1;){var x=Math.floor((f+v)/2),g=dP(m(x-1),2),b=g[0],j=g[1],N=dP(m(x),1)[0];if(b||N||(f=x+1),b&&N&&(v=x-1),!b&&N){p=j;break}y++}return p||h}({breakAll:s,children:a,maxLines:i,style:r},o.wordsWithComputedWidth,o.spaceWidth,t,n):fP(a)}return fP(a)},yP="#808080",xP=function(e){var t=e.x,n=void 0===t?0:t,a=e.y,r=void 0===a?0:a,s=e.lineHeight,i=void 0===s?"1em":s,o=e.capHeight,l=void 0===o?"0.71em":o,c=e.scaleToFit,u=void 0!==c&&c,d=e.textAnchor,h=void 0===d?"start":d,p=e.verticalAnchor,m=void 0===p?"end":p,f=e.fill,v=void 0===f?yP:f,y=uP(e,oP),x=z.useMemo(function(){return vP({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:u,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,u,y.style,y.width]),g=y.dx,b=y.dy,j=y.angle,N=y.className,w=y.breakAll,S=uP(y,lP);if(!Gx(n)||!Gx(r))return null;var k,O=n+(Hx(g)?g:0),C=r+(Hx(b)?b:0);switch(m){case"start":k=iP("calc(".concat(l,")"));break;case"middle":k=iP("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:k=iP("calc(".concat(x.length-1," * -").concat(i,")"))}var P=[];if(u){var E=x[0].width,_=y.width;P.push("scale(".concat((Hx(_)?_/E:1)/E,")"))}return j&&P.push("rotate(".concat(j,", ").concat(O,", ").concat(C,")")),P.length&&(S.transform=P.join(" ")),U.createElement("text",cP({},Sg(S,!0),{x:O,y:C,className:Wf("recharts-text",N),textAnchor:h,fill:v.includes("url")?yP:v}),x.map(function(e,t){var n=e.words.join(w?"":" ");return U.createElement("tspan",{x:O,dy:0===t?k:i,key:"".concat(n,"-").concat(t)},n)}))};function gP(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bP(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jP(e){let t,n,a;function r(e,a,r=0,s=e.length){if(r<s){if(0!==t(a,a))return s;do{const t=r+s>>>1;n(e[t],a)<0?r=t+1:s=t}while(r<s)}return r}return 2!==e.length?(t=gP,n=(t,n)=>gP(e(t),n),a=(t,n)=>e(t)-n):(t=e===gP||e===bP?e:NP,n=e,a=e),{left:r,center:function(e,t,n=0,s=e.length){const i=r(e,t,n,s-1);return i>n&&a(e[i-1],t)>-a(e[i],t)?i-1:i},right:function(e,a,r=0,s=e.length){if(r<s){if(0!==t(a,a))return s;do{const t=r+s>>>1;n(e[t],a)<=0?r=t+1:s=t}while(r<s)}return r}}}function NP(){return 0}function wP(e){return null===e?NaN:+e}const SP=jP(gP).right;jP(wP).center;class kP extends Map{constructor(e,t=CP){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(OP(this,e))}has(e){return super.has(OP(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):(e.set(a,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const a=t(n);e.has(a)&&(n=e.get(a),e.delete(a));return n}(this,e))}}function OP({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function CP(e){return null!==e&&"object"==typeof e?e.valueOf():e}function PP(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const EP=Math.sqrt(50),_P=Math.sqrt(10),AP=Math.sqrt(2);function TP(e,t,n){const a=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(a)),s=a/Math.pow(10,r),i=s>=EP?10:s>=_P?5:s>=AP?2:1;let o,l,c;return r<0?(c=Math.pow(10,-r)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?TP(e,t,2*n):[o,l,c]}function MP(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const a=t<e,[r,s,i]=a?TP(t,e,n):TP(e,t,n);if(!(s>=r))return[];const o=s-r+1,l=new Array(o);if(a)if(i<0)for(let c=0;c<o;++c)l[c]=(s-c)/-i;else for(let c=0;c<o;++c)l[c]=(s-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(r+c)/-i;else for(let c=0;c<o;++c)l[c]=(r+c)*i;return l}function RP(e,t,n){return TP(e=+e,t=+t,n=+n)[2]}function DP(e,t,n){n=+n;const a=(t=+t)<(e=+e),r=a?RP(t,e,n):RP(e,t,n);return(a?-1:1)*(r<0?1/-r:r)}function IP(e,t){let n;for(const a of e)null!=a&&(n<a||void 0===n&&a>=a)&&(n=a);return n}function LP(e,t){let n;for(const a of e)null!=a&&(n>a||void 0===n&&a>=a)&&(n=a);return n}function BP(e,t,n=0,a=1/0,r){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=t&&t<=a))return e;for(r=void 0===r?PP:function(e=gP){if(e===gP)return PP;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const a=e(t,n);return a||0===a?a:(0===e(n,n))-(0===e(t,t))}}(r);a>n;){if(a-n>600){const s=a-n+1,i=t-n+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(i-s/2<0?-1:1);BP(e,t,Math.max(n,Math.floor(t-i*l/s+c)),Math.min(a,Math.floor(t+(s-i)*l/s+c)),r)}const s=e[t];let i=n,o=a;for(FP(e,n,t),r(e[a],s)>0&&FP(e,n,a);i<o;){for(FP(e,i,o),++i,--o;r(e[i],s)<0;)++i;for(;r(e[o],s)>0;)--o}0===r(e[n],s)?FP(e,n,o):(++o,FP(e,o,a)),o<=t&&(n=o+1),t<=o&&(a=o-1)}return e}function FP(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function $P(e,t,n=wP){if((a=e.length)&&!isNaN(t=+t)){if(t<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,r=(a-1)*t,s=Math.floor(r),i=+n(e[s],s,e);return i+(+n(e[s+1],s+1,e)-i)*(r-s)}}function zP(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function UP(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const qP=Symbol("implicit");function VP(){var e=new kP,t=[],n=[],a=qP;function r(r){let s=e.get(r);if(void 0===s){if(a!==qP)return a;e.set(r,s=t.push(r)-1)}return n[s%n.length]}return r.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new kP;for(const a of n)e.has(a)||e.set(a,t.push(a)-1);return r},r.range=function(e){return arguments.length?(n=Array.from(e),r):n.slice()},r.unknown=function(e){return arguments.length?(a=e,r):a},r.copy=function(){return VP(t,n).unknown(a)},zP.apply(r,arguments),r}function WP(){var e,t,n=VP().unknown(void 0),a=n.domain,r=n.range,s=0,i=1,o=!1,l=0,c=0,u=.5;function d(){var n=a().length,d=i<s,h=d?i:s,p=d?s:i;e=(p-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(p-h-e*(n-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var m=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var a=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),s=new Array(r);++a<r;)s[a]=e+a*n;return s}(n).map(function(t){return h+e*t});return r(d?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(a(e),d()):a()},n.range=function(e){return arguments.length?([s,i]=e,s=+s,i=+i,d()):[s,i]},n.rangeRound=function(e){return[s,i]=e,s=+s,i=+i,o=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,d()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return WP(a(),[s,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},zP.apply(d(),arguments)}function KP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return KP(t())},e}function HP(){return KP(WP.apply(null,arguments).paddingInner(1))}function GP(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function QP(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function XP(){}var YP=.7,JP=1/YP,ZP="\\s*([+-]?\\d+)\\s*",eE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nE=/^#([0-9a-f]{3,8})$/,aE=new RegExp(`^rgb\\(${ZP},${ZP},${ZP}\\)$`),rE=new RegExp(`^rgb\\(${tE},${tE},${tE}\\)$`),sE=new RegExp(`^rgba\\(${ZP},${ZP},${ZP},${eE}\\)$`),iE=new RegExp(`^rgba\\(${tE},${tE},${tE},${eE}\\)$`),oE=new RegExp(`^hsl\\(${eE},${tE},${tE}\\)$`),lE=new RegExp(`^hsla\\(${eE},${tE},${tE},${eE}\\)$`),cE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function uE(){return this.rgb().formatHex()}function dE(){return this.rgb().formatRgb()}function hE(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nE.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?pE(t):3===n?new vE(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?mE(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?mE(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=aE.exec(e))?new vE(t[1],t[2],t[3],1):(t=rE.exec(e))?new vE(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=sE.exec(e))?mE(t[1],t[2],t[3],t[4]):(t=iE.exec(e))?mE(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=oE.exec(e))?NE(t[1],t[2]/100,t[3]/100,1):(t=lE.exec(e))?NE(t[1],t[2]/100,t[3]/100,t[4]):cE.hasOwnProperty(e)?pE(cE[e]):"transparent"===e?new vE(NaN,NaN,NaN,0):null}function pE(e){return new vE(e>>16&255,e>>8&255,255&e,1)}function mE(e,t,n,a){return a<=0&&(e=t=n=NaN),new vE(e,t,n,a)}function fE(e,t,n,a){return 1===arguments.length?((r=e)instanceof XP||(r=hE(r)),r?new vE((r=r.rgb()).r,r.g,r.b,r.opacity):new vE):new vE(e,t,n,null==a?1:a);var r}function vE(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function yE(){return`#${jE(this.r)}${jE(this.g)}${jE(this.b)}`}function xE(){const e=gE(this.opacity);return`${1===e?"rgb(":"rgba("}${bE(this.r)}, ${bE(this.g)}, ${bE(this.b)}${1===e?")":`, ${e})`}`}function gE(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bE(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jE(e){return((e=bE(e))<16?"0":"")+e.toString(16)}function NE(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new SE(e,t,n,a)}function wE(e){if(e instanceof SE)return new SE(e.h,e.s,e.l,e.opacity);if(e instanceof XP||(e=hE(e)),!e)return new SE;if(e instanceof SE)return e;var t=(e=e.rgb()).r/255,n=e.g/255,a=e.b/255,r=Math.min(t,n,a),s=Math.max(t,n,a),i=NaN,o=s-r,l=(s+r)/2;return o?(i=t===s?(n-a)/o+6*(n<a):n===s?(a-t)/o+2:(t-n)/o+4,o/=l<.5?s+r:2-s-r,i*=60):o=l>0&&l<1?0:i,new SE(i,o,l,e.opacity)}function SE(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function kE(e){return(e=(e||0)%360)<0?e+360:e}function OE(e){return Math.max(0,Math.min(1,e||0))}function CE(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}GP(XP,hE,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uE,formatHex:uE,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return wE(this).formatHsl()},formatRgb:dE,toString:dE}),GP(vE,fE,QP(XP,{brighter(e){return e=null==e?JP:Math.pow(JP,e),new vE(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?YP:Math.pow(YP,e),new vE(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vE(bE(this.r),bE(this.g),bE(this.b),gE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yE,formatHex:yE,formatHex8:function(){return`#${jE(this.r)}${jE(this.g)}${jE(this.b)}${jE(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:xE,toString:xE})),GP(SE,function(e,t,n,a){return 1===arguments.length?wE(e):new SE(e,t,n,null==a?1:a)},QP(XP,{brighter(e){return e=null==e?JP:Math.pow(JP,e),new SE(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?YP:Math.pow(YP,e),new SE(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new vE(CE(e>=240?e-240:e+120,r,a),CE(e,r,a),CE(e<120?e+240:e-120,r,a),this.opacity)},clamp(){return new SE(kE(this.h),OE(this.s),OE(this.l),gE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gE(this.opacity);return`${1===e?"hsl(":"hsla("}${kE(this.h)}, ${100*OE(this.s)}%, ${100*OE(this.l)}%${1===e?")":`, ${e})`}`}}));const PE=e=>()=>e;function EE(e){return 1===(e=+e)?_E:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}(t,n,e):PE(isNaN(t)?n:t)}}function _E(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):PE(isNaN(e)?t:e)}const AE=function e(t){var n=EE(t);function a(e,t){var a=n((e=fE(e)).r,(t=fE(t)).r),r=n(e.g,t.g),s=n(e.b,t.b),i=_E(e.opacity,t.opacity);return function(t){return e.r=a(t),e.g=r(t),e.b=s(t),e.opacity=i(t),e+""}}return a.gamma=e,a}(1);function TE(e,t){t||(t=[]);var n,a=e?Math.min(t.length,e.length):0,r=t.slice();return function(s){for(n=0;n<a;++n)r[n]=e[n]*(1-s)+t[n]*s;return r}}function ME(e,t){var n,a=t?t.length:0,r=e?Math.min(a,e.length):0,s=new Array(r),i=new Array(a);for(n=0;n<r;++n)s[n]=$E(e[n],t[n]);for(;n<a;++n)i[n]=t[n];return function(e){for(n=0;n<r;++n)i[n]=s[n](e);return i}}function RE(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function DE(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function IE(e,t){var n,a={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?a[n]=$E(e[n],t[n]):r[n]=t[n];return function(e){for(n in a)r[n]=a[n](e);return r}}var LE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,BE=new RegExp(LE.source,"g");function FE(e,t){var n,a,r,s=LE.lastIndex=BE.lastIndex=0,i=-1,o=[],l=[];for(e+="",t+="";(n=LE.exec(e))&&(a=BE.exec(t));)(r=a.index)>s&&(r=t.slice(s,r),o[i]?o[i]+=r:o[++i]=r),(n=n[0])===(a=a[0])?o[i]?o[i]+=a:o[++i]=a:(o[++i]=null,l.push({i:i,x:DE(n,a)})),s=BE.lastIndex;return s<t.length&&(r=t.slice(s),o[i]?o[i]+=r:o[++i]=r),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,a=0;a<t;++a)o[(n=l[a]).i]=n.x(e);return o.join("")})}function $E(e,t){var n,a,r=typeof t;return null==t||"boolean"===r?PE(t):("number"===r?DE:"string"===r?(n=hE(t))?(t=n,AE):FE:t instanceof hE?AE:t instanceof Date?RE:(a=t,!ArrayBuffer.isView(a)||a instanceof DataView?Array.isArray(t)?ME:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?IE:DE:TE))(e,t)}function zE(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function UE(e){return+e}var qE=[0,1];function VE(e){return e}function WE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function KE(e,t,n){var a=e[0],r=e[1],s=t[0],i=t[1];return r<a?(a=WE(r,a),s=n(i,s)):(a=WE(a,r),s=n(s,i)),function(e){return s(a(e))}}function HE(e,t,n){var a=Math.min(e.length,t.length)-1,r=new Array(a),s=new Array(a),i=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<a;)r[i]=WE(e[i],e[i+1]),s[i]=n(t[i],t[i+1]);return function(t){var n=SP(e,t,1,a)-1;return s[n](r[n](t))}}function GE(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function QE(){var e,t,n,a,r,s,i=qE,o=qE,l=$E,c=VE;function u(){var e=Math.min(i.length,o.length);return c!==VE&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(i[0],i[e-1])),a=e>2?HE:KE,r=s=null,d}function d(t){return null==t||isNaN(t=+t)?n:(r||(r=a(i.map(e),o,l)))(e(c(t)))}return d.invert=function(n){return c(t((s||(s=a(o,i.map(e),DE)))(n)))},d.domain=function(e){return arguments.length?(i=Array.from(e,UE),u()):i.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=zE,u()},d.clamp=function(e){return arguments.length?(c=!!e||VE,u()):c!==VE},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,a){return e=n,t=a,u()}}function XE(){return QE()(VE,VE)}function YE(e,t){if(!isFinite(e)||0===e)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function JE(e){return(e=YE(Math.abs(e)))?e[1]:NaN}var ZE,e_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function t_(e){if(!(t=e_.exec(e)))throw new Error("invalid format: "+e);var t;return new n_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function n_(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function a_(e,t){var n=YE(e,t);if(!n)return e+"";var a=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+a:a.length>r+1?a.slice(0,r+1)+"."+a.slice(r+1):a+new Array(r-a.length+2).join("0")}t_.prototype=n_.prototype,n_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const r_={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>a_(100*e,t),r:a_,s:function(e,t){var n=YE(e,t);if(!n)return ZE=void 0,e.toPrecision(t);var a=n[0],r=n[1],s=r-(ZE=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,i=a.length;return s===i?a:s>i?a+new Array(s-i+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+YE(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function s_(e){return e}var i_,o_,l_,c_=Array.prototype.map,u_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function d_(e){var t,n,a=void 0===e.grouping||void 0===e.thousands?s_:(t=c_.call(e.grouping,Number),n=e.thousands+"",function(e,a){for(var r=e.length,s=[],i=0,o=t[0],l=0;r>0&&o>0&&(l+o+1>a&&(o=Math.max(1,a-l)),s.push(e.substring(r-=o,r+o)),!((l+=o+1)>a));)o=t[i=(i+1)%t.length];return s.reverse().join(n)}),r=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?s_:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(c_.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e,t){var n=(e=t_(e)).fill,d=e.align,h=e.sign,p=e.symbol,m=e.zero,f=e.width,v=e.comma,y=e.precision,x=e.trim,g=e.type;"n"===g?(v=!0,g="g"):r_[g]||(void 0===y&&(y=12),x=!0,g="g"),(m||"0"===n&&"="===d)&&(m=!0,n="0",d="=");var b=(t&&void 0!==t.prefix?t.prefix:"")+("$"===p?r:"#"===p&&/[boxX]/.test(g)?"0"+g.toLowerCase():""),j=("$"===p?s:/[%p]/.test(g)?l:"")+(t&&void 0!==t.suffix?t.suffix:""),N=r_[g],w=/[defgprs%]/.test(g);function S(e){var t,r,s,l=b,p=j;if("c"===g)p=N(e)+p,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:N(Math.abs(e),y),x&&(e=function(e){e:for(var t,n=e.length,a=1,r=-1;a<n;++a)switch(e[a]){case".":r=t=a;break;case"0":0===r&&(r=a),t=a;break;default:if(!+e[a])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==h&&(S=!1),l=(S?"("===h?h:c:"-"===h||"("===h?"":h)+l,p=("s"!==g||isNaN(e)||void 0===ZE?"":u_[8+ZE/3])+p+(S&&"("===h?")":""),w)for(t=-1,r=e.length;++t<r;)if(48>(s=e.charCodeAt(t))||s>57){p=(46===s?i+e.slice(t+1):e.slice(t))+p,e=e.slice(0,t);break}}v&&!m&&(e=a(e,1/0));var k=l.length+e.length+p.length,O=k<f?new Array(f-k+1).join(n):"";switch(v&&m&&(e=a(O+e,O.length?f-p.length:1/0),O=""),d){case"<":e=l+e+p+O;break;case"=":e=l+O+e+p;break;case"^":e=O.slice(0,k=O.length>>1)+l+e+p+O.slice(k);break;default:e=O+l+e+p}return o(e)}return y=void 0===y?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=3*Math.max(-8,Math.min(8,Math.floor(JE(t)/3))),a=Math.pow(10,-n),r=d(((e=t_(e)).type="f",e),{suffix:u_[8+n/3]});return function(e){return r(a*e)}}}}function h_(e,t,n,a){var r,s=DP(e,t,n);switch((a=t_(null==a?",f":a)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(JE(t)/3)))-JE(Math.abs(e)))}(s,i))||(a.precision=r),l_(a,i);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,JE(t)-JE(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=r-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(r=function(e){return Math.max(0,-JE(Math.abs(e)))}(s))||(a.precision=r-2*("%"===a.type))}return o_(a)}function p_(e){var t=e.domain;return e.ticks=function(e){var n=t();return MP(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var a=t();return h_(a[0],a[a.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var a,r,s=t(),i=0,o=s.length-1,l=s[i],c=s[o],u=10;for(c<l&&(r=l,l=c,c=r,r=i,i=o,o=r);u-- >0;){if((r=RP(l,c,n))===a)return s[i]=l,s[o]=c,t(s);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}a=r}return e},e}function m_(){var e=XE();return e.copy=function(){return GE(e,m_())},zP.apply(e,arguments),p_(e)}function f_(e,t){var n,a=0,r=(e=e.slice()).length-1,s=e[a],i=e[r];return i<s&&(n=a,a=r,r=n,n=s,s=i,i=n),e[a]=t.floor(s),e[r]=t.ceil(i),e}function v_(e){return Math.log(e)}function y_(e){return Math.exp(e)}function x_(e){return-Math.log(-e)}function g_(e){return-Math.exp(-e)}function b_(e){return isFinite(e)?+("1e"+e):e<0?0:e}function j_(e){return(t,n)=>-e(-t,n)}function N_(e){const t=e(v_,y_),n=t.domain;let a,r,s=10;function i(){return a=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),r=function(e){return 10===e?b_:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),n()[0]<0?(a=j_(a),r=j_(r),e(x_,g_)):e(v_,y_),t}return t.base=function(e){return arguments.length?(s=+e,i()):s},t.domain=function(e){return arguments.length?(n(e),i()):n()},t.ticks=e=>{const t=n();let i=t[0],o=t[t.length-1];const l=o<i;l&&([i,o]=[o,i]);let c,u,d=a(i),h=a(o);const p=null==e?10:+e;let m=[];if(!(s%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),i>0){for(;d<=h;++d)for(c=1;c<s;++c)if(u=d<0?c/r(-d):c*r(d),!(u<i)){if(u>o)break;m.push(u)}}else for(;d<=h;++d)for(c=s-1;c>=1;--c)if(u=d>0?c/r(-d):c*r(d),!(u<i)){if(u>o)break;m.push(u)}2*m.length<p&&(m=MP(i,o,p))}else m=MP(d,h,Math.min(h-d,p)).map(r);return l?m.reverse():m},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===s?"s":","),"function"!=typeof n&&(s%1||null!=(n=t_(n)).precision||(n.trim=!0),n=o_(n)),e===1/0)return n;const i=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/r(Math.round(a(e)));return t*s<s-.5&&(t*=s),t<=i?n(e):""}},t.nice=()=>n(f_(n(),{floor:e=>r(Math.floor(a(e))),ceil:e=>r(Math.ceil(a(e)))})),t}function w_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function S_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function k_(e){var t=1,n=e(w_(t),S_(t));return n.constant=function(n){return arguments.length?e(w_(t=+n),S_(t)):t},p_(n)}function O_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function C_(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function P_(e){return e<0?-e*e:e*e}function E_(e){var t=e(VE,VE),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(VE,VE):.5===n?e(C_,P_):e(O_(n),O_(1/n)):n},p_(t)}function __(){var e=E_(QE());return e.copy=function(){return GE(e,__()).exponent(e.exponent())},zP.apply(e,arguments),e}function A_(e){return Math.sign(e)*e*e}i_=d_({thousands:",",grouping:[3],currency:["$",""]}),o_=i_.format,l_=i_.formatPrefix;const T_=new Date,M_=new Date;function R_(e,t,n,a){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=t=>(e(t=new Date(+t)),t),r.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),r.round=e=>{const t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),r.range=(n,a,s)=>{const i=[];if(n=r.ceil(n),s=null==s?1:Math.floor(s),!(n<a&&s>0))return i;let o;do{i.push(o=new Date(+n)),t(n,s),e(n)}while(o<n&&n<a);return i},r.filter=n=>R_(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,a)=>{if(e>=e)if(a<0)for(;++a<=0;)for(;t(e,-1),!n(e););else for(;--a>=0;)for(;t(e,1),!n(e););}),n&&(r.count=(t,a)=>(T_.setTime(+t),M_.setTime(+a),e(T_),e(M_),Math.floor(n(T_,M_))),r.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(a?t=>a(t)%e===0:t=>r.count(0,t)%e===0):r:null)),r}const D_=R_(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);D_.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?R_(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):D_:null),D_.range;const I_=1e3,L_=6e4,B_=36e5,F_=864e5,$_=6048e5,z_=2592e6,U_=31536e6,q_=R_(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*I_)},(e,t)=>(t-e)/I_,e=>e.getUTCSeconds());q_.range;const V_=R_(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*I_)},(e,t)=>{e.setTime(+e+t*L_)},(e,t)=>(t-e)/L_,e=>e.getMinutes());V_.range;const W_=R_(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*L_)},(e,t)=>(t-e)/L_,e=>e.getUTCMinutes());W_.range;const K_=R_(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*I_-e.getMinutes()*L_)},(e,t)=>{e.setTime(+e+t*B_)},(e,t)=>(t-e)/B_,e=>e.getHours());K_.range;const H_=R_(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*B_)},(e,t)=>(t-e)/B_,e=>e.getUTCHours());H_.range;const G_=R_(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*L_)/F_,e=>e.getDate()-1);G_.range;const Q_=R_(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/F_,e=>e.getUTCDate()-1);Q_.range;const X_=R_(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/F_,e=>Math.floor(e/F_));function Y_(e){return R_(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*L_)/$_)}X_.range;const J_=Y_(0),Z_=Y_(1),eA=Y_(2),tA=Y_(3),nA=Y_(4),aA=Y_(5),rA=Y_(6);function sA(e){return R_(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/$_)}J_.range,Z_.range,eA.range,tA.range,nA.range,aA.range,rA.range;const iA=sA(0),oA=sA(1),lA=sA(2),cA=sA(3),uA=sA(4),dA=sA(5),hA=sA(6);iA.range,oA.range,lA.range,cA.range,uA.range,dA.range,hA.range;const pA=R_(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());pA.range;const mA=R_(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());mA.range;const fA=R_(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fA.every=e=>isFinite(e=Math.floor(e))&&e>0?R_(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,fA.range;const vA=R_(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function yA(e,t,n,a,r,s){const i=[[q_,1,I_],[q_,5,5e3],[q_,15,15e3],[q_,30,3e4],[s,1,L_],[s,5,3e5],[s,15,9e5],[s,30,18e5],[r,1,B_],[r,3,108e5],[r,6,216e5],[r,12,432e5],[a,1,F_],[a,2,1728e5],[n,1,$_],[t,1,z_],[t,3,7776e6],[e,1,U_]];function o(t,n,a){const r=Math.abs(n-t)/a,s=jP(([,,e])=>e).right(i,r);if(s===i.length)return e.every(DP(t/U_,n/U_,a));if(0===s)return D_.every(Math.max(DP(t,n,a),1));const[o,l]=i[r/i[s-1][2]<i[s][2]/r?s-1:s];return o.every(l)}return[function(e,t,n){const a=t<e;a&&([e,t]=[t,e]);const r=n&&"function"==typeof n.range?n:o(e,t,n),s=r?r.range(e,+t+1):[];return a?s.reverse():s},o]}vA.every=e=>isFinite(e=Math.floor(e))&&e>0?R_(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,vA.range;const[xA,gA]=yA(vA,mA,iA,X_,H_,W_),[bA,jA]=yA(fA,pA,J_,G_,K_,V_);function NA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function SA(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var kA,OA,CA,PA={"-":"",_:" ",0:"0"},EA=/^\s*\d+/,_A=/^%/,AA=/[\\^$*+?|[\]().{}]/g;function TA(e,t,n){var a=e<0?"-":"",r=(a?-e:e)+"",s=r.length;return a+(s<n?new Array(n-s+1).join(t)+r:r)}function MA(e){return e.replace(AA,"\\$&")}function RA(e){return new RegExp("^(?:"+e.map(MA).join("|")+")","i")}function DA(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function IA(e,t,n){var a=EA.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function LA(e,t,n){var a=EA.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function BA(e,t,n){var a=EA.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function FA(e,t,n){var a=EA.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function $A(e,t,n){var a=EA.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function zA(e,t,n){var a=EA.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function UA(e,t,n){var a=EA.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function qA(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function VA(e,t,n){var a=EA.exec(t.slice(n,n+1));return a?(e.q=3*a[0]-3,n+a[0].length):-1}function WA(e,t,n){var a=EA.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function KA(e,t,n){var a=EA.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function HA(e,t,n){var a=EA.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function GA(e,t,n){var a=EA.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function QA(e,t,n){var a=EA.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function XA(e,t,n){var a=EA.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function YA(e,t,n){var a=EA.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function JA(e,t,n){var a=EA.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function ZA(e,t,n){var a=_A.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function eT(e,t,n){var a=EA.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function tT(e,t,n){var a=EA.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function nT(e,t){return TA(e.getDate(),t,2)}function aT(e,t){return TA(e.getHours(),t,2)}function rT(e,t){return TA(e.getHours()%12||12,t,2)}function sT(e,t){return TA(1+G_.count(fA(e),e),t,3)}function iT(e,t){return TA(e.getMilliseconds(),t,3)}function oT(e,t){return iT(e,t)+"000"}function lT(e,t){return TA(e.getMonth()+1,t,2)}function cT(e,t){return TA(e.getMinutes(),t,2)}function uT(e,t){return TA(e.getSeconds(),t,2)}function dT(e){var t=e.getDay();return 0===t?7:t}function hT(e,t){return TA(J_.count(fA(e)-1,e),t,2)}function pT(e){var t=e.getDay();return t>=4||0===t?nA(e):nA.ceil(e)}function mT(e,t){return e=pT(e),TA(nA.count(fA(e),e)+(4===fA(e).getDay()),t,2)}function fT(e){return e.getDay()}function vT(e,t){return TA(Z_.count(fA(e)-1,e),t,2)}function yT(e,t){return TA(e.getFullYear()%100,t,2)}function xT(e,t){return TA((e=pT(e)).getFullYear()%100,t,2)}function gT(e,t){return TA(e.getFullYear()%1e4,t,4)}function bT(e,t){var n=e.getDay();return TA((e=n>=4||0===n?nA(e):nA.ceil(e)).getFullYear()%1e4,t,4)}function jT(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+TA(t/60|0,"0",2)+TA(t%60,"0",2)}function NT(e,t){return TA(e.getUTCDate(),t,2)}function wT(e,t){return TA(e.getUTCHours(),t,2)}function ST(e,t){return TA(e.getUTCHours()%12||12,t,2)}function kT(e,t){return TA(1+Q_.count(vA(e),e),t,3)}function OT(e,t){return TA(e.getUTCMilliseconds(),t,3)}function CT(e,t){return OT(e,t)+"000"}function PT(e,t){return TA(e.getUTCMonth()+1,t,2)}function ET(e,t){return TA(e.getUTCMinutes(),t,2)}function _T(e,t){return TA(e.getUTCSeconds(),t,2)}function AT(e){var t=e.getUTCDay();return 0===t?7:t}function TT(e,t){return TA(iA.count(vA(e)-1,e),t,2)}function MT(e){var t=e.getUTCDay();return t>=4||0===t?uA(e):uA.ceil(e)}function RT(e,t){return e=MT(e),TA(uA.count(vA(e),e)+(4===vA(e).getUTCDay()),t,2)}function DT(e){return e.getUTCDay()}function IT(e,t){return TA(oA.count(vA(e)-1,e),t,2)}function LT(e,t){return TA(e.getUTCFullYear()%100,t,2)}function BT(e,t){return TA((e=MT(e)).getUTCFullYear()%100,t,2)}function FT(e,t){return TA(e.getUTCFullYear()%1e4,t,4)}function $T(e,t){var n=e.getUTCDay();return TA((e=n>=4||0===n?uA(e):uA.ceil(e)).getUTCFullYear()%1e4,t,4)}function zT(){return"+0000"}function UT(){return"%"}function qT(e){return+e}function VT(e){return Math.floor(+e/1e3)}function WT(e){return new Date(e)}function KT(e){return e instanceof Date?+e:+new Date(+e)}function HT(e,t,n,a,r,s,i,o,l,c){var u=XE(),d=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),f=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),x=c("%b %d"),g=c("%B"),b=c("%Y");function j(e){return(l(e)<e?p:o(e)<e?m:i(e)<e?f:s(e)<e?v:a(e)<e?r(e)<e?y:x:n(e)<e?g:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,KT)):h().map(WT)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?j:c(t)},u.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(f_(n,e)):u},u.copy=function(){return GE(u,HT(e,t,n,a,r,s,i,o,l,c))},u}function GT(){var e,t,n,a,r,s=0,i=1,o=VE,l=!1;function c(t){return null==t||isNaN(t=+t)?r:o(0===n?.5:(t=(a(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,a;return arguments.length?([n,a]=t,o=e(n,a),c):[o(0),o(1)]}}return c.domain=function(r){return arguments.length?([s,i]=r,e=a(s=+s),t=a(i=+i),n=e===t?0:1/(t-e),c):[s,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u($E),c.rangeRound=u(zE),c.unknown=function(e){return arguments.length?(r=e,c):r},function(r){return a=r,e=r(s),t=r(i),n=e===t?0:1/(t-e),c}}function QT(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function XT(){var e=E_(GT());return e.copy=function(){return QT(e,XT()).exponent(e.exponent())},UP.apply(e,arguments)}function YT(){var e,t,n,a,r,s,i,o=0,l=.5,c=1,u=1,d=VE,h=!1;function p(e){return isNaN(e=+e)?i:(e=.5+((e=+s(e))-t)*(u*e<u*t?a:r),d(h?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,a,r;return arguments.length?([n,a,r]=t,d=function(e,t){void 0===t&&(t=e,e=$E);for(var n=0,a=t.length-1,r=t[0],s=new Array(a<0?0:a);n<a;)s[n]=e(r,r=t[++n]);return function(e){var t=Math.max(0,Math.min(a-1,Math.floor(e*=a)));return s[t](e-t)}}(e,[n,a,r]),p):[d(0),d(.5),d(1)]}}return p.domain=function(i){return arguments.length?([o,l,c]=i,e=s(o=+o),t=s(l=+l),n=s(c=+c),a=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),u=t<e?-1:1,p):[o,l,c]},p.clamp=function(e){return arguments.length?(h=!!e,p):h},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=m($E),p.rangeRound=m(zE),p.unknown=function(e){return arguments.length?(i=e,p):i},function(i){return s=i,e=i(o),t=i(l),n=i(c),a=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),u=t<e?-1:1,p}}function JT(){var e=E_(YT());return e.copy=function(){return QT(e,JT()).exponent(e.exponent())},UP.apply(e,arguments)}!function(e){kA=function(e){var t=e.dateTime,n=e.date,a=e.time,r=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=RA(r),u=DA(r),d=RA(s),h=DA(s),p=RA(i),m=DA(i),f=RA(o),v=DA(o),y=RA(l),x=DA(l),g={a:function(e){return i[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:nT,e:nT,f:oT,g:xT,G:bT,H:aT,I:rT,j:sT,L:iT,m:lT,M:cT,p:function(e){return r[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:qT,s:VT,S:uT,u:dT,U:hT,V:mT,w:fT,W:vT,x:null,X:null,y:yT,Y:gT,Z:jT,"%":UT},b={a:function(e){return i[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:NT,e:NT,f:CT,g:BT,G:$T,H:wT,I:ST,j:kT,L:OT,m:PT,M:ET,p:function(e){return r[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:qT,s:VT,S:_T,u:AT,U:TT,V:RT,w:DT,W:IT,x:null,X:null,y:LT,Y:FT,Z:zT,"%":UT},j={a:function(e,t,n){var a=p.exec(t.slice(n));return a?(e.w=m.get(a[0].toLowerCase()),n+a[0].length):-1},A:function(e,t,n){var a=d.exec(t.slice(n));return a?(e.w=h.get(a[0].toLowerCase()),n+a[0].length):-1},b:function(e,t,n){var a=y.exec(t.slice(n));return a?(e.m=x.get(a[0].toLowerCase()),n+a[0].length):-1},B:function(e,t,n){var a=f.exec(t.slice(n));return a?(e.m=v.get(a[0].toLowerCase()),n+a[0].length):-1},c:function(e,n,a){return S(e,t,n,a)},d:KA,e:KA,f:JA,g:UA,G:zA,H:GA,I:GA,j:HA,L:YA,m:WA,M:QA,p:function(e,t,n){var a=c.exec(t.slice(n));return a?(e.p=u.get(a[0].toLowerCase()),n+a[0].length):-1},q:VA,Q:eT,s:tT,S:XA,u:LA,U:BA,V:FA,w:IA,W:$A,x:function(e,t,a){return S(e,n,t,a)},X:function(e,t,n){return S(e,a,t,n)},y:UA,Y:zA,Z:qA,"%":ZA};function N(e,t){return function(n){var a,r,s,i=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(i.push(e.slice(l,o)),null!=(r=PA[a=e.charAt(++o)])?a=e.charAt(++o):r="e"===a?" ":"0",(s=t[a])&&(a=s(n,r)),i.push(a),l=o+1);return i.push(e.slice(l,o)),i.join("")}}function w(e,t){return function(n){var a,r,s=SA(1900,void 0,1);if(S(s,e,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(r=(a=wA(SA(s.y,0,1))).getUTCDay(),a=r>4||0===r?oA.ceil(a):oA(a),a=Q_.offset(a,7*(s.V-1)),s.y=a.getUTCFullYear(),s.m=a.getUTCMonth(),s.d=a.getUTCDate()+(s.w+6)%7):(r=(a=NA(SA(s.y,0,1))).getDay(),a=r>4||0===r?Z_.ceil(a):Z_(a),a=G_.offset(a,7*(s.V-1)),s.y=a.getFullYear(),s.m=a.getMonth(),s.d=a.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),r="Z"in s?wA(SA(s.y,0,1)).getUTCDay():NA(SA(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(r+5)%7:s.w+7*s.U-(r+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,wA(s)):NA(s)}}function S(e,t,n,a){for(var r,s,i=0,o=t.length,l=n.length;i<o;){if(a>=l)return-1;if(37===(r=t.charCodeAt(i++))){if(r=t.charAt(i++),!(s=j[r in PA?t.charAt(i++):r])||(a=s(e,n,a))<0)return-1}else if(r!=n.charCodeAt(a++))return-1}return a}return g.x=N(n,g),g.X=N(a,g),g.c=N(t,g),b.x=N(n,b),b.X=N(a,b),b.c=N(t,b),{format:function(e){var t=N(e+="",g);return t.toString=function(){return e},t},parse:function(e){var t=w(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=N(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=w(e+="",!0);return t.toString=function(){return e},t}}}(e),OA=kA.format,kA.parse,CA=kA.utcFormat,kA.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const ZT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:WP,scaleDiverging:function e(){var t=p_(YT()(VE));return t.copy=function(){return QT(t,e())},UP.apply(t,arguments)},scaleDivergingLog:function e(){var t=N_(YT()).domain([.1,1,10]);return t.copy=function(){return QT(t,e()).base(t.base())},UP.apply(t,arguments)},scaleDivergingPow:JT,scaleDivergingSqrt:function(){return JT.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=k_(YT());return t.copy=function(){return QT(t,e()).constant(t.constant())},UP.apply(t,arguments)},scaleIdentity:function e(t){var n;function a(e){return null==e||isNaN(e=+e)?n:e}return a.invert=a,a.domain=a.range=function(e){return arguments.length?(t=Array.from(e,UE),a):t.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,UE):[0,1],p_(a)},scaleImplicit:qP,scaleLinear:m_,scaleLog:function e(){const t=N_(QE()).domain([1,10]);return t.copy=()=>GE(t,e()).base(t.base()),zP.apply(t,arguments),t},scaleOrdinal:VP,scalePoint:HP,scalePow:__,scaleQuantile:function e(){var t,n=[],a=[],r=[];function s(){var e=0,t=Math.max(1,a.length);for(r=new Array(t-1);++e<t;)r[e-1]=$P(n,e/t);return i}function i(e){return null==e||isNaN(e=+e)?t:a[SP(r,e)]}return i.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:[t>0?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]},i.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(gP),s()},i.range=function(e){return arguments.length?(a=Array.from(e),s()):a.slice()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.quantiles=function(){return r.slice()},i.copy=function(){return e().domain(n).range(a).unknown(t)},zP.apply(i,arguments)},scaleQuantize:function e(){var t,n=0,a=1,r=1,s=[.5],i=[0,1];function o(e){return null!=e&&e<=e?i[SP(s,e,0,r)]:t}function l(){var e=-1;for(s=new Array(r);++e<r;)s[e]=((e+1)*a-(e-r)*n)/(r+1);return o}return o.domain=function(e){return arguments.length?([n,a]=e,n=+n,a=+a,l()):[n,a]},o.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,l()):i.slice()},o.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,s[0]]:t>=r?[s[r-1],a]:[s[t-1],s[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return s.slice()},o.copy=function(){return e().domain([n,a]).range(i).unknown(t)},zP.apply(p_(o),arguments)},scaleRadial:function e(){var t,n=XE(),a=[0,1],r=!1;function s(e){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(a)?t:r?Math.round(a):a}return s.invert=function(e){return n.invert(A_(e))},s.domain=function(e){return arguments.length?(n.domain(e),s):n.domain()},s.range=function(e){return arguments.length?(n.range((a=Array.from(e,UE)).map(A_)),s):a.slice()},s.rangeRound=function(e){return s.range(e).round(!0)},s.round=function(e){return arguments.length?(r=!!e,s):r},s.clamp=function(e){return arguments.length?(n.clamp(e),s):n.clamp()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return e(n.domain(),a).round(r).clamp(n.clamp()).unknown(t)},zP.apply(s,arguments),p_(s)},scaleSequential:function e(){var t=p_(GT()(VE));return t.copy=function(){return QT(t,e())},UP.apply(t,arguments)},scaleSequentialLog:function e(){var t=N_(GT()).domain([1,10]);return t.copy=function(){return QT(t,e()).base(t.base())},UP.apply(t,arguments)},scaleSequentialPow:XT,scaleSequentialQuantile:function e(){var t=[],n=VE;function a(e){if(null!=e&&!isNaN(e=+e))return n((SP(t,e,1)-1)/(t.length-1))}return a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(gP),a},a.interpolator=function(e){return arguments.length?(n=e,a):n},a.range=function(){return t.map((e,a)=>n(a/(t.length-1)))},a.quantiles=function(e){return Array.from({length:e+1},(n,a)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return LP(e);if(t>=1)return IP(e);var n,a=(n-1)*t,r=Math.floor(a),s=IP(BP(e,r).subarray(0,r+1));return s+(LP(e.subarray(r+1))-s)*(a-r)}}(t,a/e))},a.copy=function(){return e(n).domain(t)},UP.apply(a,arguments)},scaleSequentialSqrt:function(){return XT.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=k_(GT());return t.copy=function(){return QT(t,e()).constant(t.constant())},UP.apply(t,arguments)},scaleSqrt:function(){return __.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=k_(QE());return t.copy=function(){return GE(t,e()).constant(t.constant())},zP.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],a=[0,1],r=1;function s(e){return null!=e&&e<=e?a[SP(n,e,0,r)]:t}return s.domain=function(e){return arguments.length?(n=Array.from(e),r=Math.min(n.length,a.length-1),s):n.slice()},s.range=function(e){return arguments.length?(a=Array.from(e),r=Math.min(n.length,a.length-1),s):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return[n[t-1],n[t]]},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return e().domain(n).range(a).unknown(t)},zP.apply(s,arguments)},scaleTime:function(){return zP.apply(HT(bA,jA,fA,pA,J_,G_,K_,V_,q_,OA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return zP.apply(HT(xA,gA,vA,mA,iA,Q_,H_,W_,q_,CA).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:h_},Symbol.toStringTag,{value:"Module"}));var eM=hv;var tM=function(e,t,n){for(var a=-1,r=e.length;++a<r;){var s=e[a],i=t(s);if(null!=i&&(void 0===o?i==i&&!eM(i):n(i,o)))var o=i,l=s}return l};var nM=function(e,t){return e>t},aM=tM,rM=nM,sM=IS;const iM=n(function(e){return e&&e.length?aM(e,sM,rM):void 0});var oM=function(e,t){return e<t},lM=tM,cM=oM,uM=IS;const dM=n(function(e){return e&&e.length?lM(e,uM,cM):void 0});var hM=Hy,pM=HS,mM=zk,fM=Kf;var vM=Mk,yM=function(e,t){return(fM(e)?hM:mM)(e,pM(t))};const xM=n(function(e,t){return vM(yM(e,t),1)});var gM=uS;const bM=n(function(e,t){return gM(e,t)});var jM,NM=1e9,wM=!0,SM="[DecimalError] ",kM=SM+"Invalid argument: ",OM=SM+"Exponent out of range: ",CM=Math.floor,PM=Math.pow,EM=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_M=1e7,AM=9007199254740991,TM=CM(1286742750677284.5),MM={};function RM(e,t){var n,a,r,s,i,o,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),wM?VM(t,d):t;if(l=e.d,c=t.d,i=e.e,r=t.e,l=l.slice(),s=i-r){for(s<0?(a=l,s=-s,o=c.length):(a=c,r=i,o=l.length),s>(o=(i=Math.ceil(d/7))>o?i+1:o+1)&&(s=o,a.length=1),a.reverse();s--;)a.push(0);a.reverse()}for((o=l.length)-(s=c.length)<0&&(s=o,a=c,c=l,l=a),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/_M|0,l[s]%=_M;for(n&&(l.unshift(n),++r),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=r,wM?VM(t,d):t}function DM(e,t,n){if(e!==~~e||e<t||e>n)throw Error(kM+e)}function IM(e){var t,n,a,r=e.length-1,s="",i=e[0];if(r>0){for(s+=i,t=1;t<r;t++)(n=7-(a=e[t]+"").length)&&(s+=zM(n)),s+=a;(n=7-(a=(i=e[t])+"").length)&&(s+=zM(n))}else if(0===i)return"0";for(;i%10==0;)i/=10;return s+i}MM.absoluteValue=MM.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},MM.comparedTo=MM.cmp=function(e){var t,n,a,r,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,n=(a=s.d.length)<(r=e.d.length)?a:r;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return a===r?0:a>r^s.s<0?1:-1},MM.decimalPlaces=MM.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},MM.dividedBy=MM.div=function(e){return LM(this,new this.constructor(e))},MM.dividedToIntegerBy=MM.idiv=function(e){var t=this.constructor;return VM(LM(this,new t(e),0,1),t.precision)},MM.equals=MM.eq=function(e){return!this.cmp(e)},MM.exponent=function(){return FM(this)},MM.greaterThan=MM.gt=function(e){return this.cmp(e)>0},MM.greaterThanOrEqualTo=MM.gte=function(e){return this.cmp(e)>=0},MM.isInteger=MM.isint=function(){return this.e>this.d.length-2},MM.isNegative=MM.isneg=function(){return this.s<0},MM.isPositive=MM.ispos=function(){return this.s>0},MM.isZero=function(){return 0===this.s},MM.lessThan=MM.lt=function(e){return this.cmp(e)<0},MM.lessThanOrEqualTo=MM.lte=function(e){return this.cmp(e)<1},MM.logarithm=MM.log=function(e){var t,n=this,a=n.constructor,r=a.precision,s=r+5;if(void 0===e)e=new a(10);else if((e=new a(e)).s<1||e.eq(jM))throw Error(SM+"NaN");if(n.s<1)throw Error(SM+(n.s?"NaN":"-Infinity"));return n.eq(jM)?new a(0):(wM=!1,t=LM(UM(n,s),UM(e,s),s),wM=!0,VM(t,r))},MM.minus=MM.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WM(t,e):RM(t,(e.s=-e.s,e))},MM.modulo=MM.mod=function(e){var t,n=this,a=n.constructor,r=a.precision;if(!(e=new a(e)).s)throw Error(SM+"NaN");return n.s?(wM=!1,t=LM(n,e,0,1).times(e),wM=!0,n.minus(t)):VM(new a(n),r)},MM.naturalExponential=MM.exp=function(){return BM(this)},MM.naturalLogarithm=MM.ln=function(){return UM(this)},MM.negated=MM.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},MM.plus=MM.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RM(t,e):WM(t,(e.s=-e.s,e))},MM.precision=MM.sd=function(e){var t,n,a,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(kM+e);if(t=FM(r)+1,n=7*(a=r.d.length-1)+1,a=r.d[a]){for(;a%10==0;a/=10)n--;for(a=r.d[0];a>=10;a/=10)n++}return e&&t>n?t:n},MM.squareRoot=MM.sqrt=function(){var e,t,n,a,r,s,i,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(SM+"NaN")}for(e=FM(o),wM=!1,0==(r=Math.sqrt(+o))||r==1/0?(((t=IM(o.d)).length+e)%2==0&&(t+="0"),r=Math.sqrt(t),e=CM((e+1)/2)-(e<0||e%2),a=new l(t=r==1/0?"5e"+e:(t=r.toExponential()).slice(0,t.indexOf("e")+1)+e)):a=new l(r.toString()),r=i=(n=l.precision)+3;;)if(a=(s=a).plus(LM(o,s,i+2)).times(.5),IM(s.d).slice(0,i)===(t=IM(a.d)).slice(0,i)){if(t=t.slice(i-3,i+1),r==i&&"4999"==t){if(VM(s,n+1,0),s.times(s).eq(o)){a=s;break}}else if("9999"!=t)break;i+=4}return wM=!0,VM(a,n)},MM.times=MM.mul=function(e){var t,n,a,r,s,i,o,l,c,u=this,d=u.constructor,h=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,(l=h.length)<(c=p.length)&&(s=h,h=p,p=s,i=l,l=c,c=i),s=[],a=i=l+c;a--;)s.push(0);for(a=c;--a>=0;){for(t=0,r=l+a;r>a;)o=s[r]+p[a]*h[r-a-1]+t,s[r--]=o%_M|0,t=o/_M|0;s[r]=(s[r]+t)%_M|0}for(;!s[--i];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,wM?VM(e,d.precision):e},MM.toDecimalPlaces=MM.todp=function(e,t){var n=this,a=n.constructor;return n=new a(n),void 0===e?n:(DM(e,0,NM),void 0===t?t=a.rounding:DM(t,0,8),VM(n,e+FM(n)+1,t))},MM.toExponential=function(e,t){var n,a=this,r=a.constructor;return void 0===e?n=KM(a,!0):(DM(e,0,NM),void 0===t?t=r.rounding:DM(t,0,8),n=KM(a=VM(new r(a),e+1,t),!0,e+1)),n},MM.toFixed=function(e,t){var n,a,r=this,s=r.constructor;return void 0===e?KM(r):(DM(e,0,NM),void 0===t?t=s.rounding:DM(t,0,8),n=KM((a=VM(new s(r),e+FM(r)+1,t)).abs(),!1,e+FM(a)+1),r.isneg()&&!r.isZero()?"-"+n:n)},MM.toInteger=MM.toint=function(){var e=this,t=e.constructor;return VM(new t(e),FM(e)+1,t.rounding)},MM.toNumber=function(){return+this},MM.toPower=MM.pow=function(e){var t,n,a,r,s,i,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(jM);if(!(o=new l(o)).s){if(e.s<1)throw Error(SM+"Infinity");return o}if(o.eq(jM))return o;if(a=l.precision,e.eq(jM))return VM(o,a);if(i=(t=e.e)>=(n=e.d.length-1),s=o.s,i){if((n=c<0?-c:c)<=AM){for(r=new l(jM),t=Math.ceil(a/7+4),wM=!1;n%2&&HM((r=r.times(o)).d,t),0!==(n=CM(n/2));)HM((o=o.times(o)).d,t);return wM=!0,e.s<0?new l(jM).div(r):VM(r,a)}}else if(s<0)throw Error(SM+"NaN");return s=s<0&&1&e.d[Math.max(t,n)]?-1:1,o.s=1,wM=!1,r=e.times(UM(o,a+12)),wM=!0,(r=BM(r)).s=s,r},MM.toPrecision=function(e,t){var n,a,r=this,s=r.constructor;return void 0===e?a=KM(r,(n=FM(r))<=s.toExpNeg||n>=s.toExpPos):(DM(e,1,NM),void 0===t?t=s.rounding:DM(t,0,8),a=KM(r=VM(new s(r),e,t),e<=(n=FM(r))||n<=s.toExpNeg,e)),a},MM.toSignificantDigits=MM.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(DM(e,1,NM),void 0===t?t=n.rounding:DM(t,0,8)),VM(new n(this),e,t)},MM.toString=MM.valueOf=MM.val=MM.toJSON=MM[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=FM(e),n=e.constructor;return KM(e,t<=n.toExpNeg||t>=n.toExpPos)};var LM=function(){function e(e,t){var n,a=0,r=e.length;for(e=e.slice();r--;)n=e[r]*t+a,e[r]=n%_M|0,a=n/_M|0;return a&&e.unshift(a),e}function t(e,t,n,a){var r,s;if(n!=a)s=n>a?1:-1;else for(r=s=0;r<n;r++)if(e[r]!=t[r]){s=e[r]>t[r]?1:-1;break}return s}function n(e,t,n){for(var a=0;n--;)e[n]-=a,a=e[n]<t[n]?1:0,e[n]=a*_M+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(a,r,s,i){var o,l,c,u,d,h,p,m,f,v,y,x,g,b,j,N,w,S,k=a.constructor,O=a.s==r.s?1:-1,C=a.d,P=r.d;if(!a.s)return new k(a);if(!r.s)throw Error(SM+"Division by zero");for(l=a.e-r.e,w=P.length,j=C.length,m=(p=new k(O)).d=[],c=0;P[c]==(C[c]||0);)++c;if(P[c]>(C[c]||0)&&--l,(x=null==s?s=k.precision:i?s+(FM(a)-FM(r))+1:s)<0)return new k(0);if(x=x/7+2|0,c=0,1==w)for(u=0,P=P[0],x++;(c<j||u)&&x--;c++)g=u*_M+(C[c]||0),m[c]=g/P|0,u=g%P|0;else{for((u=_M/(P[0]+1)|0)>1&&(P=e(P,u),C=e(C,u),w=P.length,j=C.length),b=w,v=(f=C.slice(0,w)).length;v<w;)f[v++]=0;(S=P.slice()).unshift(0),N=P[0],P[1]>=_M/2&&++N;do{u=0,(o=t(P,f,w,v))<0?(y=f[0],w!=v&&(y=y*_M+(f[1]||0)),(u=y/N|0)>1?(u>=_M&&(u=_M-1),1==(o=t(d=e(P,u),f,h=d.length,v=f.length))&&(u--,n(d,w<h?S:P,h))):(0==u&&(o=u=1),d=P.slice()),(h=d.length)<v&&d.unshift(0),n(f,d,v),-1==o&&(o=t(P,f,w,v=f.length))<1&&(u++,n(f,w<v?S:P,v)),v=f.length):0===o&&(u++,f=[0]),m[c++]=u,o&&f[0]?f[v++]=C[b]||0:(f=[C[b]],v=1)}while((b++<j||void 0!==f[0])&&x--)}return m[0]||m.shift(),p.e=l,VM(p,i?s+FM(p)+1:s)}}();function BM(e,t){var n,a,r,s,i,o=0,l=0,c=e.constructor,u=c.precision;if(FM(e)>16)throw Error(OM+FM(e));if(!e.s)return new c(jM);for(wM=!1,i=u,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),l+=5;for(i+=Math.log(PM(2,l))/Math.LN10*2+5|0,n=a=r=new c(jM),c.precision=i;;){if(a=VM(a.times(e),i),n=n.times(++o),IM((s=r.plus(LM(a,n,i))).d).slice(0,i)===IM(r.d).slice(0,i)){for(;l--;)r=VM(r.times(r),i);return c.precision=u,null==t?(wM=!0,VM(r,u)):r}r=s}}function FM(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function $M(e,t,n){if(t>e.LN10.sd())throw wM=!0,n&&(e.precision=n),Error(SM+"LN10 precision limit exceeded");return VM(new e(e.LN10),t)}function zM(e){for(var t="";e--;)t+="0";return t}function UM(e,t){var n,a,r,s,i,o,l,c,u,d=1,h=e,p=h.d,m=h.constructor,f=m.precision;if(h.s<1)throw Error(SM+(h.s?"NaN":"-Infinity"));if(h.eq(jM))return new m(0);if(null==t?(wM=!1,c=f):c=t,h.eq(10))return null==t&&(wM=!0),$M(m,c);if(c+=10,m.precision=c,a=(n=IM(p)).charAt(0),s=FM(h),!(Math.abs(s)<15e14))return l=$M(m,c+2,f).times(s+""),h=UM(new m(a+"."+n.slice(1)),c-10).plus(l),m.precision=f,null==t?(wM=!0,VM(h,f)):h;for(;a<7&&1!=a||1==a&&n.charAt(1)>3;)a=(n=IM((h=h.times(e)).d)).charAt(0),d++;for(s=FM(h),a>1?(h=new m("0."+n),s++):h=new m(a+"."+n.slice(1)),o=i=h=LM(h.minus(jM),h.plus(jM),c),u=VM(h.times(h),c),r=3;;){if(i=VM(i.times(u),c),IM((l=o.plus(LM(i,new m(r),c))).d).slice(0,c)===IM(o.d).slice(0,c))return o=o.times(2),0!==s&&(o=o.plus($M(m,c+2,f).times(s+""))),o=LM(o,new m(d),c),m.precision=f,null==t?(wM=!0,VM(o,f)):o;o=l,r+=2}}function qM(e,t){var n,a,r;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;48===t.charCodeAt(a);)++a;for(r=t.length;48===t.charCodeAt(r-1);)--r;if(t=t.slice(a,r)){if(r-=a,n=n-a-1,e.e=CM(n/7),e.d=[],a=(n+1)%7,n<0&&(a+=7),a<r){for(a&&e.d.push(+t.slice(0,a)),r-=7;a<r;)e.d.push(+t.slice(a,a+=7));a=7-(t=t.slice(a)).length}else a-=r;for(;a--;)t+="0";if(e.d.push(+t),wM&&(e.e>TM||e.e<-TM))throw Error(OM+n)}else e.s=0,e.e=0,e.d=[0];return e}function VM(e,t,n){var a,r,s,i,o,l,c,u,d=e.d;for(i=1,s=d[0];s>=10;s/=10)i++;if((a=t-i)<0)a+=7,r=t,c=d[u=0];else{if((u=Math.ceil((a+1)/7))>=(s=d.length))return e;for(c=s=d[u],i=1;s>=10;s/=10)i++;r=(a%=7)-7+i}if(void 0!==n&&(o=c/(s=PM(10,i-r-1))%10|0,l=t<0||void 0!==d[u+1]||c%s,l=n<4?(o||l)&&(0==n||n==(e.s<0?3:2)):o>5||5==o&&(4==n||l||6==n&&(a>0?r>0?c/PM(10,i-r):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(s=FM(e),d.length=1,t=t-s-1,d[0]=PM(10,(7-t%7)%7),e.e=CM(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==a?(d.length=u,s=1,u--):(d.length=u+1,s=PM(10,7-a),d[u]=r>0?(c/PM(10,i-r)%PM(10,r)|0)*s:0),l)for(;;){if(0==u){(d[0]+=s)==_M&&(d[0]=1,++e.e);break}if(d[u]+=s,d[u]!=_M)break;d[u--]=0,s=1}for(a=d.length;0===d[--a];)d.pop();if(wM&&(e.e>TM||e.e<-TM))throw Error(OM+FM(e));return e}function WM(e,t){var n,a,r,s,i,o,l,c,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),wM?VM(t,p):t;if(l=e.d,d=t.d,a=t.e,c=e.e,l=l.slice(),i=c-a){for((u=i<0)?(n=l,i=-i,o=d.length):(n=d,a=c,o=l.length),i>(r=Math.max(Math.ceil(p/7),o)+2)&&(i=r,n.length=1),n.reverse(),r=i;r--;)n.push(0);n.reverse()}else{for((u=(r=l.length)<(o=d.length))&&(o=r),r=0;r<o;r++)if(l[r]!=d[r]){u=l[r]<d[r];break}i=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),o=l.length,r=d.length-o;r>0;--r)l[o++]=0;for(r=d.length;r>i;){if(l[--r]<d[r]){for(s=r;s&&0===l[--s];)l[s]=_M-1;--l[s],l[r]+=_M}l[r]-=d[r]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--a;return l[0]?(t.d=l,t.e=a,wM?VM(t,p):t):new h(0)}function KM(e,t,n){var a,r=FM(e),s=IM(e.d),i=s.length;return t?(n&&(a=n-i)>0?s=s.charAt(0)+"."+s.slice(1)+zM(a):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+zM(-r-1)+s,n&&(a=n-i)>0&&(s+=zM(a))):r>=i?(s+=zM(r+1-i),n&&(a=n-r-1)>0&&(s=s+"."+zM(a))):((a=r+1)<i&&(s=s.slice(0,a)+"."+s.slice(a)),n&&(a=n-i)>0&&(r+1===i&&(s+="."),s+=zM(a))),e.s<0?"-"+s:s}function HM(e,t){if(e.length>t)return e.length=t,!0}function GM(e){if(!e||"object"!=typeof e)throw Error(SM+"Object expected");var t,n,a,r=["precision",1,NM,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if(void 0!==(a=e[n=r[t]])){if(!(CM(a)===a&&a>=r[t+1]&&a<=r[t+2]))throw Error(kM+n+": "+a);this[n]=a}if(void 0!==(a=e[n="LN10"])){if(a!=Math.LN10)throw Error(kM+n+": "+a);this[n]=new this(a)}return this}var QM=function e(t){var n,a,r;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(kM+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):qM(t,e.toString())}if("string"!=typeof e)throw Error(kM+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!EM.test(e))throw Error(kM+e);qM(t,e)}if(s.prototype=MM,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=GM,void 0===t&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<r.length;)t.hasOwnProperty(a=r[n++])||(t[a]=this[a]);return s.config(t),s}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});jM=new QM(1);const XM=QM;function YM(e){return function(e){if(Array.isArray(e))return JM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return JM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JM(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ZM=function(e){return e},eR={},tR=function(e){return e===eR},nR=function(e){return function t(){return 0===arguments.length||1===arguments.length&&tR(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},aR=function e(t,n){return 1===t?n:nR(function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];var i=r.filter(function(e){return e!==eR}).length;return i>=t?n.apply(void 0,r):e(t-i,nR(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var s=r.map(function(e){return tR(e)?t.shift():e});return n.apply(void 0,YM(s).concat(t))}))})},rR=function(e){return aR(e.length,e)},sR=function(e,t){for(var n=[],a=e;a<t;++a)n[a-e]=a;return n},iR=rR(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),oR=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},lR=function(e){var t=null,n=null;return function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return t&&r.every(function(e,n){return e===t[n]})?n:(t=r,n=e.apply(void 0,r))}};var cR=rR(function(e,t,n){var a=+e;return a+n*(+t-a)}),uR=rR(function(e,t,n){var a=t-+e;return(n-e)/(a=a||1/0)}),dR=rR(function(e,t,n){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});const hR={rangeStep:function(e,t,n){for(var a=new XM(e),r=0,s=[];a.lt(t)&&r<1e5;)s.push(a.toNumber()),a=a.add(n),r++;return s},getDigitCount:function(e){return 0===e?1:Math.floor(new XM(e).abs().log(10).toNumber())+1},interpolateNumber:cR,uninterpolateNumber:uR,uninterpolateTruncation:dR};function pR(e){return function(e){if(Array.isArray(e))return vR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||fR(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(l){r=!0,s=l}finally{try{a||null==o.return||o.return()}finally{if(r)throw s}}return n}(e,t)||fR(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fR(e,t){if(e){if("string"==typeof e)return vR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vR(e,t):void 0}}function vR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function yR(e){var t=mR(e,2),n=t[0],a=t[1],r=n,s=a;return n>a&&(r=a,s=n),[r,s]}function xR(e,t,n){if(e.lte(0))return new XM(0);var a=hR.getDigitCount(e.toNumber()),r=new XM(10).pow(a),s=e.div(r),i=1!==a?.05:.1,o=new XM(Math.ceil(s.div(i).toNumber())).add(n).mul(i).mul(r);return t?o:new XM(Math.ceil(o))}function gR(e,t,n){var a=1,r=new XM(e);if(!r.isint()&&n){var s=Math.abs(e);s<1?(a=new XM(10).pow(hR.getDigitCount(e)-1),r=new XM(Math.floor(r.div(a).toNumber())).mul(a)):s>1&&(r=new XM(Math.floor(e)))}else 0===e?r=new XM(Math.floor((t-1)/2)):n||(r=new XM(Math.floor(e)));var i=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return ZM;var a=t.reverse(),r=a[0],s=a.slice(1);return function(){return s.reduce(function(e,t){return t(e)},r.apply(void 0,arguments))}}(iR(function(e){return r.add(new XM(e-i).mul(a)).toNumber()}),sR);return o(0,t)}function bR(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new XM(0),tickMin:new XM(0),tickMax:new XM(0)};var s,i=xR(new XM(t).sub(e).div(n-1),a,r);s=e<=0&&t>=0?new XM(0):(s=new XM(e).add(t).div(2)).sub(new XM(s).mod(i));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new XM(t).sub(s).div(i).toNumber()),c=o+l+1;return c>n?bR(e,t,n,a,r+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:i,tickMin:s.sub(new XM(o).mul(i)),tickMax:s.add(new XM(l).mul(i))})}var jR=lR(function(e){var t=mR(e,2),n=t[0],a=t[1],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(r,2),o=mR(yR([n,a]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(pR(sR(0,r-1).map(function(){return 1/0}))):[].concat(pR(sR(0,r-1).map(function(){return-1/0})),[c]);return n>a?oR(u):u}if(l===c)return gR(l,r,s);var d=bR(l,c,i,s),h=d.step,p=d.tickMin,m=d.tickMax,f=hR.rangeStep(p,m.add(new XM(.1).mul(h)),h);return n>a?oR(f):f}),NR=lR(function(e,t){var n=mR(e,2),a=n[0],r=n[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=mR(yR([a,r]),2),o=i[0],l=i[1];if(o===-1/0||l===1/0)return[a,r];if(o===l)return[o];var c=Math.max(t,2),u=xR(new XM(l).sub(o).div(c-1),s,0),d=[].concat(pR(hR.rangeStep(new XM(o),new XM(l).sub(new XM(.99).mul(u)),u)),[l]);return a>r?oR(d):d});function wR(e,t){throw new Error("Invariant failed")}var SR=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function kR(e){return(kR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OR(){return OR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},OR.apply(this,arguments)}function CR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(l=(a=s.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return PR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ER(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _R(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,IR(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AR(e,t,n){return t=MR(t),function(e,t){if(t&&("object"===kR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,TR()?Reflect.construct(t,n||[],MR(e).constructor):t.apply(e,n))}function TR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(TR=function(){return!!e})()}function MR(e){return(MR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RR(e,t){return(RR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function DR(e,t,n){return(t=IR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IR(e){var t=function(e,t){if("object"!=kR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=kR(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==kR(t)?t:t+""}var LR=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),AR(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RR(e,t)}(e,U.Component),_R(e,[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,a=e.width,r=e.dataKey,s=e.data,i=e.dataPointFormatter,o=e.xAxis,l=e.yAxis,c=ER(e,SR),u=Sg(c,!1);"x"===this.props.direction&&"number"!==o.type&&wR();var d=s.map(function(e){var s=i(e,r),c=s.x,d=s.y,h=s.value,p=s.errorVal;if(!p)return null;var m,f,v=[];if(Array.isArray(p)){var y=CR(p,2);m=y[0],f=y[1]}else m=f=p;if("vertical"===n){var x=o.scale,g=d+t,b=g+a,j=g-a,N=x(h-m),w=x(h+f);v.push({x1:w,y1:b,x2:w,y2:j}),v.push({x1:N,y1:g,x2:w,y2:g}),v.push({x1:N,y1:b,x2:N,y2:j})}else if("horizontal"===n){var S=l.scale,k=c+t,O=k-a,C=k+a,P=S(h-m),E=S(h+f);v.push({x1:O,y1:E,x2:C,y2:E}),v.push({x1:k,y1:P,x2:k,y2:E}),v.push({x1:O,y1:P,x2:C,y2:P})}return U.createElement(Dg,OR({className:"recharts-errorBar",key:"bar-".concat(v.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},u),v.map(function(e){return U.createElement("line",OR({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return U.createElement(Dg,{className:"recharts-errorBars"},d)}}])}();function BR(e){return(BR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function $R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(t){zR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zR(e,t,n){var a;return a=function(e,t){if("object"!=BR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=BR(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==BR(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}DR(LR,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),DR(LR,"displayName","ErrorBar");var UR=function(e){var t=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,r=e.legendContent,s=bg(t,Ck);if(!s)return null;var i,o=Ck.defaultProps,l=void 0!==o?$R($R({},o),s.props):{};return i=s.props&&s.props.payload?s.props&&s.props.payload:"children"===r?(n||[]).reduce(function(e,t){var n=t.item,a=t.props,r=a.sectors||a.data||[];return e.concat(r.map(function(e){return{type:s.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,a=void 0!==n?$R($R({},n),t.props):{},r=a.dataKey,s=a.name,i=a.legendType;return{inactive:a.hide,dataKey:r,type:l.iconType||i||"square",color:YR(t),value:s||r,payload:a}}),$R($R($R({},l),Ck.getWithHeight(s,a)),{},{payload:i,item:s})};function qR(e){return(qR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VR(e){return function(e){if(Array.isArray(e))return WR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return WR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function HR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KR(Object(n),!0).forEach(function(t){GR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GR(e,t,n){var a;return a=function(e,t){if("object"!=qR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=qR(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qR(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QR(e,t,n){return fx(e)||fx(t)?n:Gx(t)?mx(e,t,n):wv(t)?t(e):n}function XR(e,t,n,a){var r=xM(e,function(e){return QR(e,t)});if("number"===n){var s=r.filter(function(e){return Hx(e)||parseFloat(e)});return s.length?[dM(s),iM(s)]:[1/0,-1/0]}return(a?r.filter(function(e){return!fx(e)}):r).map(function(e){return Gx(e)||e instanceof Date?e:""})}var YR=function(e){var t,n,a=e.type.displayName,r=null!==(t=e.type)&&void 0!==t&&t.defaultProps?HR(HR({},e.type.defaultProps),e.props):e.props,s=r.stroke,i=r.fill;switch(a){case"Line":n=s;break;case"Area":case"Radar":n=s&&"none"!==s?s:i;break;default:n=i}return n},JR=function(e,t,n,a,r){var s=gg(t.props.children,LR).filter(function(e){return function(e,t,n){return!!fx(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(a,r,e.props.direction)});if(s&&s.length){var i=s.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var a=QR(t,n);if(fx(a))return e;var r=Array.isArray(a)?[dM(a),iM(a)]:[a,a],s=i.reduce(function(e,n){var a=QR(t,n,0),s=r[0]-Math.abs(Array.isArray(a)?a[0]:a),i=r[1]+Math.abs(Array.isArray(a)?a[1]:a);return[Math.min(s,e[0]),Math.max(i,e[1])]},[1/0,-1/0]);return[Math.min(s[0],e[0]),Math.max(s[1],e[1])]},[1/0,-1/0])}return null},ZR=function(e,t,n,a,r){var s=t.map(function(t){var s=t.props.dataKey;return"number"===n&&s&&JR(e,t,s,a)||XR(e,s,n,r)});if("number"===n)return s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var i={};return s.reduce(function(e,t){for(var n=0,a=t.length;n<a;n++)i[t[n]]||(i[t[n]]=!0,e.push(t[n]));return e},[])},eD=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},tD=function(e,t,n,a){if(a)return e.map(function(e){return e.coordinate});var r,s,i=e.map(function(e){return e.coordinate===t&&(r=!0),e.coordinate===n&&(s=!0),e.coordinate});return r||i.push(t),s||i.push(n),i},nD=function(e,t,n){if(!e)return null;var a=e.scale,r=e.duplicateDomain,s=e.type,i=e.range,o="scaleBand"===e.realScaleType?a.bandwidth()/2:2,l=(t||n)&&"category"===s&&a.bandwidth?a.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null==i?void 0:i.length)>=2?2*Wx(i[0]-i[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=r?r.indexOf(e):e;return{coordinate:a(t)+l,value:e,offset:l}}).filter(function(e){return!Vx(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:a(e)+l,value:e,index:t,offset:l}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(e){return{coordinate:a(e)+l,value:e,offset:l}}):a.domain().map(function(e,t){return{coordinate:a(e)+l,value:r?r[e]:e,index:t,offset:l}})},aD=new WeakMap,rD=function(e,t){if("function"!=typeof t)return e;aD.has(e)||aD.set(e,new WeakMap);var n=aD.get(e);if(n.has(t))return n.get(t);var a=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,a),a},sD=function(e,t,n){var a=e.scale,r=e.type,s=e.layout,i=e.axisType;if("auto"===a)return"radial"===s&&"radiusAxis"===i?{scale:WP(),realScaleType:"band"}:"radial"===s&&"angleAxis"===i?{scale:m_(),realScaleType:"linear"}:"category"===r&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:HP(),realScaleType:"point"}:"category"===r?{scale:WP(),realScaleType:"band"}:{scale:m_(),realScaleType:"linear"};if(gx(a)){var o="scale".concat(ob(a));return{scale:(ZT[o]||HP)(),realScaleType:ZT[o]?o:"point"}}return wv(a)?{scale:a}:{scale:HP(),realScaleType:"point"}},iD=1e-4,oD=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,a=e.range(),r=Math.min(a[0],a[1])-iD,s=Math.max(a[0],a[1])+iD,i=e(t[0]),o=e(t[n-1]);(i<r||i>s||o<r||o>s)&&e.domain([t[0],t[n-1]])}},lD=function(e,t){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===t)return e[n].position;return null},cD=function(e,t){if(!t||2!==t.length||!Hx(t[0])||!Hx(t[1]))return e;var n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),r=[e[0],e[1]];return(!Hx(e[0])||e[0]<n)&&(r[0]=n),(!Hx(e[1])||e[1]>a)&&(r[1]=a),r[0]>a&&(r[0]=a),r[1]<n&&(r[1]=n),r},uD={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,a=e[0].length;n<a;++n)for(var r=0,s=0,i=0;i<t;++i){var o=Vx(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=r,e[i][n][1]=r+o,r=e[i][n][1]):(e[i][n][0]=s,e[i][n][1]=s+o,s=e[i][n][1])}},expand:function(e,t){if((a=e.length)>0){for(var n,a,r,s=0,i=e[0].length;s<i;++s){for(r=n=0;n<a;++n)r+=e[n][s][1]||0;if(r)for(n=0;n<a;++n)e[n][s][1]/=r}lj(e,t)}},none:lj,silhouette:function(e,t){if((n=e.length)>0){for(var n,a=0,r=e[t[0]],s=r.length;a<s;++a){for(var i=0,o=0;i<n;++i)o+=e[i][a][1]||0;r[a][1]+=r[a][0]=-o/2}lj(e,t)}},wiggle:function(e,t){if((r=e.length)>0&&(a=(n=e[t[0]]).length)>0){for(var n,a,r,s=0,i=1;i<a;++i){for(var o=0,l=0,c=0;o<r;++o){for(var u=e[t[o]],d=u[i][1]||0,h=(d-(u[i-1][1]||0))/2,p=0;p<o;++p){var m=e[t[p]];h+=(m[i][1]||0)-(m[i-1][1]||0)}l+=d,c+=h*d}n[i-1][1]+=n[i-1][0]=s,l&&(s-=c/l)}n[i-1][1]+=n[i-1][0]=s,lj(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,a=e[0].length;n<a;++n)for(var r=0,s=0;s<t;++s){var i=Vx(e[s][n][1])?e[s][n][0]:e[s][n][1];i>=0?(e[s][n][0]=r,e[s][n][1]=r+i,r=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}}},dD=function(e,t,n){var a=t.map(function(e){return e.props.dataKey}),r=uD[n],s=function(){var e=lb([]),t=cj,n=lj,a=uj;function r(r){var s,i,o=Array.from(e.apply(this,arguments),dj),l=o.length,c=-1;for(const e of r)for(s=0,++c;s<l;++s)(o[s][c]=[0,+a(e,o[s].key,c,r)]).data=e;for(s=0,i=jb(t(o));s<l;++s)o[i[s]].index=s;return n(o,i),o}return r.keys=function(t){return arguments.length?(e="function"==typeof t?t:lb(Array.from(t)),r):e},r.value=function(e){return arguments.length?(a="function"==typeof e?e:lb(+e),r):a},r.order=function(e){return arguments.length?(t=null==e?cj:"function"==typeof e?e:lb(Array.from(e)),r):t},r.offset=function(e){return arguments.length?(n=null==e?lj:e,r):n},r}().keys(a).value(function(e,t){return+QR(e,t,0)}).order(cj).offset(r);return s(e)},hD=function(e,t){var n=t.realScaleType,a=t.type,r=t.tickCount,s=t.originalDomain,i=t.allowDecimals,o=n||t.scale;if("auto"!==o&&"linear"!==o)return null;if(r&&"number"===a&&s&&("auto"===s[0]||"auto"===s[1])){var l=e.domain();if(!l.length)return null;var c=jR(l,r,i);return e.domain([dM(c),iM(c)]),{niceTicks:c}}if(r&&"number"===a){var u=e.domain();return{niceTicks:NR(u,r,i)}}return null};function pD(e){var t=e.axis,n=e.ticks,a=e.bandSize,r=e.entry,s=e.index,i=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!fx(r[t.dataKey])){var o=eg(n,"value",r[t.dataKey]);if(o)return o.coordinate+a/2}return n[s]?n[s].coordinate+a/2:null}var l=QR(r,fx(i)?t.dataKey:i);return fx(l)?null:t.scale(l)}var mD=function(e){var t=e.axis,n=e.ticks,a=e.offset,r=e.bandSize,s=e.entry,i=e.index;if("category"===t.type)return n[i]?n[i].coordinate+a:null;var o=QR(s,t.dataKey,t.domain[i]);return fx(o)?null:t.scale(o)-r/2+a},fD=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var a=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]);return a<=0&&r>=0?0:r<0?r:a}return n[0]},vD=function(e,t,n){return Object.keys(e).reduce(function(a,r){var s=e[r].stackedData.reduce(function(e,a){var r=a.slice(t,n+1).reduce(function(e,t){return[dM(t.concat([e[0]]).filter(Hx)),iM(t.concat([e[1]]).filter(Hx))]},[1/0,-1/0]);return[Math.min(e[0],r[0]),Math.max(e[1],r[1])]},[1/0,-1/0]);return[Math.min(s[0],a[0]),Math.max(s[1],a[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},yD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gD=function(e,t,n){if(wv(e))return e(t,n);if(!Array.isArray(e))return t;var a=[];if(Hx(e[0]))a[0]=n?e[0]:Math.min(e[0],t[0]);else if(yD.test(e[0])){var r=+yD.exec(e[0])[1];a[0]=t[0]-r}else wv(e[0])?a[0]=e[0](t[0]):a[0]=t[0];if(Hx(e[1]))a[1]=n?e[1]:Math.max(e[1],t[1]);else if(xD.test(e[1])){var s=+xD.exec(e[1])[1];a[1]=t[1]+s}else wv(e[1])?a[1]=e[1](t[1]):a[1]=t[1];return a},bD=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&t&&t.length>=2){for(var r=NO(t,function(e){return e.coordinate}),s=1/0,i=1,o=r.length;i<o;i++){var l=r[i],c=r[i-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},jD=function(e,t,n){return e&&e.length?bM(e,mx(n,"type.defaultProps.domain"))?t:e:t},ND=function(e,t){var n=e.type.defaultProps?HR(HR({},e.type.defaultProps),e.props):e.props,a=n.dataKey,r=n.name,s=n.unit,i=n.formatter,o=n.tooltipType,l=n.chartType,c=n.hide;return HR(HR({},Sg(e,!1)),{},{dataKey:a,unit:s,formatter:i,name:r||a,color:YR(e),value:QR(t,a),type:o,payload:t,chartType:l,hide:c})};function wD(e){return(wD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function kD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SD(Object(n),!0).forEach(function(t){OD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OD(e,t,n){var a;return a=function(e,t){if("object"!=wD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=wD(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==wD(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(l=(a=s.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return PD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ED=Math.PI/180,_D=function(e){return 180*e/Math.PI},AD=function(e,t,n,a){return{x:e+Math.cos(-ED*a)*n,y:t+Math.sin(-ED*a)*n}},TD=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},MD=function(e,t,n,a,r){var s=e.width,i=e.height,o=e.startAngle,l=e.endAngle,c=Yx(e.cx,s,s/2),u=Yx(e.cy,i,i/2),d=TD(s,i,n),h=Yx(e.innerRadius,d,0),p=Yx(e.outerRadius,d,.8*d);return Object.keys(t).reduce(function(e,n){var s,i=t[n],d=i.domain,m=i.reversed;if(fx(i.range))"angleAxis"===a?s=[o,l]:"radiusAxis"===a&&(s=[h,p]),m&&(s=[s[1],s[0]]);else{var f=CD(s=i.range,2);o=f[0],l=f[1]}var v=sD(i,r),y=v.realScaleType,x=v.scale;x.domain(d).range(s),oD(x);var g=hD(x,kD(kD({},i),{},{realScaleType:y})),b=kD(kD(kD({},i),g),{},{range:s,radius:p,realScaleType:y,scale:x,cx:c,cy:u,innerRadius:h,outerRadius:p,startAngle:o,endAngle:l});return kD(kD({},e),{},OD({},n,b))},{})},RD=function(e,t){var n=e.x,a=e.y,r=t.cx,s=t.cy,i=function(e,t){var n=e.x,a=e.y,r=t.x,s=t.y;return Math.sqrt(Math.pow(n-r,2)+Math.pow(a-s,2))}({x:n,y:a},{x:r,y:s});if(i<=0)return{radius:i};var o=(n-r)/i,l=Math.acos(o);return a>s&&(l=2*Math.PI-l),{radius:i,angle:_D(l),angleInRadian:l}},DD=function(e,t){var n=t.startAngle,a=t.endAngle,r=Math.floor(n/360),s=Math.floor(a/360);return e+360*Math.min(r,s)},ID=function(e,t){var n=e.x,a=e.y,r=RD({x:n,y:a},t),s=r.radius,i=r.angle,o=t.innerRadius,l=t.outerRadius;if(s<o||s>l)return!1;if(0===s)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,a=Math.floor(t/360),r=Math.floor(n/360),s=Math.min(a,r);return{startAngle:t-360*s,endAngle:n-360*s}}(t),d=u.startAngle,h=u.endAngle,p=i;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;c=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;c=p>=h&&p<=d}return c?kD(kD({},t),{},{radius:s,angle:DD(p,t)}):null},LD=function(e){return z.isValidElement(e)||wv(e)||"boolean"==typeof e?"":e.className};function BD(e){return(BD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var FD=["offset"];function $D(e){return function(e){if(Array.isArray(e))return zD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function UD(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function VD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qD(Object(n),!0).forEach(function(t){WD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WD(e,t,n){var a;return a=function(e,t){if("object"!=BD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=BD(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==BD(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KD(){return KD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},KD.apply(this,arguments)}var HD=function(e,t,n){var a,r,s=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,u=c.cx,d=c.cy,h=c.innerRadius,p=c.outerRadius,m=c.startAngle,f=c.endAngle,v=c.clockWise,y=(h+p)/2,x=function(e,t){return Wx(t-e)*Math.min(Math.abs(t-e),360)}(m,f),g=x>=0?1:-1;"insideStart"===s?(a=m+g*o,r=v):"insideEnd"===s?(a=f-g*o,r=!v):"end"===s&&(a=f+g*o,r=v),r=x<=0?r:!r;var b=AD(u,d,y,a),j=AD(u,d,y,a+359*(r?1:-1)),N="M".concat(b.x,",").concat(b.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(r?0:1,",\n    ").concat(j.x,",").concat(j.y),w=fx(e.id)?Xx("recharts-radial-line-"):e.id;return U.createElement("text",KD({},n,{dominantBaseline:"central",className:Wf("recharts-radial-bar-label",l)}),U.createElement("defs",null,U.createElement("path",{id:w,d:N})),U.createElement("textPath",{xlinkHref:"#".concat(w)},t))};function GD(e){var t,n=e.offset,a=VD({offset:void 0===n?5:n},UD(e,FD)),r=a.viewBox,s=a.position,i=a.value,o=a.children,l=a.content,c=a.className,u=void 0===c?"":c,d=a.textBreakAll;if(!r||fx(i)&&fx(o)&&!z.isValidElement(l)&&!wv(l))return null;if(z.isValidElement(l))return z.cloneElement(l,a);if(wv(l)){if(t=z.createElement(l,a),z.isValidElement(t))return t}else t=function(e){var t=e.value,n=e.formatter,a=fx(e.children)?t:e.children;return wv(n)?n(a):a}(a);var h=function(e){return"cx"in e&&Hx(e.cx)}(r),p=Sg(a,!0);if(h&&("insideStart"===s||"insideEnd"===s||"end"===s))return HD(a,t,p);var m=h?function(e){var t=e.viewBox,n=e.offset,a=e.position,r=t,s=r.cx,i=r.cy,o=r.innerRadius,l=r.outerRadius,c=(r.startAngle+r.endAngle)/2;if("outside"===a){var u=AD(s,i,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=s?"start":"end",verticalAnchor:"middle"}}if("center"===a)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===a)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===a)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=AD(s,i,(o+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,n=e.parentViewBox,a=e.offset,r=e.position,s=t,i=s.x,o=s.y,l=s.width,c=s.height,u=c>=0?1:-1,d=u*a,h=u>0?"end":"start",p=u>0?"start":"end",m=l>=0?1:-1,f=m*a,v=m>0?"end":"start",y=m>0?"start":"end";if("top"===r)return VD(VD({},{x:i+l/2,y:o-u*a,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(o-n.y,0),width:l}:{});if("bottom"===r)return VD(VD({},{x:i+l/2,y:o+c+d,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(o+c),0),width:l}:{});if("left"===r){var x={x:i-f,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return VD(VD({},x),n?{width:Math.max(x.x-n.x,0),height:c}:{})}if("right"===r){var g={x:i+l+f,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return VD(VD({},g),n?{width:Math.max(n.x+n.width-g.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===r?VD({x:i+f,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===r?VD({x:i+l-f,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},b):"insideTop"===r?VD({x:i+l/2,y:o+d,textAnchor:"middle",verticalAnchor:p},b):"insideBottom"===r?VD({x:i+l/2,y:o+c-d,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===r?VD({x:i+f,y:o+d,textAnchor:y,verticalAnchor:p},b):"insideTopRight"===r?VD({x:i+l-f,y:o+d,textAnchor:v,verticalAnchor:p},b):"insideBottomLeft"===r?VD({x:i+f,y:o+c-d,textAnchor:y,verticalAnchor:h},b):"insideBottomRight"===r?VD({x:i+l-f,y:o+c-d,textAnchor:v,verticalAnchor:h},b):gv(r)&&(Hx(r.x)||Kx(r.x))&&(Hx(r.y)||Kx(r.y))?VD({x:i+Yx(r.x,l),y:o+Yx(r.y,c),textAnchor:"end",verticalAnchor:"end"},b):VD({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(a);return U.createElement(xP,KD({className:Wf("recharts-label",u)},p,m,{breakAll:d}),t)}GD.displayName="Label";var QD=function(e){var t=e.cx,n=e.cy,a=e.angle,r=e.startAngle,s=e.endAngle,i=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,p=e.left,m=e.width,f=e.height,v=e.clockWise,y=e.labelViewBox;if(y)return y;if(Hx(m)&&Hx(f)){if(Hx(u)&&Hx(d))return{x:u,y:d,width:m,height:f};if(Hx(h)&&Hx(p))return{x:h,y:p,width:m,height:f}}return Hx(u)&&Hx(d)?{x:u,y:d,width:0,height:0}:Hx(t)&&Hx(n)?{cx:t,cy:n,startAngle:r||a||0,endAngle:s||a||0,innerRadius:l||0,outerRadius:c||o||i||0,clockWise:v}:e.viewBox?e.viewBox:{}};GD.parseViewBox=QD,GD.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var a=e.children,r=QD(e),s=gg(a,GD).map(function(e,n){return z.cloneElement(e,{viewBox:t||r,key:"label-".concat(n)})});if(!n)return s;var i=function(e,t){return e?!0===e?U.createElement(GD,{key:"label-implicit",viewBox:t}):Gx(e)?U.createElement(GD,{key:"label-implicit",viewBox:t,value:e}):z.isValidElement(e)?e.type===GD?z.cloneElement(e,{key:"label-implicit",viewBox:t}):U.createElement(GD,{key:"label-implicit",content:e,viewBox:t}):wv(e)?U.createElement(GD,{key:"label-implicit",content:e,viewBox:t}):gv(e)?U.createElement(GD,KD({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||r);return[i].concat($D(s))};const XD=n(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0});function YD(e){return(YD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var JD=["valueAccessor"],ZD=["data","dataKey","clockWise","id","textBreakAll"];function eI(e){return function(e){if(Array.isArray(e))return tI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function nI(){return nI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},nI.apply(this,arguments)}function aI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function rI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aI(Object(n),!0).forEach(function(t){sI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sI(e,t,n){var a;return a=function(e,t){if("object"!=YD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=YD(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==YD(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iI(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var oI=function(e){return Array.isArray(e.value)?XD(e.value):e.value};function lI(e){var t=e.valueAccessor,n=void 0===t?oI:t,a=iI(e,JD),r=a.data,s=a.dataKey,i=a.clockWise,o=a.id,l=a.textBreakAll,c=iI(a,ZD);return r&&r.length?U.createElement(Dg,{className:"recharts-label-list"},r.map(function(e,t){var a=fx(s)?n(e,t):QR(e&&e.payload,s),r=fx(o)?{}:{id:"".concat(o,"-").concat(t)};return U.createElement(GD,nI({},Sg(e,!0),c,r,{parentViewBox:e.parentViewBox,value:a,textBreakAll:l,viewBox:GD.parseViewBox(fx(i)?e:rI(rI({},e),{},{clockWise:i})),key:"label-".concat(t),index:t}))})):null}function cI(e){return(cI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uI(){return uI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},uI.apply(this,arguments)}function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function hI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(t){pI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pI(e,t,n){var a;return a=function(e,t){if("object"!=cI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=cI(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==cI(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}lI.displayName="LabelList",lI.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var a=gg(e.children,lI).map(function(e,n){return z.cloneElement(e,{data:t,key:"labelList-".concat(n)})});return n?[function(e,t){return e?!0===e?U.createElement(lI,{key:"labelList-implicit",data:t}):U.isValidElement(e)||wv(e)?U.createElement(lI,{key:"labelList-implicit",data:t,content:e}):gv(e)?U.createElement(lI,nI({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(eI(a)):a};var mI=function(e){var t=e.cx,n=e.cy,a=e.radius,r=e.angle,s=e.sign,i=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(i?1:-1)+a,u=Math.asin(o/c)/ED,d=l?r:r+s*u,h=l?r-s*u:r;return{center:AD(t,n,c,d),circleTangency:AD(t,n,a,d),lineTangency:AD(t,n,c*Math.cos(u*ED),h),theta:u}},fI=function(e){var t=e.cx,n=e.cy,a=e.innerRadius,r=e.outerRadius,s=e.startAngle,i=function(e,t){return Wx(t-e)*Math.min(Math.abs(t-e),359.999)}(s,e.endAngle),o=s+i,l=AD(t,n,r,s),c=AD(t,n,r,o),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(r,",").concat(r,",0,\n    ").concat(+(Math.abs(i)>180),",").concat(+(s>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(a>0){var d=AD(t,n,a,s),h=AD(t,n,a,o);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(a,",").concat(a,",0,\n            ").concat(+(Math.abs(i)>180),",").concat(+(s<=o),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},vI={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yI=function(e){var t=hI(hI({},vI),e),n=t.cx,a=t.cy,r=t.innerRadius,s=t.outerRadius,i=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=t.className;if(s<r||c===u)return null;var h,p=Wf("recharts-sector",d),m=s-r,f=Yx(i,m,0,!0);return h=f>0&&Math.abs(c-u)<360?function(e){var t=e.cx,n=e.cy,a=e.innerRadius,r=e.outerRadius,s=e.cornerRadius,i=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=Wx(c-l),d=mI({cx:t,cy:n,radius:r,angle:l,sign:u,cornerRadius:s,cornerIsExternal:o}),h=d.circleTangency,p=d.lineTangency,m=d.theta,f=mI({cx:t,cy:n,radius:r,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:o}),v=f.circleTangency,y=f.lineTangency,x=f.theta,g=o?Math.abs(l-c):Math.abs(l-c)-m-x;if(g<0)return i?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):fI({cx:t,cy:n,innerRadius:a,outerRadius:r,startAngle:l,endAngle:c});var b="M ".concat(p.x,",").concat(p.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(r,",").concat(r,",0,").concat(+(g>180),",").concat(+(u<0),",").concat(v.x,",").concat(v.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(a>0){var j=mI({cx:t,cy:n,radius:a,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),N=j.circleTangency,w=j.lineTangency,S=j.theta,k=mI({cx:t,cy:n,radius:a,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),O=k.circleTangency,C=k.lineTangency,P=k.theta,E=o?Math.abs(l-c):Math.abs(l-c)-S-P;if(E<0&&0===s)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(C.x,",").concat(C.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,"\n      A").concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(N.x,",").concat(N.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b}({cx:n,cy:a,innerRadius:r,outerRadius:s,cornerRadius:Math.min(f,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):fI({cx:n,cy:a,innerRadius:r,outerRadius:s,startAngle:c,endAngle:u}),U.createElement("path",uI({},Sg(t,!0),{className:p,d:h,role:"img"}))};function xI(e){return(xI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gI(){return gI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},gI.apply(this,arguments)}function bI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function jI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bI(Object(n),!0).forEach(function(t){NI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NI(e,t,n){var a;return a=function(e,t){if("object"!=xI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=xI(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==xI(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wI={curveBasisClosed:function(e){return new Qb(e)},curveBasisOpen:function(e){return new Xb(e)},curveBasis:function(e){return new Gb(e)},curveBumpX:function(e){return new Pb(e,!0)},curveBumpY:function(e){return new Pb(e,!1)},curveLinearClosed:function(e){return new Yb(e)},curveLinear:wb,curveMonotoneX:function(e){return new nj(e)},curveMonotoneY:function(e){return new aj(e)},curveNatural:function(e){return new sj(e)},curveStep:function(e){return new oj(e,.5)},curveStepAfter:function(e){return new oj(e,1)},curveStepBefore:function(e){return new oj(e,0)}},SI=function(e){return e.x===+e.x&&e.y===+e.y},kI=function(e){return e.x},OI=function(e){return e.y},CI=function(e){var t,n=e.type,a=void 0===n?"linear":n,r=e.points,s=void 0===r?[]:r,i=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(wv(e))return e;var n="curve".concat(ob(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?wI[n]||wb:wI["".concat(n).concat("vertical"===t?"Y":"X")]}(a,o),d=c?s.filter(function(e){return SI(e)}):s;if(Array.isArray(i)){var h=c?i.filter(function(e){return SI(e)}):i,p=d.map(function(e,t){return jI(jI({},e),{},{base:h[t]})});return(t="vertical"===o?Cb().y(OI).x1(kI).x0(function(e){return e.base.x}):Cb().x(kI).y1(OI).y0(function(e){return e.base.y})).defined(SI).curve(u),t(p)}return(t="vertical"===o&&Hx(i)?Cb().y(OI).x1(kI).x0(i):Hx(i)?Cb().x(kI).y1(OI).y0(i):Ob().x(kI).y(OI)).defined(SI).curve(u),t(d)},PI=function(e){var t=e.className,n=e.points,a=e.path,r=e.pathRef;if(!(n&&n.length||a))return null;var s=n&&n.length?CI(e):a;return z.createElement("path",gI({},Sg(e,!1),lg(e),{className:Wf("recharts-curve",t),d:s,ref:r}))},EI={exports:{}};function _I(){}function AI(){}AI.resetWarningCache=_I;EI.exports=function(){function e(e,t,n,a,r,s){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==s){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:AI,resetWarningCache:_I};return n.PropTypes=n,n}();const TI=n(EI.exports),{getOwnPropertyNames:MI,getOwnPropertySymbols:RI}=Object,{hasOwnProperty:DI}=Object.prototype;function II(e,t){return function(n,a,r){return e(n,a,r)&&t(n,a,r)}}function LI(e){return function(t,n,a){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,a);const{cache:r}=a,s=r.get(t),i=r.get(n);if(s&&i)return s===n&&i===t;r.set(t,n),r.set(n,t);const o=e(t,n,a);return r.delete(t),r.delete(n),o}}function BI(e){return MI(e).concat(RI(e))}const FI=Object.hasOwn||((e,t)=>DI.call(e,t));function $I(e,t){return e===t||!e&&!t&&e!=e&&t!=t}const{getOwnPropertyDescriptor:zI,keys:UI}=Object;function qI(e,t){return e.byteLength===t.byteLength&&nL(new Uint8Array(e),new Uint8Array(t))}function VI(e,t,n){let a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!n.equals(e[a],t[a],a,a,e,t,n))return!1;return!0}function WI(e,t){return e.byteLength===t.byteLength&&nL(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function KI(e,t){return $I(e.getTime(),t.getTime())}function HI(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function GI(e,t){return e===t}function QI(e,t,n){const a=e.size;if(a!==t.size)return!1;if(!a)return!0;const r=new Array(a),s=e.entries();let i,o,l=0;for(;(i=s.next())&&!i.done;){const a=t.entries();let s=!1,c=0;for(;(o=a.next())&&!o.done;){if(r[c]){c++;continue}const a=i.value,u=o.value;if(n.equals(a[0],u[0],l,c,e,t,n)&&n.equals(a[1],u[1],a[0],u[0],e,t,n)){s=r[c]=!0;break}c++}if(!s)return!1;l++}return!0}const XI=$I;function YI(e,t,n){const a=UI(e);let r=a.length;if(UI(t).length!==r)return!1;for(;r-- >0;)if(!rL(e,t,n,a[r]))return!1;return!0}function JI(e,t,n){const a=BI(e);let r,s,i,o=a.length;if(BI(t).length!==o)return!1;for(;o-- >0;){if(r=a[o],!rL(e,t,n,r))return!1;if(s=zI(e,r),i=zI(t,r),(s||i)&&(!s||!i||s.configurable!==i.configurable||s.enumerable!==i.enumerable||s.writable!==i.writable))return!1}return!0}function ZI(e,t){return $I(e.valueOf(),t.valueOf())}function eL(e,t){return e.source===t.source&&e.flags===t.flags}function tL(e,t,n){const a=e.size;if(a!==t.size)return!1;if(!a)return!0;const r=new Array(a),s=e.values();let i,o;for(;(i=s.next())&&!i.done;){const a=t.values();let s=!1,l=0;for(;(o=a.next())&&!o.done;){if(!r[l]&&n.equals(i.value,o.value,i.value,o.value,e,t,n)){s=r[l]=!0;break}l++}if(!s)return!1}return!0}function nL(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function aL(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function rL(e,t,n,a){return!("_owner"!==a&&"__o"!==a&&"__v"!==a||!e.$$typeof&&!t.$$typeof)||FI(t,a)&&n.equals(e[a],t[a],a,a,e,t,n)}const sL={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},iL=Object.prototype.toString;function oL({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:a,areErrorsEqual:r,areFunctionsEqual:s,areMapsEqual:i,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(f,v,y){if(f===v)return!0;if(null==f||null==v)return!1;const x=typeof f;if(x!==typeof v)return!1;if("object"!==x)return"number"===x?o(f,v,y):"function"===x&&s(f,v,y);const g=f.constructor;if(g!==v.constructor)return!1;if(g===Object)return l(f,v,y);if(Array.isArray(f))return t(f,v,y);if(g===Date)return a(f,v,y);if(g===RegExp)return u(f,v,y);if(g===Map)return i(f,v,y);if(g===Set)return d(f,v,y);const b=iL.call(f);if("[object Date]"===b)return a(f,v,y);if("[object RegExp]"===b)return u(f,v,y);if("[object Map]"===b)return i(f,v,y);if("[object Set]"===b)return d(f,v,y);if("[object Object]"===b)return"function"!=typeof f.then&&"function"!=typeof v.then&&l(f,v,y);if("[object URL]"===b)return p(f,v,y);if("[object Error]"===b)return r(f,v,y);if("[object Arguments]"===b)return l(f,v,y);if(sL[b])return h(f,v,y);if("[object ArrayBuffer]"===b)return e(f,v,y);if("[object DataView]"===b)return n(f,v,y);if("[object Boolean]"===b||"[object Number]"===b||"[object String]"===b)return c(f,v,y);if(m){let e=m[b];if(!e){const t=null!=(j=f)?j[Symbol.toStringTag]:void 0;t&&(e=m[t])}if(e)return e(f,v,y)}var j;return!1}}const lL=cL();function cL(e={}){const{circular:t=!1,createInternalComparator:n,createState:a,strict:r=!1}=e,s=function({circular:e,createCustomConfig:t,strict:n}){let a={areArrayBuffersEqual:qI,areArraysEqual:n?JI:VI,areDataViewsEqual:WI,areDatesEqual:KI,areErrorsEqual:HI,areFunctionsEqual:GI,areMapsEqual:n?II(QI,JI):QI,areNumbersEqual:XI,areObjectsEqual:n?JI:YI,arePrimitiveWrappersEqual:ZI,areRegExpsEqual:eL,areSetsEqual:n?II(tL,JI):tL,areTypedArraysEqual:n?II(nL,JI):nL,areUrlsEqual:aL,unknownTagComparators:void 0};if(t&&(a=Object.assign({},a,t(a))),e){const e=LI(a.areArraysEqual),t=LI(a.areMapsEqual),n=LI(a.areObjectsEqual),r=LI(a.areSetsEqual);a=Object.assign({},a,{areArraysEqual:e,areMapsEqual:t,areObjectsEqual:n,areSetsEqual:r})}return a}(e),i=oL(s),o=n?n(i):(l=i,function(e,t,n,a,r,s,i){return l(e,t,i)});var l;return function({circular:e,comparator:t,createState:n,equals:a,strict:r}){if(n)return function(s,i){const{cache:o=(e?new WeakMap:void 0),meta:l}=n();return t(s,i,{cache:o,equals:a,meta:l,strict:r})};if(e)return function(e,n){return t(e,n,{cache:new WeakMap,equals:a,meta:void 0,strict:r})};const s={cache:void 0,equals:a,meta:void 0,strict:r};return function(e,n){return t(e,n,s)}}({circular:t,comparator:i,createState:a,equals:o,strict:r})}function uL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function a(r){n<0&&(n=r),r-n>t?(e(r),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(a)})}function dL(e){return(dL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hL(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pL(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function mL(){var e=function(){return null},t=!1,n=function n(a){if(!t){if(Array.isArray(a)){if(!a.length)return;var r=hL(a),s=r[0],i=r.slice(1);return"number"==typeof s?void uL(n.bind(null,i),s):(n(s),void uL(n.bind(null,i)))}"object"===dL(a)&&e(a),"function"==typeof a&&a()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function fL(e){return(fL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function yL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vL(Object(n),!0).forEach(function(t){xL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==fL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!==fL(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fL(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cL({strict:!0}),cL({circular:!0}),cL({circular:!0,strict:!0}),cL({createInternalComparator:()=>$I}),cL({strict:!0,createInternalComparator:()=>$I}),cL({circular:!0,createInternalComparator:()=>$I}),cL({circular:!0,createInternalComparator:()=>$I,strict:!0});var gL=function(e){return e},bL=function(e,t){return Object.keys(t).reduce(function(n,a){return yL(yL({},n),{},xL({},a,e(a,t[a])))},{})},jL=function(e,t,n){return e.map(function(e){return"".concat((a=e,a.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var a}).join(",")};function NL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(l=(a=s.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return o}}(e,t)||SL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wL(e){return function(e){if(Array.isArray(e))return kL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||SL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SL(e,t){if(e){if("string"==typeof e)return kL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kL(e,t):void 0}}function kL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var OL=1e-4,CL=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},PL=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},EL=function(e,t){return function(n){var a=CL(e,t);return PL(a,n)}},_L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],r=t[1],s=t[2],i=t[3];if(1===t.length)switch(t[0]){case"linear":a=0,r=0,s=1,i=1;break;case"ease":a=.25,r=.1,s=.25,i=1;break;case"ease-in":a=.42,r=0,s=1,i=1;break;case"ease-out":a=.42,r=0,s=.58,i=1;break;case"ease-in-out":a=0,r=0,s=.58,i=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=NL(o[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);a=l[0],r=l[1],s=l[2],i=l[3]}}var c,u,d=EL(a,s),h=EL(r,i),p=(c=a,u=s,function(e){var t=CL(c,u),n=[].concat(wL(t.map(function(e,t){return e*t}).slice(1)),[0]);return PL(n,e)}),m=function(e){return e>1?1:e<0?0:e},f=function(e){for(var t=e>1?1:e,n=t,a=0;a<8;++a){var r=d(n)-t,s=p(n);if(Math.abs(r-t)<OL||s<OL)return h(n);n=m(n-r/s)}return h(n)};return f.isStepper=!1,f},AL=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0];if("string"==typeof a)switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _L(a);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,a=e.damping,r=void 0===a?8:a,s=e.dt,i=void 0===s?17:s,o=function(e,t,a){var s=a+(-(e-t)*n-a*r)*i/1e3,o=a*i/1e3+e;return Math.abs(o-t)<OL&&Math.abs(s)<OL?[t,0]:[o,s]};return o.isStepper=!0,o.dt=i,o}();default:if("cubic-bezier"===a.split("(")[0])return _L(a)}return"function"==typeof a?a:null};function TL(e){return(TL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ML(e){return function(e){if(Array.isArray(e))return FL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||BL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function DL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RL(Object(n),!0).forEach(function(t){IL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==TL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!==TL(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===TL(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(l=(a=s.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return o}}(e,t)||BL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BL(e,t){if(e){if("string"==typeof e)return FL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FL(e,t):void 0}}function FL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var $L=function(e,t,n){return e+(t-e)*n},zL=function(e){return e.from!==e.to},UL=function e(t,n,a){var r=bL(function(e,n){if(zL(n)){var a=LL(t(n.from,n.to,n.velocity),2),r=a[0],s=a[1];return DL(DL({},n),{},{from:r,velocity:s})}return n},n);return a<1?bL(function(e,t){return zL(t)?DL(DL({},t),{},{velocity:$L(t.velocity,r[e].velocity,a),from:$L(t.from,r[e].from,a)}):t},n):e(t,r,a-1)};const qL=function(e,t,n,a,r){var s,i,o,l,c=(s=e,i=t,[Object.keys(s),Object.keys(i)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,a){return DL(DL({},n),{},IL({},a,[e[a],t[a]]))},{}),d=c.reduce(function(n,a){return DL(DL({},n),{},IL({},a,{from:e[a],velocity:0,to:t[a]}))},{}),h=-1,p=function(){return null};return p=n.isStepper?function(a){o||(o=a);var s=(a-o)/n.dt;d=UL(n,d,s),r(DL(DL(DL({},e),t),bL(function(e,t){return t.from},d))),o=a,Object.values(d).filter(zL).length&&(h=requestAnimationFrame(p))}:function(s){l||(l=s);var i=(s-l)/a,o=bL(function(e,t){return $L.apply(void 0,ML(t).concat([n(i)]))},u);if(r(DL(DL(DL({},e),t),o)),i<1)h=requestAnimationFrame(p);else{var c=bL(function(e,t){return $L.apply(void 0,ML(t).concat([n(1)]))},u);r(DL(DL(DL({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(h)}}};function VL(e){return(VL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var WL=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function KL(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HL(e){return function(e){if(Array.isArray(e))return GL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return GL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GL(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function QL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function XL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QL(Object(n),!0).forEach(function(t){YL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YL(e,t,n){return(t=ZL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JL(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ZL(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZL(e){var t=function(e,t){if("object"!==VL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!==VL(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===VL(t)?t:String(t)}function eB(e,t){return(eB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(CH){return!1}}();return function(){var n,a=rB(e);if(t){var r=rB(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return nB(this,n)}}function nB(e,t){if(t&&("object"===VL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return aB(e)}function aB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rB(e){return(rB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sB=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eB(e,t)}(t,z.PureComponent);var e=tB(t);function t(n,a){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=(r=e.call(this,n,a)).props,i=s.isActive,o=s.attributeName,l=s.from,c=s.to,u=s.steps,d=s.children,h=s.duration;if(r.handleStyleChange=r.handleStyleChange.bind(aB(r)),r.changeStyle=r.changeStyle.bind(aB(r)),!i||h<=0)return r.state={style:{}},"function"==typeof d&&(r.state={style:c}),nB(r);if(u&&u.length)r.state={style:u[0].style};else if(l){if("function"==typeof d)return r.state={style:l},nB(r);r.state={style:o?YL({},o,l):l}}else r.state={style:{}};return r}return JL(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,a=t.canBegin,r=t.attributeName,s=t.shouldReAnimate,i=t.to,o=t.from,l=this.state.style;if(a)if(n){if(!(lL(e.to,i)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||s?o:e.to;if(this.state&&l){var d={style:r?YL({},r,u):u};(r&&l[r]!==u||!r&&l!==u)&&this.setState(d)}this.runAnimation(XL(XL({},this.props),{},{from:u,begin:0}))}}else{var h={style:r?YL({},r,i):i};this.state&&l&&(r&&l[r]!==i||!r&&l!==i)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,a=e.to,r=e.duration,s=e.easing,i=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=qL(n,a,AL(s),r,this.changeStyle);this.manager.start([l,i,function(){t.stopJSAnimation=c()},r,o])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,a=e.begin,r=e.onAnimationStart,s=n[0],i=s.style,o=s.duration,l=void 0===o?0:o;return this.manager.start([r].concat(HL(n.reduce(function(e,a,r){if(0===r)return e;var s=a.duration,i=a.easing,o=void 0===i?"ease":i,l=a.style,c=a.properties,u=a.onAnimationEnd,d=r>0?n[r-1]:a,h=c||Object.keys(l);if("function"==typeof o||"spring"===o)return[].concat(HL(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:s,easing:o}),s]);var p=jL(h,s,o),m=XL(XL(XL({},d.style),l),{},{transition:p});return[].concat(HL(e),[m,s,u]).filter(gL)},[i,Math.max(l,a)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=mL());var t=e.begin,n=e.duration,a=e.attributeName,r=e.to,s=e.easing,i=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof s&&"function"!=typeof c&&"spring"!==s)if(l.length>1)this.runStepAnimation(e);else{var d=a?YL({},a,r):r,h=jL(Object.keys(d),n,s);u.start([i,t,XL(XL({},d),{},{transition:h}),n,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var a=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var r=KL(e,WL),s=z.Children.count(t),i=this.state.style;if("function"==typeof t)return t(i);if(!a||0===s||n<=0)return t;var o=function(e){var t=e.props,n=t.style,a=void 0===n?{}:n,s=t.className;return z.cloneElement(e,XL(XL({},r),{},{style:XL(XL({},a),i),className:s}))};return 1===s?o(z.Children.only(t)):U.createElement("div",null,z.Children.map(t,function(e){return o(e)}))}}]),t}();function iB(e){return(iB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oB(){return oB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oB.apply(this,arguments)}function lB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(l=(a=s.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function uB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function dB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uB(Object(n),!0).forEach(function(t){hB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hB(e,t,n){var a;return a=function(e,t){if("object"!=iB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=iB(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==iB(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}sB.displayName="Animate",sB.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},sB.propTypes={from:TI.oneOfType([TI.object,TI.string]),to:TI.oneOfType([TI.object,TI.string]),attributeName:TI.string,duration:TI.number,begin:TI.number,easing:TI.oneOfType([TI.string,TI.func]),steps:TI.arrayOf(TI.shape({duration:TI.number.isRequired,style:TI.object.isRequired,easing:TI.oneOfType([TI.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),TI.func]),properties:TI.arrayOf("string"),onAnimationEnd:TI.func})),children:TI.oneOfType([TI.node,TI.func]),isActive:TI.bool,canBegin:TI.bool,onAnimationEnd:TI.func,shouldReAnimate:TI.bool,onAnimationStart:TI.func,onAnimationReStart:TI.func};var pB=function(e,t,n,a,r){var s,i=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0;if(i>0&&r instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=r[d]>i?i:r[d];s="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(s+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),s+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(s+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*u[1])),s+="L ".concat(e+n,",").concat(t+a-o*u[2]),u[2]>0&&(s+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+a)),s+="L ".concat(e+l*u[3],",").concat(t+a),u[3]>0&&(s+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+a-o*u[3])),s+="Z"}else if(i>0&&r===+r&&r>0){var h=Math.min(i,r);s="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*h,"\n            L ").concat(e+n,",").concat(t+a-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+a,"\n            L ").concat(e+l*h,",").concat(t+a,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+a-o*h," Z")}else s="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return s},mB=function(e,t){if(!e||!t)return!1;var n=e.x,a=e.y,r=t.x,s=t.y,i=t.width,o=t.height;if(Math.abs(i)>0&&Math.abs(o)>0){var l=Math.min(r,r+i),c=Math.max(r,r+i),u=Math.min(s,s+o),d=Math.max(s,s+o);return n>=l&&n<=c&&a>=u&&a<=d}return!1},fB={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vB=function(e){var t=dB(dB({},fB),e),n=z.useRef(),a=lB(z.useState(-1),2),r=a[0],s=a[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&s(e)}catch(t){}},[]);var i=t.x,o=t.y,l=t.width,c=t.height,u=t.radius,d=t.className,h=t.animationEasing,p=t.animationDuration,m=t.animationBegin,f=t.isAnimationActive,v=t.isUpdateAnimationActive;if(i!==+i||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var y=Wf("recharts-rectangle",d);return v?U.createElement(sB,{canBegin:r>0,from:{width:l,height:c,x:i,y:o},to:{width:l,height:c,x:i,y:o},duration:p,animationEasing:h,isActive:v},function(e){var a=e.width,s=e.height,i=e.x,o=e.y;return U.createElement(sB,{canBegin:r>0,from:"0px ".concat(-1===r?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:f,easing:h},U.createElement("path",oB({},Sg(t,!0),{className:y,d:pB(i,o,a,s,u),ref:n})))}):U.createElement("path",oB({},Sg(t,!0),{className:y,d:pB(i,o,l,c,u)}))},yB=["points","className","baseLinePoints","connectNulls"];function xB(){return xB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xB.apply(this,arguments)}function gB(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bB(e){return function(e){if(Array.isArray(e))return jB(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jB(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var NB=function(e){return e&&e.x===+e.x&&e.y===+e.y},wB=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){NB(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),NB(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce(function(e,t){return[].concat(bB(e),bB(t))},[])]);var a=n.map(function(e){return e.reduce(function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===n.length?"".concat(a,"Z"):a},SB=function(e){var t=e.points,n=e.className,a=e.baseLinePoints,r=e.connectNulls,s=gB(e,yB);if(!t||!t.length)return null;var i=Wf("recharts-polygon",n);if(a&&a.length){var o=s.stroke&&"none"!==s.stroke,l=function(e,t,n){var a=wB(e,n);return"".concat("Z"===a.slice(-1)?a.slice(0,-1):a,"L").concat(wB(t.reverse(),n).slice(1))}(t,a,r);return U.createElement("g",{className:i},U.createElement("path",xB({},Sg(s,!0),{fill:"Z"===l.slice(-1)?s.fill:"none",stroke:"none",d:l})),o?U.createElement("path",xB({},Sg(s,!0),{fill:"none",d:wB(t,r)})):null,o?U.createElement("path",xB({},Sg(s,!0),{fill:"none",d:wB(a,r)})):null)}var c=wB(t,r);return U.createElement("path",xB({},Sg(s,!0),{fill:"Z"===c.slice(-1)?s.fill:"none",className:i,d:c}))};function kB(){return kB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kB.apply(this,arguments)}var OB=function(e){var t=e.cx,n=e.cy,a=e.r,r=Wf("recharts-dot",e.className);return t===+t&&n===+n&&a===+a?z.createElement("circle",kB({},Sg(e,!1),lg(e),{className:r,cx:t,cy:n,r:a})):null};function CB(e){return(CB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var PB=["x","y","top","left","width","height","className"];function EB(){return EB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},EB.apply(this,arguments)}function _B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function AB(e,t,n){var a;return a=function(e,t){if("object"!=CB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=CB(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==CB(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TB(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var MB=function(e,t,n,a,r,s){return"M".concat(e,",").concat(r,"v").concat(a,"M").concat(s,",").concat(t,"h").concat(n)},RB=function(e){var t=e.x,n=void 0===t?0:t,a=e.y,r=void 0===a?0:a,s=e.top,i=void 0===s?0:s,o=e.left,l=void 0===o?0:o,c=e.width,u=void 0===c?0:c,d=e.height,h=void 0===d?0:d,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_B(Object(n),!0).forEach(function(t){AB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:r,top:i,left:l,width:u,height:h},TB(e,PB));return Hx(n)&&Hx(r)&&Hx(u)&&Hx(h)&&Hx(i)&&Hx(l)?U.createElement("path",EB({},Sg(m,!0),{className:Wf("recharts-cross",p),d:MB(n,r,u,h,i,l)})):null},DB=tM,IB=nM,LB=HS;const BB=n(function(e,t){return e&&e.length?DB(e,LB(t),IB):void 0});var FB=tM,$B=HS,zB=oM;const UB=n(function(e,t){return e&&e.length?FB(e,$B(t),zB):void 0});var qB=["cx","cy","angle","ticks","axisLine"],VB=["ticks","tick","angle","tickFormatter","stroke"];function WB(e){return(WB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KB(){return KB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},KB.apply(this,arguments)}function HB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function GB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HB(Object(n),!0).forEach(function(t){tF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QB(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XB(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,nF(a.key),a)}}function YB(e,t,n){return t=ZB(t),function(e,t){if(t&&("object"===WB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JB()?Reflect.construct(t,n||[],ZB(e).constructor):t.apply(e,n))}function JB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(JB=function(){return!!e})()}function ZB(e){return(ZB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eF(e,t){return(eF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tF(e,t,n){return(t=nF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nF(e){var t=function(e,t){if("object"!=WB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=WB(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WB(t)?t:t+""}var aF=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),YB(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eF(e,t)}(e,z.PureComponent),t=e,a=[{key:"renderTickItem",value:function(e,t,n){return U.isValidElement(e)?U.cloneElement(e,t):wv(e)?e(t):U.createElement(xP,KB({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],(n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,a=n.angle,r=n.cx,s=n.cy;return AD(r,s,t,a)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,a=e.angle,r=e.ticks,s=BB(r,function(e){return e.coordinate||0});return{cx:t,cy:n,startAngle:a,endAngle:a,innerRadius:UB(r,function(e){return e.coordinate||0}).coordinate||0,outerRadius:s.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,a=e.angle,r=e.ticks,s=e.axisLine,i=QB(e,qB),o=r.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),l=AD(t,n,o[0],a),c=AD(t,n,o[1],a),u=GB(GB(GB({},Sg(i,!1)),{},{fill:"none"},Sg(s,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return U.createElement("line",KB({className:"recharts-polar-radius-axis-line"},u))}},{key:"renderTicks",value:function(){var t=this,n=this.props,a=n.ticks,r=n.tick,s=n.angle,i=n.tickFormatter,o=n.stroke,l=QB(n,VB),c=this.getTickTextAnchor(),u=Sg(l,!1),d=Sg(r,!1),h=a.map(function(n,a){var l=t.getTickValueCoord(n),h=GB(GB(GB(GB({textAnchor:c,transform:"rotate(".concat(90-s,", ").concat(l.x,", ").concat(l.y,")")},u),{},{stroke:"none",fill:o},d),{},{index:a},l),{},{payload:n});return U.createElement(Dg,KB({className:Wf("recharts-polar-radius-axis-tick",LD(r)),key:"tick-".concat(n.coordinate)},cg(t.props,n,a)),e.renderTickItem(r,h,i?i(n.value,a):n.value))});return U.createElement(Dg,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,a=e.tick;return t&&t.length?U.createElement(Dg,{className:Wf("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),a&&this.renderTicks(),GD.renderCallByParent(this.props,this.getViewBox())):null}}])&&XB(t.prototype,n),a&&XB(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function rF(e){return(rF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sF(){return sF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},sF.apply(this,arguments)}function iF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function oF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iF(Object(n),!0).forEach(function(t){pF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lF(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,mF(a.key),a)}}function cF(e,t,n){return t=dF(t),function(e,t){if(t&&("object"===rF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uF()?Reflect.construct(t,n||[],dF(e).constructor):t.apply(e,n))}function uF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(uF=function(){return!!e})()}function dF(e){return(dF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hF(e,t){return(hF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function pF(e,t,n){return(t=mF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mF(e){var t=function(e,t){if("object"!=rF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=rF(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rF(t)?t:t+""}tF(aF,"displayName","PolarRadiusAxis"),tF(aF,"axisType","radiusAxis"),tF(aF,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var fF=Math.PI/180,vF=1e-5,yF=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cF(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hF(e,t)}(e,z.PureComponent),t=e,a=[{key:"renderTickItem",value:function(e,t,n){return U.isValidElement(e)?U.cloneElement(e,t):wv(e)?e(t):U.createElement(xP,sF({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],(n=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,a=t.cy,r=t.radius,s=t.orientation,i=t.tickSize||8,o=AD(n,a,r,e.coordinate),l=AD(n,a,r+("inner"===s?-1:1)*i,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*fF);return n>vF?"outer"===t?"start":"end":n<-vF?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,a=e.radius,r=e.axisLine,s=e.axisLineType,i=oF(oF({},Sg(this.props,!1)),{},{fill:"none"},Sg(r,!1));if("circle"===s)return U.createElement(OB,sF({className:"recharts-polar-angle-axis-line"},i,{cx:t,cy:n,r:a}));var o=this.props.ticks.map(function(e){return AD(t,n,a,e.coordinate)});return U.createElement(SB,sF({className:"recharts-polar-angle-axis-line"},i,{points:o}))}},{key:"renderTicks",value:function(){var t=this,n=this.props,a=n.ticks,r=n.tick,s=n.tickLine,i=n.tickFormatter,o=n.stroke,l=Sg(this.props,!1),c=Sg(r,!1),u=oF(oF({},l),{},{fill:"none"},Sg(s,!1)),d=a.map(function(n,a){var d=t.getTickLineCoord(n),h=oF(oF(oF({textAnchor:t.getTickTextAnchor(n)},l),{},{stroke:"none",fill:o},c),{},{index:a,payload:n,x:d.x2,y:d.y2});return U.createElement(Dg,sF({className:Wf("recharts-polar-angle-axis-tick",LD(r)),key:"tick-".concat(n.coordinate)},cg(t.props,n,a)),s&&U.createElement("line",sF({className:"recharts-polar-angle-axis-tick-line"},u,d)),r&&e.renderTickItem(r,h,i?i(n.value,a):n.value))});return U.createElement(Dg,{className:"recharts-polar-angle-axis-ticks"},d)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,a=e.axisLine;return n<=0||!t||!t.length?null:U.createElement(Dg,{className:Wf("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}])&&lF(t.prototype,n),a&&lF(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();pF(yF,"displayName","PolarAngleAxis"),pF(yF,"axisType","angleAxis"),pF(yF,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var xF=dw(Object.getPrototypeOf,Object),gF=lv,bF=xF,jF=cv,NF=Function.prototype,wF=Object.prototype,SF=NF.toString,kF=wF.hasOwnProperty,OF=SF.call(Object);const CF=n(function(e){if(!jF(e)||"[object Object]"!=gF(e))return!1;var t=bF(e);if(null===t)return!0;var n=kF.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&SF.call(n)==OF});var PF=lv,EF=cv;const _F=n(function(e){return!0===e||!1===e||EF(e)&&"[object Boolean]"==PF(e)});function AF(e){return(AF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TF(){return TF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},TF.apply(this,arguments)}function MF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(l=(a=s.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return RF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function DF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function IF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DF(Object(n),!0).forEach(function(t){LF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LF(e,t,n){var a;return a=function(e,t){if("object"!=AF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=AF(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==AF(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BF,FF=function(e,t,n,a,r){var s,i=n-a;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-i/2,",").concat(t+r),s+="L ".concat(e+n-i/2-a,",").concat(t+r),s+="L ".concat(e,",").concat(t," Z")},$F={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zF=function(e){var t=IF(IF({},$F),e),n=z.useRef(),a=MF(z.useState(-1),2),r=a[0],s=a[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&s(e)}catch(t){}},[]);var i=t.x,o=t.y,l=t.upperWidth,c=t.lowerWidth,u=t.height,d=t.className,h=t.animationEasing,p=t.animationDuration,m=t.animationBegin,f=t.isUpdateAnimationActive;if(i!==+i||o!==+o||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var v=Wf("recharts-trapezoid",d);return f?U.createElement(sB,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:u,x:i,y:o},to:{upperWidth:l,lowerWidth:c,height:u,x:i,y:o},duration:p,animationEasing:h,isActive:f},function(e){var a=e.upperWidth,s=e.lowerWidth,i=e.height,o=e.x,l=e.y;return U.createElement(sB,{canBegin:r>0,from:"0px ".concat(-1===r?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:h},U.createElement("path",TF({},Sg(t,!0),{className:v,d:FF(o,l,a,s,i),ref:n})))}):U.createElement("g",null,U.createElement("path",TF({},Sg(t,!0),{className:v,d:FF(i,o,l,c,u)})))},UF=["option","shapeType","propTransformer","activeClassName","isActive"];function qF(e){return(qF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VF(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function KF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WF(Object(n),!0).forEach(function(t){HF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HF(e,t,n){var a;return a=function(e,t){if("object"!=qF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=qF(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qF(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GF(e,t){return KF(KF({},t),e)}function QF(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return U.createElement(vB,n);case"trapezoid":return U.createElement(zF,n);case"sector":return U.createElement(yI,n);case"symbols":if(function(e){return"symbols"===e}(t))return U.createElement(jj,n);break;default:return null}}function XF(e){var t,n=e.option,a=e.shapeType,r=e.propTransformer,s=void 0===r?GF:r,i=e.activeClassName,o=void 0===i?"recharts-active-shape":i,l=e.isActive,c=VF(e,UF);if(z.isValidElement(n))t=z.cloneElement(n,KF(KF({},c),function(e){return z.isValidElement(e)?e.props:e}(n)));else if(wv(n))t=n(c);else if(CF(n)&&!_F(n)){var u=s(n,c);t=U.createElement(QF,{shapeType:a,elementProps:u})}else{var d=c;t=U.createElement(QF,{shapeType:a,elementProps:d})}return l?U.createElement(Dg,{className:o},t):t}function YF(e,t){return null!=t&&"trapezoids"in e.props}function JF(e,t){return null!=t&&"sectors"in e.props}function ZF(e,t){return null!=t&&"points"in e.props}function e$(e,t){var n,a,r=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,s=e.y===(null==t||null===(a=t.labelViewBox)||void 0===a?void 0:a.y)||e.y===t.y;return r&&s}function t$(e,t){var n=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return n&&a}function n$(e,t){var n=e.x===t.x,a=e.y===t.y,r=e.z===t.z;return n&&a&&r}function a$(e){var t=e.activeTooltipItem,n=e.graphicalItem,a=e.itemData,r=function(e,t){var n;return YF(e,t)?n="trapezoids":JF(e,t)?n="sectors":ZF(e,t)&&(n="points"),n}(n,t),s=function(e,t){var n,a;return YF(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:JF(e,t)?null===(a=t.tooltipPayload)||void 0===a||null===(a=a[0])||void 0===a||null===(a=a.payload)||void 0===a?void 0:a.payload:ZF(e,t)?t.payload:{}}(n,t),i=a.filter(function(e,a){var i=bM(s,e),o=n.props[r].filter(function(e){var a=function(e,t){var n;return YF(e,t)?n=e$:JF(e,t)?n=t$:ZF(e,t)&&(n=n$),n}(n,t);return a(e,t)}),l=n.props[r].indexOf(o[o.length-1]);return i&&a===l});return a.indexOf(i[i.length-1])}function r$(e){return(r$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s$(){return s$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s$.apply(this,arguments)}function i$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function o$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i$(Object(n),!0).forEach(function(t){p$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l$(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,m$(a.key),a)}}function c$(e,t,n){return t=d$(t),function(e,t){if(t&&("object"===r$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u$()?Reflect.construct(t,n||[],d$(e).constructor):t.apply(e,n))}function u$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(u$=function(){return!!e})()}function d$(e){return(d$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h$(e,t){return(h$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p$(e,t,n){return(t=m$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m$(e){var t=function(e,t){if("object"!=r$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=r$(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==r$(t)?t:t+""}var f$=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p$(n=c$(this,e,[t]),"pieRef",null),p$(n,"sectorRefs",[]),p$(n,"id",Xx("recharts-pie-")),p$(n,"handleAnimationEnd",function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),wv(e)&&e()}),p$(n,"handleAnimationStart",function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),wv(e)&&e()}),n.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h$(e,t)}(e,z.PureComponent),t=e,a=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(U.isValidElement(e))return U.cloneElement(e,t);if(wv(e))return e(t);var a=Wf("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return U.createElement(PI,s$({},t,{key:n,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(e,t,n){if(U.isValidElement(e))return U.cloneElement(e,t);var a=n;if(wv(e)&&(a=e(t),U.isValidElement(a)))return a;var r=Wf("recharts-pie-label-text","boolean"==typeof e||wv(e)?"":e.className);return U.createElement(xP,s$({},t,{alignmentBaseline:"middle",className:r}),a)}}],(n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.label,r=n.labelLine,s=n.dataKey,i=n.valueKey,o=Sg(this.props,!1),l=Sg(a,!1),c=Sg(r,!1),u=a&&a.offsetRadius||20,d=t.map(function(t,n){var d=(t.startAngle+t.endAngle)/2,h=AD(t.cx,t.cy,t.outerRadius+u,d),p=o$(o$(o$(o$({},o),t),{},{stroke:"none"},l),{},{index:n,textAnchor:e.getTextAnchor(h.x,t.cx)},h),m=o$(o$(o$(o$({},o),t),{},{fill:"none",stroke:t.fill},c),{},{index:n,points:[AD(t.cx,t.cy,t.outerRadius,d),h]}),f=s;return fx(s)&&fx(i)?f="value":fx(s)&&(f=i),U.createElement(Dg,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(n)},r&&e.renderLabelLineItem(r,m,"line"),e.renderLabelItem(a,p,QR(t,f)))});return U.createElement(Dg,{className:"recharts-pie-labels"},d)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,a=n.activeShape,r=n.blendStroke,s=n.inactiveShape;return e.map(function(n,i){if(0===(null==n?void 0:n.startAngle)&&0===(null==n?void 0:n.endAngle)&&1!==e.length)return null;var o=t.isActiveIndex(i),l=s&&t.hasActiveIndex()?s:null,c=o?a:l,u=o$(o$({},n),{},{stroke:r?n.fill:n.stroke,tabIndex:-1});return U.createElement(Dg,s$({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},cg(t.props,n,i),{key:"sector-".concat(null==n?void 0:n.startAngle,"-").concat(null==n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(i)}),U.createElement(XF,s$({option:c,isActive:o,shapeType:"sector"},u)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,a=t.isAnimationActive,r=t.animationBegin,s=t.animationDuration,i=t.animationEasing,o=t.animationId,l=this.state,c=l.prevSectors,u=l.prevIsAnimationActive;return U.createElement(sB,{begin:r,duration:s,isActive:a,easing:i,from:{t:0},to:{t:1},key:"pie-".concat(o,"-").concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var a=t.t,r=[],s=(n&&n[0]).startAngle;return n.forEach(function(e,t){var n=c&&c[t],i=t>0?mx(e,"paddingAngle",0):0;if(n){var o=Zx(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=o$(o$({},e),{},{startAngle:s+i,endAngle:s+o(a)+i});r.push(l),s=l.endAngle}else{var u=e.endAngle,d=e.startAngle,h=Zx(0,u-d)(a),p=o$(o$({},e),{},{startAngle:s+i,endAngle:s+h+i});r.push(p),s=p.endAngle}}),U.createElement(Dg,null,e.renderSectorsStatically(r))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var a=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[a].focus(),t.setState({sectorToFocus:a});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,a=this.state.prevSectors;return!(n&&t&&t.length)||a&&bM(a,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,a=t.sectors,r=t.className,s=t.label,i=t.cx,o=t.cy,l=t.innerRadius,c=t.outerRadius,u=t.isAnimationActive,d=this.state.isAnimationFinished;if(n||!a||!a.length||!Hx(i)||!Hx(o)||!Hx(l)||!Hx(c))return null;var h=Wf("recharts-pie",r);return U.createElement(Dg,{tabIndex:this.props.rootTabIndex,className:h,ref:function(t){e.pieRef=t}},this.renderSectors(),s&&this.renderLabels(a),GD.renderCallByParent(this.props,null,!1),(!u||d)&&lI.renderCallByParent(this.props,a,!1))}}])&&l$(t.prototype,n),a&&l$(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function v$(e){return(v$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y$(){return y$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y$.apply(this,arguments)}function x$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function g$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x$(Object(n),!0).forEach(function(t){b$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b$(e,t,n){var a;return a=function(e,t){if("object"!=v$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=v$(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==v$(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j$(e){return"string"==typeof e?parseInt(e,10):e}function N$(e,t){var n="".concat(t.cx||e.cx),a=Number(n),r="".concat(t.cy||e.cy),s=Number(r);return g$(g$(g$({},t),e),{},{cx:a,cy:s})}function w$(e){return U.createElement(XF,y$({shapeType:"sector",propTransformer:N$},e))}BF=f$,p$(f$,"displayName","Pie"),p$(f$,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!QO,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),p$(f$,"parseDeltaAngle",function(e,t){return Wx(t-e)*Math.min(Math.abs(t-e),360)}),p$(f$,"getRealPieData",function(e){var t=e.data,n=e.children,a=Sg(e,!1),r=gg(n,DC);return t&&t.length?t.map(function(e,t){return o$(o$(o$({payload:e},a),e),r&&r[t]&&r[t].props)}):r&&r.length?r.map(function(e){return o$(o$({},a),e.props)}):[]}),p$(f$,"parseCoordinateOfPie",function(e,t){var n=t.top,a=t.left,r=t.width,s=t.height,i=TD(r,s);return{cx:a+Yx(e.cx,r,r/2),cy:n+Yx(e.cy,s,s/2),innerRadius:Yx(e.innerRadius,i,0),outerRadius:Yx(e.outerRadius,i,.8*i),maxRadius:e.maxRadius||Math.sqrt(r*r+s*s)/2}}),p$(f$,"getComposedData",function(e){var t=e.item,n=e.offset,a=void 0!==t.type.defaultProps?o$(o$({},t.type.defaultProps),t.props):t.props,r=BF.getRealPieData(a);if(!r||!r.length)return null;var s=a.cornerRadius,i=a.startAngle,o=a.endAngle,l=a.paddingAngle,c=a.dataKey,u=a.nameKey,d=a.valueKey,h=a.tooltipType,p=Math.abs(a.minAngle),m=BF.parseCoordinateOfPie(a,n),f=BF.parseDeltaAngle(i,o),v=Math.abs(f),y=c;fx(c)&&fx(d)?(Ig(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):fx(c)&&(Ig(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=d);var x,g,b=r.filter(function(e){return 0!==QR(e,y,0)}).length,j=v-b*p-(v>=360?b:b-1)*l,N=r.reduce(function(e,t){var n=QR(t,y,0);return e+(Hx(n)?n:0)},0);N>0&&(x=r.map(function(e,t){var n,a=QR(e,y,0),r=QR(e,u,t),o=(Hx(a)?a:0)/N,c=(n=t?g.endAngle+Wx(f)*l*(0!==a?1:0):i)+Wx(f)*((0!==a?p:0)+o*j),d=(n+c)/2,v=(m.innerRadius+m.outerRadius)/2,x=[{name:r,value:a,payload:e,dataKey:y,type:h}],b=AD(m.cx,m.cy,v,d);return g=o$(o$(o$({percent:o,cornerRadius:s,name:r,tooltipPayload:x,midAngle:d,middleRadius:v,tooltipPosition:b},e),m),{},{value:QR(e,y),startAngle:n,endAngle:c,payload:e,paddingAngle:Wx(f)*l})}));return o$(o$({},m),{},{sectors:x,data:r})});var S$=["shape","activeShape","activeIndex","cornerRadius"],k$=["value","background"];function O$(e){return(O$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C$(){return C$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C$.apply(this,arguments)}function P$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function E$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P$(Object(n),!0).forEach(function(t){I$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _$(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A$(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,L$(a.key),a)}}function T$(e,t,n){return t=R$(t),function(e,t){if(t&&("object"===O$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,M$()?Reflect.construct(t,n||[],R$(e).constructor):t.apply(e,n))}function M$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(M$=function(){return!!e})()}function R$(e){return(R$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D$(e,t){return(D$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function I$(e,t,n){return(t=L$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L$(e){var t=function(e,t){if("object"!=O$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=O$(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==O$(t)?t:t+""}var B$=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return I$(t=T$(this,e,[].concat(a)),"state",{isAnimationFinished:!1}),I$(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),wv(e)&&e()}),I$(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),wv(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D$(e,t)}(e,z.PureComponent),t=e,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(n=[{key:"getDeltaAngle",value:function(){var e=this.props,t=e.startAngle,n=e.endAngle;return Wx(n-t)*Math.min(Math.abs(n-t),360)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,a=n.shape,r=n.activeShape,s=n.activeIndex,i=n.cornerRadius,o=_$(n,S$),l=Sg(o,!1);return e.map(function(e,n){var c=n===s,u=E$(E$(E$(E$({},l),{},{cornerRadius:j$(i)},e),cg(t.props,e,n)),{},{className:"recharts-radial-bar-sector ".concat(e.className),forceCornerRadius:o.forceCornerRadius,cornerIsExternal:o.cornerIsExternal,isActive:c,option:c?r:a});return U.createElement(w$,C$({},u,{key:"sector-".concat(n)}))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.data,a=t.isAnimationActive,r=t.animationBegin,s=t.animationDuration,i=t.animationEasing,o=t.animationId,l=this.state.prevData;return U.createElement(sB,{begin:r,duration:s,isActive:a,easing:i,from:{t:0},to:{t:1},key:"radialBar-".concat(o),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var a=t.t,r=n.map(function(e,t){var n=l&&l[t];if(n){var r=Zx(n.startAngle,e.startAngle),s=Zx(n.endAngle,e.endAngle);return E$(E$({},e),{},{startAngle:r(a),endAngle:s(a)})}var i=e.endAngle,o=e.startAngle,c=Zx(o,i);return E$(E$({},e),{},{endAngle:c(a)})});return U.createElement(Dg,null,e.renderSectorsStatically(r))})}},{key:"renderSectors",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,a=this.state.prevData;return!(n&&t&&t.length)||a&&bM(a,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"renderBackground",value:function(e){var t=this,n=this.props.cornerRadius,a=Sg(this.props.background,!1);return e.map(function(e,r){e.value;var s=e.background,i=_$(e,k$);if(!s)return null;var o=E$(E$(E$(E$(E$({cornerRadius:j$(n)},i),{},{fill:"#eee"},s),a),cg(t.props,e,r)),{},{index:r,className:Wf("recharts-radial-bar-background-sector",null==a?void 0:a.className),option:s,isActive:!1});return U.createElement(w$,C$({},o,{key:"sector-".concat(r)}))})}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,a=e.className,r=e.background,s=e.isAnimationActive;if(t||!n||!n.length)return null;var i=this.state.isAnimationFinished,o=Wf("recharts-area",a);return U.createElement(Dg,{className:o},r&&U.createElement(Dg,{className:"recharts-radial-bar-background"},this.renderBackground(n)),U.createElement(Dg,{className:"recharts-radial-bar-sectors"},this.renderSectors()),(!s||i)&&lI.renderCallByParent(E$({},this.props),n))}}])&&A$(t.prototype,n),a&&A$(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();I$(B$,"displayName","RadialBar"),I$(B$,"defaultProps",{angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!QO,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1}),I$(B$,"getComposedData",function(e){var t=e.item,n=e.props,a=e.radiusAxis,r=e.radiusAxisTicks,s=e.angleAxis,i=e.angleAxisTicks,o=e.displayedData,l=e.dataKey,c=e.stackedData,u=e.barPosition,d=e.bandSize,h=e.dataStartIndex,p=lD(u,t);if(!p)return null;var m=s.cx,f=s.cy,v=n.layout,y=t.props,x=y.children,g=y.minPointSize,b="radial"===v?s:a,j=c?b.scale.domain():null,N=fD({numericAxis:b}),w=gg(x,DC);return{data:o.map(function(e,o){var u,y,x,b,S,k;if(c?u=cD(c[h+o],j):(u=QR(e,l),Array.isArray(u)||(u=[N,u])),"radial"===v){y=mD({axis:a,ticks:r,bandSize:d,offset:p.offset,entry:e,index:o}),S=s.scale(u[1]),b=s.scale(u[0]),x=y+p.size;var O=S-b;if(Math.abs(g)>0&&Math.abs(O)<Math.abs(g))S+=Wx(O||g)*(Math.abs(g)-Math.abs(O));k={background:{cx:m,cy:f,innerRadius:y,outerRadius:x,startAngle:n.startAngle,endAngle:n.endAngle}}}else{y=a.scale(u[0]),x=a.scale(u[1]),S=(b=mD({axis:s,ticks:i,bandSize:d,offset:p.offset,entry:e,index:o}))+p.size;var C=x-y;if(Math.abs(g)>0&&Math.abs(C)<Math.abs(g))x+=Wx(C||g)*(Math.abs(g)-Math.abs(C))}return E$(E$(E$(E$({},e),k),{},{payload:e,value:c?u:u[1],cx:m,cy:f,innerRadius:y,outerRadius:x,startAngle:b,endAngle:S},w&&w[o]&&w[o].props),{},{tooltipPayload:[ND(t,e)],tooltipPosition:AD(m,f,(y+x)/2,(b+S)/2)})}),layout:v}});var F$=Math.ceil,$$=Math.max;var z$=gC,U$=1/0;var q$=function(e){return e?(e=z$(e))===U$||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},V$=function(e,t,n,a){for(var r=-1,s=$$(F$((t-e)/(n||1)),0),i=Array(s);s--;)i[a?s:++r]=e,e+=n;return i},W$=xO,K$=q$;const H$=n(function(e){return function(t,n,a){return a&&"number"!=typeof a&&W$(t,n,a)&&(n=a=void 0),t=K$(t),void 0===n?(n=t,t=0):n=K$(n),a=void 0===a?t<n?1:-1:K$(a),V$(t,n,a,e)}}());function G$(e){return(G$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function X$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q$(Object(n),!0).forEach(function(t){Y$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Y$(e,t,n){var a;return a=function(e,t){if("object"!=G$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=G$(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==G$(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J$=["Webkit","Moz","O","ms"];function Z$(e){return(Z$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ez(){return ez=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ez.apply(this,arguments)}function tz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function nz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tz(Object(n),!0).forEach(function(t){lz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function az(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,cz(a.key),a)}}function rz(e,t,n){return t=iz(t),function(e,t){if(t&&("object"===Z$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sz()?Reflect.construct(t,n||[],iz(e).constructor):t.apply(e,n))}function sz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(sz=function(){return!!e})()}function iz(e){return(iz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oz(e,t){return(oz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lz(e,t,n){return(t=cz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cz(e){var t=function(e,t){if("object"!=Z$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Z$(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Z$(t)?t:t+""}var uz=function(e){return e.changedTouches&&!!e.changedTouches.length},dz=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lz(n=rz(this,e,[t]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),lz(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),lz(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,a=e.onDragEnd,r=e.startIndex;null==a||a({endIndex:t,startIndex:r})}),n.detachDragEndListener()}),lz(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),lz(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),lz(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),lz(n,"handleSlideDragStart",function(e){var t=uz(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oz(e,t)}(e,z.PureComponent),t=e,a=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,a=e.width,r=e.height,s=e.stroke,i=Math.floor(n+r/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:t,y:n,width:a,height:r,fill:s,stroke:"none"}),U.createElement("line",{x1:t+1,y1:i,x2:t+a-1,y2:i,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:t+1,y1:i+2,x2:t+a-1,y2:i+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return U.isValidElement(t)?U.cloneElement(t,n):wv(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,a=e.width,r=e.x,s=e.travellerWidth,i=e.updateId,o=e.startIndex,l=e.endIndex;if(n!==t.prevData||i!==t.prevUpdateId)return nz({prevData:n,prevTravellerWidth:s,prevUpdateId:i,prevX:r,prevWidth:a},n&&n.length?function(e){var t=e.data,n=e.startIndex,a=e.endIndex,r=e.x,s=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=HP().domain(H$(0,o)).range([r,r+s-i]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(a),scale:l,scaleValues:c}}({data:n,width:a,x:r,travellerWidth:s,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(a!==t.prevWidth||r!==t.prevX||s!==t.prevTravellerWidth)){t.scale.range([r,r+a-s]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:s,prevUpdateId:i,prevX:r,prevWidth:a,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,a=e.length-1;a-n>1;){var r=Math.floor((n+a)/2);e[r]>t?a=r:n=r}return t>=e[a]?a:n}}],(n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,a=t.endX,r=this.state.scaleValues,s=this.props,i=s.gap,o=s.data.length-1,l=Math.min(n,a),c=Math.max(n,a),u=e.getIndexInRange(r,l),d=e.getIndexInRange(r,c);return{startIndex:u-u%i,endIndex:d===o?o:d-d%i}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,a=t.tickFormatter,r=t.dataKey,s=QR(n[e],r,e);return wv(a)?a(s,e):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,a=t.startX,r=t.endX,s=this.props,i=s.x,o=s.width,l=s.travellerWidth,c=s.startIndex,u=s.endIndex,d=s.onChange,h=e.pageX-n;h>0?h=Math.min(h,i+o-l-r,i+o-l-a):h<0&&(h=Math.max(h,i-a,i-r));var p=this.getIndex({startX:a+h,endX:r+h});p.startIndex===c&&p.endIndex===u||!d||d(p),this.setState({startX:a+h,endX:r+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=uz(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,a=t.movingTravellerId,r=t.endX,s=t.startX,i=this.state[a],o=this.props,l=o.x,c=o.width,u=o.travellerWidth,d=o.onChange,h=o.gap,p=o.data,m={startX:this.state.startX,endX:this.state.endX},f=e.pageX-n;f>0?f=Math.min(f,l+c-u-i):f<0&&(f=Math.max(f,l-i)),m[a]=i+f;var v=this.getIndex(m),y=v.startIndex,x=v.endIndex;this.setState(lz(lz({},a,i+f),"brushMoveStartX",e.pageX),function(){var e;d&&(e=p.length-1,("startX"===a&&(r>s?y%h===0:x%h===0)||r<s&&x===e||"endX"===a&&(r>s?x%h===0:y%h===0)||r>s&&x===e)&&d(v))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,a=this.state,r=a.scaleValues,s=a.startX,i=a.endX,o=this.state[t],l=r.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=r.length)){var u=r[c];"startX"===t&&u>=i||"endX"===t&&u<=s||this.setState(lz({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,r=e.height,s=e.fill,i=e.stroke;return U.createElement("rect",{stroke:i,fill:s,x:t,y:n,width:a,height:r})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,r=e.height,s=e.data,i=e.children,o=e.padding,l=z.Children.only(i);return l?U.cloneElement(l,{x:t,y:n,width:a,height:r,margin:o,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(t,n){var a,r,s=this,i=this.props,o=i.y,l=i.travellerWidth,c=i.height,u=i.traveller,d=i.ariaLabel,h=i.data,p=i.startIndex,m=i.endIndex,f=Math.max(t,this.props.x),v=nz(nz({},Sg(this.props,!1)),{},{x:f,y:o,width:l,height:c}),y=d||"Min value: ".concat(null===(a=h[p])||void 0===a?void 0:a.name,", Max value: ").concat(null===(r=h[m])||void 0===r?void 0:r.name);return U.createElement(Dg,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),s.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(u,v))}},{key:"renderSlide",value:function(e,t){var n=this.props,a=n.y,r=n.height,s=n.stroke,i=n.travellerWidth,o=Math.min(e,t)+i,l=Math.max(Math.abs(t-e)-i,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:s,fillOpacity:.2,x:o,y:a,width:l,height:r})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,a=e.y,r=e.height,s=e.travellerWidth,i=e.stroke,o=this.state,l=o.startX,c=o.endX,u={pointerEvents:"none",fill:i};return U.createElement(Dg,{className:"recharts-brush-texts"},U.createElement(xP,ez({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:a+r/2},u),this.getTextOfTick(t)),U.createElement(xP,ez({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+s+5,y:a+r/2},u),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,a=e.children,r=e.x,s=e.y,i=e.width,o=e.height,l=e.alwaysShowText,c=this.state,u=c.startX,d=c.endX,h=c.isTextActive,p=c.isSlideMoving,m=c.isTravellerMoving,f=c.isTravellerFocused;if(!t||!t.length||!Hx(r)||!Hx(s)||!Hx(i)||!Hx(o)||i<=0||o<=0)return null;var v,y,x,g,b=Wf("recharts-brush",n),j=1===U.Children.count(a),N=(y="none",x=(v="userSelect").replace(/(\w)/,function(e){return e.toUpperCase()}),(g=J$.reduce(function(e,t){return X$(X$({},e),{},Y$({},t+x,y))},{}))[v]=y,g);return U.createElement(Dg,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(u,d),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(d,"endX"),(h||p||m||f||l)&&this.renderText())}}])&&az(t.prototype,n),a&&az(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();lz(dz,"displayName","Brush"),lz(dz,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var hz=Bk;var pz=Yj,mz=HS,fz=function(e,t){var n;return hz(e,function(e,a,r){return!(n=t(e,a,r))}),!!n},vz=Kf,yz=xO;const xz=n(function(e,t,n){var a=vz(e)?pz:fz;return n&&yz(e,t,n)&&(t=void 0),a(e,mz(t))});var gz=function(e,t){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===t},bz=sO;var jz=function(e,t,n){"__proto__"==t&&bz?bz(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Nz=Ik,wz=HS;const Sz=n(function(e,t){var n={};return t=wz(t),Nz(e,function(e,a,r){jz(n,a,t(e,a,r))}),n});var kz=Bk;var Oz=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(!t(e[n],n,e))return!1;return!0},Cz=function(e,t){var n=!0;return kz(e,function(e,a,r){return n=!!t(e,a,r)}),n},Pz=HS,Ez=Kf,_z=xO;const Az=n(function(e,t,n){var a=Ez(e)?Oz:Cz;return n&&_z(e,t,n)&&(t=void 0),a(e,Pz(t))});var Tz=["x","y"];function Mz(e){return(Mz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rz(){return Rz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Rz.apply(this,arguments)}function Dz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Iz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dz(Object(n),!0).forEach(function(t){Lz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Lz(e,t,n){var a;return a=function(e,t){if("object"!=Mz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Mz(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Mz(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bz(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fz(e,t){var n=e.x,a=e.y,r=Bz(e,Tz),s="".concat(n),i=parseInt(s,10),o="".concat(a),l=parseInt(o,10),c="".concat(t.height||r.height),u=parseInt(c,10),d="".concat(t.width||r.width),h=parseInt(d,10);return Iz(Iz(Iz(Iz(Iz({},t),r),i?{x:i}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function $z(e){return U.createElement(XF,Rz({shapeType:"rectangle",propTransformer:Fz,activeClassName:"recharts-active-bar"},e))}var zz,Uz=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,a){if("number"==typeof e)return e;var r=Hx(n)||function(e){return fx(e)}(n);return r?e(n,a):(r||wR(),t)}},qz=["value","background"];function Vz(e){return(Vz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wz(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kz(){return Kz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kz.apply(this,arguments)}function Hz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Gz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hz(Object(n),!0).forEach(function(t){eU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qz(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,tU(a.key),a)}}function Xz(e,t,n){return t=Jz(t),function(e,t){if(t&&("object"===Vz(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yz()?Reflect.construct(t,n||[],Jz(e).constructor):t.apply(e,n))}function Yz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Yz=function(){return!!e})()}function Jz(e){return(Jz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zz(e,t){return(Zz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eU(e,t,n){return(t=tU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tU(e){var t=function(e,t){if("object"!=Vz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Vz(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Vz(t)?t:t+""}var nU=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return eU(t=Xz(this,e,[].concat(a)),"state",{isAnimationFinished:!1}),eU(t,"id",Xx("recharts-bar-")),eU(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()}),eU(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zz(e,t)}(e,z.PureComponent),t=e,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,a=n.shape,r=n.dataKey,s=n.activeIndex,i=n.activeBar,o=Sg(this.props,!1);return e&&e.map(function(e,n){var l=n===s,c=l?i:a,u=Gz(Gz(Gz({},o),e),{},{isActive:l,option:c,index:n,dataKey:r,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return U.createElement(Dg,Kz({className:"recharts-bar-rectangle"},cg(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n)}),U.createElement($z,u))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,a=t.layout,r=t.isAnimationActive,s=t.animationBegin,i=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state.prevData;return U.createElement(sB,{begin:s,duration:i,isActive:r,easing:o,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var r=t.t,s=n.map(function(e,t){var n=c&&c[t];if(n){var s=Zx(n.x,e.x),i=Zx(n.y,e.y),o=Zx(n.width,e.width),l=Zx(n.height,e.height);return Gz(Gz({},e),{},{x:s(r),y:i(r),width:o(r),height:l(r)})}if("horizontal"===a){var u=Zx(0,e.height)(r);return Gz(Gz({},e),{},{y:e.y+e.height-u,height:u})}var d=Zx(0,e.width)(r);return Gz(Gz({},e),{},{width:d})});return U.createElement(Dg,null,e.renderRectanglesStatically(s))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,a=this.state.prevData;return!(n&&t&&t.length)||a&&bM(a,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,a=t.dataKey,r=t.activeIndex,s=Sg(this.props.background,!1);return n.map(function(t,n){t.value;var i=t.background,o=Wz(t,qz);if(!i)return null;var l=Gz(Gz(Gz(Gz(Gz({},o),{},{fill:"#eee"},i),s),cg(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:n,className:"recharts-bar-background-rectangle"});return U.createElement($z,Kz({key:"background-bar-".concat(n),option:e.props.background,isActive:n===r},l))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.data,r=n.xAxis,s=n.yAxis,i=n.layout,o=gg(n.children,LR);if(!o)return null;var l="vertical"===i?a[0].height/2:a[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:QR(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return U.createElement(Dg,u,o.map(function(e){return U.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:a,xAxis:r,yAxis:s,layout:i,offset:l,dataPointFormatter:c})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,a=e.className,r=e.xAxis,s=e.yAxis,i=e.left,o=e.top,l=e.width,c=e.height,u=e.isAnimationActive,d=e.background,h=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=Wf("recharts-bar",a),f=r&&r.allowDataOverflow,v=s&&s.allowDataOverflow,y=f||v,x=fx(h)?this.id:h;return U.createElement(Dg,{className:m},f||v?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(x)},U.createElement("rect",{x:f?i:i-l/2,y:v?o:o-c/2,width:f?l:2*l,height:v?c:2*c}))):null,U.createElement(Dg,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(x,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,x),(!u||p)&&lI.renderCallByParent(this.props,n))}}])&&Qz(t.prototype,n),a&&Qz(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function aU(e){return(aU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rU(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lU(a.key),a)}}function sU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function iU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sU(Object(n),!0).forEach(function(t){oU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oU(e,t,n){return(t=lU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lU(e){var t=function(e,t){if("object"!=aU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=aU(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aU(t)?t:t+""}zz=nU,eU(nU,"displayName","Bar"),eU(nU,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!QO,animationBegin:0,animationDuration:400,animationEasing:"ease"}),eU(nU,"getComposedData",function(e){var t=e.props,n=e.item,a=e.barPosition,r=e.bandSize,s=e.xAxis,i=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=lD(a,n);if(!p)return null;var m=t.layout,f=n.type.defaultProps,v=void 0!==f?Gz(Gz({},f),n.props):n.props,y=v.dataKey,x=v.children,g=v.minPointSize,b="horizontal"===m?i:s,j=c?b.scale.domain():null,N=fD({numericAxis:b}),w=gg(x,DC),S=d.map(function(e,t){var a,d,h,f,v,x;c?a=cD(c[u+t],j):(a=QR(e,y),Array.isArray(a)||(a=[N,a]));var b=Uz(g,zz.defaultProps.minPointSize)(a[1],t);if("horizontal"===m){var S,k=[i.scale(a[0]),i.scale(a[1])],O=k[0],C=k[1];d=mD({axis:s,ticks:o,bandSize:r,offset:p.offset,entry:e,index:t}),h=null!==(S=null!=C?C:O)&&void 0!==S?S:void 0,f=p.size;var P=O-C;if(v=Number.isNaN(P)?0:P,x={x:d,y:i.y,width:f,height:i.height},Math.abs(b)>0&&Math.abs(v)<Math.abs(b)){var E=Wx(v||b)*(Math.abs(b)-Math.abs(v));h-=E,v+=E}}else{var _=[s.scale(a[0]),s.scale(a[1])],A=_[0],T=_[1];if(d=A,h=mD({axis:i,ticks:l,bandSize:r,offset:p.offset,entry:e,index:t}),f=T-A,v=p.size,x={x:s.x,y:h,width:s.width,height:v},Math.abs(b)>0&&Math.abs(f)<Math.abs(b))f+=Wx(f||b)*(Math.abs(b)-Math.abs(f))}return Gz(Gz(Gz({},e),{},{x:d,y:h,width:f,height:v,value:c?a:a[1],payload:e,background:x},w&&w[t]&&w[t].props),{},{tooltipPayload:[ND(n,e)],tooltipPosition:{x:d+f/2,y:h+v/2}})});return Gz({data:S,layout:m},h)});var cU=function(e,t,n,a,r){var s=e.width,i=e.height,o=e.layout,l=e.children,c=Object.keys(t),u={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:i-n.bottom,bottomMirror:i-n.bottom},d=!!bg(l,nU);return c.reduce(function(s,i){var l,c,h,p,m,f=t[i],v=f.orientation,y=f.domain,x=f.padding,g=void 0===x?{}:x,b=f.mirror,j=f.reversed,N="".concat(v).concat(b?"Mirror":"");if("number"===f.type&&("gap"===f.padding||"no-gap"===f.padding)){var w=y[1]-y[0],S=1/0,k=f.categoricalDomain.sort(tg);if(k.forEach(function(e,t){t>0&&(S=Math.min((e||0)-(k[t-1]||0),S))}),Number.isFinite(S)){var O=S/w,C="vertical"===f.layout?n.height:n.width;if("gap"===f.padding&&(l=O*C/2),"no-gap"===f.padding){var P=Yx(e.barCategoryGap,O*C),E=O*C/2;l=E-P-(E-P)/C*P}}}c="xAxis"===a?[n.left+(g.left||0)+(l||0),n.left+n.width-(g.right||0)-(l||0)]:"yAxis"===a?"horizontal"===o?[n.top+n.height-(g.bottom||0),n.top+(g.top||0)]:[n.top+(g.top||0)+(l||0),n.top+n.height-(g.bottom||0)-(l||0)]:f.range,j&&(c=[c[1],c[0]]);var _=sD(f,r,d),A=_.scale,T=_.realScaleType;A.domain(y).range(c),oD(A);var M=hD(A,iU(iU({},f),{},{realScaleType:T}));"xAxis"===a?(m="top"===v&&!b||"bottom"===v&&b,h=n.left,p=u[N]-m*f.height):"yAxis"===a&&(m="left"===v&&!b||"right"===v&&b,h=u[N]-m*f.width,p=n.top);var R=iU(iU(iU({},f),M),{},{realScaleType:T,x:h,y:p,scale:A,width:"xAxis"===a?n.width:f.width,height:"yAxis"===a?n.height:f.height});return R.bandSize=bD(R,M),f.hide||"xAxis"!==a?f.hide||(u[N]+=(m?-1:1)*R.width):u[N]+=(m?-1:1)*R.height,iU(iU({},s),{},oU({},i,R))},{})},uU=function(e,t){var n=e.x,a=e.y,r=t.x,s=t.y;return{x:Math.min(n,r),y:Math.min(a,s),width:Math.abs(r-n),height:Math.abs(s-a)}},dU=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,a=t.position;if(void 0!==e){if(a)switch(a){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}if(n){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],a=t[t.length-1];return n<=a?e>=n&&e<=a:e>=a&&e<=n}}],a=[{key:"create",value:function(t){return new e(t)}}],n&&rU(t.prototype,n),a&&rU(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();oU(dU,"EPS",1e-4);var hU=function(e){var t=Object.keys(e).reduce(function(t,n){return iU(iU({},t),{},oU({},n,dU.create(e[n])))},{});return iU(iU({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.bandAware,r=n.position;return Sz(e,function(e,n){return t[n].apply(e,{bandAware:a,position:r})})},isInRange:function(e){return Az(e,function(e,n){return t[n].isInRange(e)})}})};var pU=HS,mU=xw,fU=Nw;var vU=function(e){return function(t,n,a){var r=Object(t);if(!mU(t)){var s=pU(n);t=fU(t),n=function(e){return s(r[e],e,r)}}var i=e(t,n,a);return i>-1?r[s?t[i]:i]:void 0}},yU=q$;var xU=GS,gU=HS,bU=function(e){var t=yU(e),n=t%1;return t==t?n?t-n:t:0},jU=Math.max;const NU=n(vU(function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=null==n?0:bU(n);return r<0&&(r=jU(a+r,0)),xU(e,gU(t),r)}));var wU=Uy(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),SU=z.createContext(void 0),kU=z.createContext(void 0),OU=z.createContext(void 0),CU=z.createContext({}),PU=z.createContext(void 0),EU=z.createContext(0),_U=z.createContext(0),AU=function(e){var t=e.state,n=t.xAxisMap,a=t.yAxisMap,r=t.offset,s=e.clipPathId,i=e.children,o=e.width,l=e.height,c=wU(r);return U.createElement(SU.Provider,{value:n},U.createElement(kU.Provider,{value:a},U.createElement(CU.Provider,{value:r},U.createElement(OU.Provider,{value:c},U.createElement(PU.Provider,{value:s},U.createElement(EU.Provider,{value:l},U.createElement(_U.Provider,{value:o},i)))))))},TU=function(e){var t=z.useContext(SU);null==t&&wR();var n=t[e];return null==n&&wR(),n},MU=function(e){var t=z.useContext(kU);null==t&&wR();var n=t[e];return null==n&&wR(),n},RU=function(){return z.useContext(_U)},DU=function(){return z.useContext(EU)};function IU(e){return(IU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LU(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,WU(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BU(e,t,n){return t=$U(t),function(e,t){if(t&&("object"===IU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,FU()?Reflect.construct(t,n||[],$U(e).constructor):t.apply(e,n))}function FU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(FU=function(){return!!e})()}function $U(e){return($U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zU(e,t){return(zU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function UU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function qU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UU(Object(n),!0).forEach(function(t){VU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VU(e,t,n){return(t=WU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WU(e){var t=function(e,t){if("object"!=IU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=IU(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==IU(t)?t:t+""}function KU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(l=(a=s.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return HU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function GU(){return GU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},GU.apply(this,arguments)}function QU(e){var t=e.x,n=e.y,a=e.segment,r=e.xAxisId,s=e.yAxisId,i=e.shape,o=e.className,l=e.alwaysShow,c=z.useContext(PU),u=TU(r),d=MU(s),h=z.useContext(OU);if(!c||!h)return null;Ig(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,a,r,s,i,o,l){var c=r.x,u=r.y,d=r.width,h=r.height;if(n){var p=l.y,m=e.y.apply(p,{position:s});if(gz(l,"discard")&&!e.y.isInRange(m))return null;var f=[{x:c+d,y:m},{x:c,y:m}];return"left"===o?f.reverse():f}if(t){var v=l.x,y=e.x.apply(v,{position:s});if(gz(l,"discard")&&!e.x.isInRange(y))return null;var x=[{x:y,y:u+h},{x:y,y:u}];return"top"===i?x.reverse():x}if(a){var g=l.segment.map(function(t){return e.apply(t,{position:s})});return gz(l,"discard")&&xz(g,function(t){return!e.isInRange(t)})?null:g}return null}(hU({x:u.scale,y:d.scale}),Gx(t),Gx(n),a&&2===a.length,h,e.position,u.orientation,d.orientation,e);if(!p)return null;var m=KU(p,2),f=m[0],v=f.x,y=f.y,x=m[1],g=x.x,b=x.y,j=qU(qU({clipPath:gz(e,"hidden")?"url(#".concat(c,")"):void 0},Sg(e,!0)),{},{x1:v,y1:y,x2:g,y2:b});return U.createElement(Dg,{className:Wf("recharts-reference-line",o)},function(e,t){return U.isValidElement(e)?U.cloneElement(e,t):wv(e)?e(t):U.createElement("line",GU({},t,{className:"recharts-reference-line-line"}))}(i,j),GD.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,a=e.x2,r=e.y2;return uU({x:t,y:n},{x:a,y:r})}({x1:v,y1:y,x2:g,y2:b})))}var XU=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),BU(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zU(e,t)}(e,U.Component),LU(e,[{key:"render",value:function(){return U.createElement(QU,this.props)}}])}();function YU(){return YU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},YU.apply(this,arguments)}function JU(e){return(JU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function eq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZU(Object(n),!0).forEach(function(t){iq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tq(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,oq(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nq(e,t,n){return t=rq(t),function(e,t){if(t&&("object"===JU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aq()?Reflect.construct(t,n||[],rq(e).constructor):t.apply(e,n))}function aq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(aq=function(){return!!e})()}function rq(e){return(rq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sq(e,t){return(sq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function iq(e,t,n){return(t=oq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oq(e){var t=function(e,t){if("object"!=JU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=JU(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==JU(t)?t:t+""}VU(XU,"displayName","ReferenceLine"),VU(XU,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var lq=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),nq(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sq(e,t)}(e,U.Component),tq(e,[{key:"render",value:function(){var t=this.props,n=t.x,a=t.y,r=t.r,s=t.alwaysShow,i=t.clipPathId,o=Gx(n),l=Gx(a);if(Ig(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!l)return null;var c=function(e){var t=e.x,n=e.y,a=e.xAxis,r=e.yAxis,s=hU({x:a.scale,y:r.scale}),i=s.apply({x:t,y:n},{bandAware:!0});return gz(e,"discard")&&!s.isInRange(i)?null:i}(this.props);if(!c)return null;var u=c.x,d=c.y,h=this.props,p=h.shape,m=h.className,f=eq(eq({clipPath:gz(this.props,"hidden")?"url(#".concat(i,")"):void 0},Sg(this.props,!0)),{},{cx:u,cy:d});return U.createElement(Dg,{className:Wf("recharts-reference-dot",m)},e.renderDot(p,f),GD.renderCallByParent(this.props,{x:u-r,y:d-r,width:2*r,height:2*r}))}}])}();function cq(){return cq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},cq.apply(this,arguments)}function uq(e){return(uq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function hq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dq(Object(n),!0).forEach(function(t){xq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pq(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,gq(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mq(e,t,n){return t=vq(t),function(e,t){if(t&&("object"===uq(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fq()?Reflect.construct(t,n||[],vq(e).constructor):t.apply(e,n))}function fq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(fq=function(){return!!e})()}function vq(e){return(vq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yq(e,t){return(yq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xq(e,t,n){return(t=gq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gq(e){var t=function(e,t){if("object"!=uq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=uq(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==uq(t)?t:t+""}iq(lq,"displayName","ReferenceDot"),iq(lq,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),iq(lq,"renderDot",function(e,t){return U.isValidElement(e)?U.cloneElement(e,t):wv(e)?e(t):U.createElement(OB,YU({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var bq=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mq(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yq(e,t)}(e,U.Component),pq(e,[{key:"render",value:function(){var t=this.props,n=t.x1,a=t.x2,r=t.y1,s=t.y2,i=t.className,o=t.alwaysShow,l=t.clipPathId;Ig(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Gx(n),u=Gx(a),d=Gx(r),h=Gx(s),p=this.props.shape;if(!(c||u||d||h||p))return null;var m=function(e,t,n,a,r){var s=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.xAxis,u=r.yAxis;if(!c||!u)return null;var d=hU({x:c.scale,y:u.scale}),h={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(o,{position:"start"}):d.y.rangeMin},p={x:t?d.x.apply(i,{position:"end"}):d.x.rangeMax,y:a?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!gz(r,"discard")||d.isInRange(h)&&d.isInRange(p)?uU(h,p):null}(c,u,d,h,this.props);if(!m&&!p)return null;var f=gz(this.props,"hidden")?"url(#".concat(l,")"):void 0;return U.createElement(Dg,{className:Wf("recharts-reference-area",i)},e.renderRect(p,hq(hq({clipPath:f},Sg(this.props,!0)),m)),GD.renderCallByParent(this.props,m))}}])}();function jq(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var a=[],r=0;r<e.length;r+=t)a.push(e[r]);return a}function Nq(e,t,n){return function(e){var t=e.width,n=e.height,a=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),r=a*Math.PI/180,s=Math.atan(n/t),i=r>s&&r<Math.PI-s?n/Math.sin(r):t/Math.cos(r);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},n)}function wq(e,t,n,a,r){if(e*t<e*a||e*t>e*r)return!1;var s=n();return e*(t-e*s/2-a)>=0&&e*(t+e*s/2-r)<=0}function Sq(e){return(Sq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Oq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kq(Object(n),!0).forEach(function(t){Cq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cq(e,t,n){var a;return a=function(e,t){if("object"!=Sq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Sq(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Sq(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pq(e,t,n){var a=e.tick,r=e.ticks,s=e.viewBox,i=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!r||!r.length||!a)return[];if(Hx(l)||QO)return function(e,t){return jq(e,t+1)}(r,"number"==typeof l&&Hx(l)?l:0);var h=[],p="top"===o||"bottom"===o?"width":"height",m=u&&"width"===p?qC(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},f=function(e,a){var r=wv(c)?c(e.value,a):e.value;return"width"===p?Nq(qC(r,{fontSize:t,letterSpacing:n}),m,d):qC(r,{fontSize:t,letterSpacing:n})[p]},v=r.length>=2?Wx(r[1].coordinate-r[0].coordinate):1,y=function(e,t,n){var a="width"===n,r=e.x,s=e.y,i=e.width,o=e.height;return 1===t?{start:a?r:s,end:a?r+i:s+o}:{start:a?r+i:s+o,end:a?r:s}}(s,v,p);return"equidistantPreserveStart"===l?function(e,t,n,a,r){for(var s,i=(a||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var t=null==a?void 0:a[c];if(void 0===t)return{v:jq(a,u)};var s,i=c,h=function(){return void 0===s&&(s=n(t,i)),s},p=t.coordinate,m=0===c||wq(e,p,h,d,l);m||(c=0,d=o,u+=1),m&&(d=p+e*(h()/2+r),c+=u)};u<=i.length;)if(s=h())return s.v;return[]}(v,y,f,r,i):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,a,r,s){var i=(a||[]).slice(),o=i.length,l=t.start,c=t.end;if(s){var u=a[o-1],d=n(u,o-1),h=e*(u.coordinate+e*d/2-c);i[o-1]=u=Oq(Oq({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),wq(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+r),i[o-1]=Oq(Oq({},u),{},{isShow:!0}))}for(var p=s?o-1:o,m=function(t){var a,s=i[t],o=function(){return void 0===a&&(a=n(s,t)),a};if(0===t){var u=e*(s.coordinate-e*o()/2-l);i[t]=s=Oq(Oq({},s),{},{tickCoord:u<0?s.coordinate-u*e:s.coordinate})}else i[t]=s=Oq(Oq({},s),{},{tickCoord:s.coordinate});wq(e,s.tickCoord,o,l,c)&&(l=s.tickCoord+e*(o()/2+r),i[t]=Oq(Oq({},s),{},{isShow:!0}))},f=0;f<p;f++)m(f);return i}(v,y,f,r,i,"preserveStartEnd"===l):function(e,t,n,a,r){for(var s=(a||[]).slice(),i=s.length,o=t.start,l=t.end,c=function(t){var a,c=s[t],u=function(){return void 0===a&&(a=n(c,t)),a};if(t===i-1){var d=e*(c.coordinate+e*u()/2-l);s[t]=c=Oq(Oq({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else s[t]=c=Oq(Oq({},c),{},{tickCoord:c.coordinate});wq(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+r),s[t]=Oq(Oq({},c),{},{isShow:!0}))},u=i-1;u>=0;u--)c(u);return s}(v,y,f,r,i),h.filter(function(e){return e.isShow}))}xq(bq,"displayName","ReferenceArea"),xq(bq,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),xq(bq,"renderRect",function(e,t){return U.isValidElement(e)?U.cloneElement(e,t):wv(e)?e(t):U.createElement(vB,cq({},t,{className:"recharts-reference-area-rect"}))});var Eq=["viewBox"],_q=["viewBox"],Aq=["ticks"];function Tq(e){return(Tq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mq(){return Mq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mq.apply(this,arguments)}function Rq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Dq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rq(Object(n),!0).forEach(function(t){Uq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Iq(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lq(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,qq(a.key),a)}}function Bq(e,t,n){return t=$q(t),function(e,t){if(t&&("object"===Tq(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Fq()?Reflect.construct(t,n||[],$q(e).constructor):t.apply(e,n))}function Fq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Fq=function(){return!!e})()}function $q(e){return($q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zq(e,t){return(zq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Uq(e,t,n){return(t=qq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qq(e){var t=function(e,t){if("object"!=Tq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Tq(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Tq(t)?t:t+""}var Vq=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Bq(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zq(e,t)}(e,z.Component),t=e,a=[{key:"renderTickItem",value:function(e,t,n){var a=Wf(t.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(e)?U.cloneElement(e,Dq(Dq({},t),{},{className:a})):wv(e)?e(Dq(Dq({},t),{},{className:a})):U.createElement(xP,Mq({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,a=Iq(e,Eq),r=this.props,s=r.viewBox,i=Iq(r,_q);return!ng(n,s)||!ng(a,i)||!ng(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,a,r,s,i,o=this.props,l=o.x,c=o.y,u=o.width,d=o.height,h=o.orientation,p=o.tickSize,m=o.mirror,f=o.tickMargin,v=m?-1:1,y=e.tickSize||p,x=Hx(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,i=(a=(r=c+ +!m*d)-v*y)-v*f,s=x;break;case"left":a=r=e.coordinate,s=(t=(n=l+ +!m*u)-v*y)-v*f,i=x;break;case"right":a=r=e.coordinate,s=(t=(n=l+ +m*u)+v*y)+v*f,i=x;break;default:t=n=e.coordinate,i=(a=(r=c+ +m*d)+v*y)+v*f,s=x}return{line:{x1:t,y1:a,x2:n,y2:r},tick:{x:s,y:i}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,a=t.mirror;switch(n){case"left":e=a?"start":"end";break;case"right":e=a?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,a="end";switch(t){case"left":case"right":a="middle";break;case"top":a=n?"start":"end";break;default:a=n?"end":"start"}return a}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,r=e.height,s=e.orientation,i=e.mirror,o=e.axisLine,l=Dq(Dq(Dq({},Sg(this.props,!1)),Sg(o,!1)),{},{fill:"none"});if("top"===s||"bottom"===s){var c=+("top"===s&&!i||"bottom"===s&&i);l=Dq(Dq({},l),{},{x1:t,y1:n+c*r,x2:t+a,y2:n+c*r})}else{var u=+("left"===s&&!i||"right"===s&&i);l=Dq(Dq({},l),{},{x1:t+u*a,y1:n,x2:t+u*a,y2:n+r})}return U.createElement("line",Mq({},l,{className:Wf("recharts-cartesian-axis-line",mx(o,"className"))}))}},{key:"renderTicks",value:function(t,n,a){var r=this,s=this.props,i=s.tickLine,o=s.stroke,l=s.tick,c=s.tickFormatter,u=s.unit,d=Pq(Dq(Dq({},this.props),{},{ticks:t}),n,a),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Sg(this.props,!1),f=Sg(l,!1),v=Dq(Dq({},m),{},{fill:"none"},Sg(i,!1)),y=d.map(function(t,n){var a=r.getTickLineCoord(t),s=a.line,y=a.tick,x=Dq(Dq(Dq(Dq({textAnchor:h,verticalAnchor:p},m),{},{stroke:"none",fill:o},f),y),{},{index:n,payload:t,visibleTicksCount:d.length,tickFormatter:c});return U.createElement(Dg,Mq({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},cg(r.props,t,n)),i&&U.createElement("line",Mq({},v,s,{className:Wf("recharts-cartesian-axis-tick-line",mx(i,"className"))})),l&&e.renderTickItem(l,x,"".concat(wv(c)?c(t.value,n):t.value).concat(u||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,a=t.width,r=t.height,s=t.ticksGenerator,i=t.className;if(t.hide)return null;var o=this.props,l=o.ticks,c=Iq(o,Aq),u=l;return wv(s)&&(u=l&&l.length>0?s(this.props):s(c)),a<=0||r<=0||!u||!u.length?null:U.createElement(Dg,{className:Wf("recharts-cartesian-axis",i),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),GD.renderCallByParent(this.props))}}])&&Lq(t.prototype,n),a&&Lq(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();Uq(Vq,"displayName","CartesianAxis"),Uq(Vq,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Wq=["x1","y1","x2","y2","key"],Kq=["offset"];function Hq(e){return(Hq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Qq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gq(Object(n),!0).forEach(function(t){Xq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xq(e,t,n){var a;return a=function(e,t){if("object"!=Hq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Hq(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Hq(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yq(){return Yq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Yq.apply(this,arguments)}function Jq(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Zq=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,a=e.x,r=e.y,s=e.width,i=e.height,o=e.ry;return U.createElement("rect",{x:a,y:r,ry:o,width:s,height:i,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function eV(e,t){var n;if(U.isValidElement(e))n=U.cloneElement(e,t);else if(wv(e))n=e(t);else{var a=t.x1,r=t.y1,s=t.x2,i=t.y2,o=t.key,l=Jq(t,Wq),c=Sg(l,!1);c.offset;var u=Jq(c,Kq);n=U.createElement("line",Yq({},u,{x1:a,y1:r,x2:s,y2:i,fill:"none",key:o}))}return n}function tV(e){var t=e.x,n=e.width,a=e.horizontal,r=void 0===a||a,s=e.horizontalPoints;if(!r||!s||!s.length)return null;var i=s.map(function(a,s){var i=Qq(Qq({},e),{},{x1:t,y1:a,x2:t+n,y2:a,key:"line-".concat(s),index:s});return eV(r,i)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function nV(e){var t=e.y,n=e.height,a=e.vertical,r=void 0===a||a,s=e.verticalPoints;if(!r||!s||!s.length)return null;var i=s.map(function(a,s){var i=Qq(Qq({},e),{},{x1:a,y1:t,x2:a,y2:t+n,key:"line-".concat(s),index:s});return eV(r,i)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function aV(e){var t=e.horizontalFill,n=e.fillOpacity,a=e.x,r=e.y,s=e.width,i=e.height,o=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var c=o.map(function(e){return Math.round(e+r-r)}).sort(function(e,t){return e-t});r!==c[0]&&c.unshift(0);var u=c.map(function(e,o){var l=!c[o+1]?r+i-e:c[o+1]-e;if(l<=0)return null;var u=o%t.length;return U.createElement("rect",{key:"react-".concat(o),y:e,x:a,height:l,width:s,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function rV(e){var t=e.vertical,n=void 0===t||t,a=e.verticalFill,r=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!n||!a||!a.length)return null;var u=c.map(function(e){return Math.round(e+s-s)}).sort(function(e,t){return e-t});s!==u[0]&&u.unshift(0);var d=u.map(function(e,t){var n=!u[t+1]?s+o-e:u[t+1]-e;if(n<=0)return null;var c=t%a.length;return U.createElement("rect",{key:"react-".concat(t),x:e,y:i,width:n,height:l,stroke:"none",fill:a[c],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var sV=function(e,t){var n=e.xAxis,a=e.width,r=e.height,s=e.offset;return tD(Pq(Qq(Qq(Qq({},Vq.defaultProps),n),{},{ticks:nD(n,!0),viewBox:{x:0,y:0,width:a,height:r}})),s.left,s.left+s.width,t)},iV=function(e,t){var n=e.yAxis,a=e.width,r=e.height,s=e.offset;return tD(Pq(Qq(Qq(Qq({},Vq.defaultProps),n),{},{ticks:nD(n,!0),viewBox:{x:0,y:0,width:a,height:r}})),s.top,s.top+s.height,t)},oV={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function lV(e){var t,n,a,r,s,i,o,l,c=RU(),u=DU(),d=z.useContext(CU),h=Qq(Qq({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:oV.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:oV.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:oV.horizontal,horizontalFill:null!==(r=e.horizontalFill)&&void 0!==r?r:oV.horizontalFill,vertical:null!==(s=e.vertical)&&void 0!==s?s:oV.vertical,verticalFill:null!==(i=e.verticalFill)&&void 0!==i?i:oV.verticalFill,x:Hx(e.x)?e.x:d.left,y:Hx(e.y)?e.y:d.top,width:Hx(e.width)?e.width:d.width,height:Hx(e.height)?e.height:d.height}),p=h.x,m=h.y,f=h.width,v=h.height,y=h.syncWithTicks,x=h.horizontalValues,g=h.verticalValues,b=(o=z.useContext(SU),Jx(o)),j=(l=z.useContext(kU),NU(l,function(e){return Az(e.domain,Number.isFinite)})||Jx(l));if(!Hx(f)||f<=0||!Hx(v)||v<=0||!Hx(p)||p!==+p||!Hx(m)||m!==+m)return null;var N=h.verticalCoordinatesGenerator||sV,w=h.horizontalCoordinatesGenerator||iV,S=h.horizontalPoints,k=h.verticalPoints;if((!S||!S.length)&&wv(w)){var O=x&&x.length,C=w({yAxis:j?Qq(Qq({},j),{},{ticks:O?x:j.ticks}):void 0,width:c,height:u,offset:d},!!O||y);Ig(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Hq(C),"]")),Array.isArray(C)&&(S=C)}if((!k||!k.length)&&wv(N)){var P=g&&g.length,E=N({xAxis:b?Qq(Qq({},b),{},{ticks:P?g:b.ticks}):void 0,width:c,height:u,offset:d},!!P||y);Ig(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Hq(E),"]")),Array.isArray(E)&&(k=E)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(Zq,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),U.createElement(tV,Yq({},h,{offset:d,horizontalPoints:S,xAxis:b,yAxis:j})),U.createElement(nV,Yq({},h,{offset:d,verticalPoints:k,xAxis:b,yAxis:j})),U.createElement(aV,Yq({},h,{horizontalPoints:S})),U.createElement(rV,Yq({},h,{verticalPoints:k})))}lV.displayName="CartesianGrid";var cV=["type","layout","connectNulls","ref"],uV=["key"];function dV(e){return(dV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hV(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pV(){return pV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pV.apply(this,arguments)}function mV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function fV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mV(Object(n),!0).forEach(function(t){wV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vV(e){return function(e){if(Array.isArray(e))return yV(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yV(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function xV(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,SV(a.key),a)}}function gV(e,t,n){return t=jV(t),function(e,t){if(t&&("object"===dV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bV()?Reflect.construct(t,n||[],jV(e).constructor):t.apply(e,n))}function bV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(bV=function(){return!!e})()}function jV(e){return(jV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NV(e,t){return(NV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wV(e,t,n){return(t=SV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SV(e){var t=function(e,t){if("object"!=dV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=dV(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==dV(t)?t:t+""}var kV=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return wV(t=gV(this,e,[].concat(a)),"state",{isAnimationFinished:!0,totalLength:0}),wV(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),wV(t,"getStrokeDasharray",function(n,a,r){var s=r.reduce(function(e,t){return e+t});if(!s)return t.generateSimpleStrokeDasharray(a,n);for(var i=Math.floor(n/s),o=n%s,l=a-n,c=[],u=0,d=0;u<r.length;d+=r[u],++u)if(d+r[u]>o){c=[].concat(vV(r.slice(0,u)),[o-d]);break}var h=c.length%2==0?[0,l]:[l];return[].concat(vV(e.repeat(r,i)),vV(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),wV(t,"id",Xx("recharts-line-")),wV(t,"pathRef",function(e){t.mainCurve=e}),wV(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),wV(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NV(e,t)}(e,z.PureComponent),t=e,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(vV(e),[0]):e,a=[],r=0;r<t;++r)a=[].concat(vV(a),vV(n));return a}},{key:"renderDotItem",value:function(e,t){var n;if(U.isValidElement(e))n=U.cloneElement(e,t);else if(wv(e))n=e(t);else{var a=t.key,r=hV(t,uV),s=Wf("recharts-line-dot","boolean"!=typeof e?e.className:"");n=U.createElement(OB,pV({key:a},r,{className:s}))}return n}}],(n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.points,r=n.xAxis,s=n.yAxis,i=n.layout,o=gg(n.children,LR);if(!o)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:QR(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return U.createElement(Dg,c,o.map(function(e){return U.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:r,yAxis:s,layout:i,dataPointFormatter:l})}))}},{key:"renderDots",value:function(t,n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,s=r.dot,i=r.points,o=r.dataKey,l=Sg(this.props,!1),c=Sg(s,!0),u=i.map(function(t,n){var a=fV(fV(fV({key:"dot-".concat(n),r:3},l),c),{},{index:n,cx:t.x,cy:t.y,value:t.value,dataKey:o,payload:t.payload,points:i});return e.renderDotItem(s,a)}),d={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(a,")"):null};return U.createElement(Dg,pV({className:"recharts-line-dots",key:"dots"},d),u)}},{key:"renderCurveStatically",value:function(e,t,n,a){var r=this.props,s=r.type,i=r.layout,o=r.connectNulls;r.ref;var l=hV(r,cV),c=fV(fV(fV({},Sg(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},a),{},{type:s,layout:i,connectNulls:o});return U.createElement(PI,pV({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,a=this.props,r=a.points,s=a.strokeDasharray,i=a.isAnimationActive,o=a.animationBegin,l=a.animationDuration,c=a.animationEasing,u=a.animationId,d=a.animateNewValues,h=a.width,p=a.height,m=this.state,f=m.prevPoints,v=m.totalLength;return U.createElement(sB,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var i=a.t;if(f){var o=f.length/r.length,l=r.map(function(e,t){var n=Math.floor(t*o);if(f[n]){var a=f[n],r=Zx(a.x,e.x),s=Zx(a.y,e.y);return fV(fV({},e),{},{x:r(i),y:s(i)})}if(d){var l=Zx(2*h,e.x),c=Zx(p/2,e.y);return fV(fV({},e),{},{x:l(i),y:c(i)})}return fV(fV({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,u=Zx(0,v)(i);if(s){var m="".concat(s).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(u,v,m)}else c=n.generateSimpleStrokeDasharray(v,u);return n.renderCurveStatically(r,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,a=n.points,r=n.isAnimationActive,s=this.state,i=s.prevPoints,o=s.totalLength;return r&&a&&a.length&&(!i&&o>0||!bM(i,a))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(a,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,a=t.dot,r=t.points,s=t.className,i=t.xAxis,o=t.yAxis,l=t.top,c=t.left,u=t.width,d=t.height,h=t.isAnimationActive,p=t.id;if(n||!r||!r.length)return null;var m=this.state.isAnimationFinished,f=1===r.length,v=Wf("recharts-line",s),y=i&&i.allowDataOverflow,x=o&&o.allowDataOverflow,g=y||x,b=fx(p)?this.id:p,j=null!==(e=Sg(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=j.r,w=void 0===N?3:N,S=j.strokeWidth,k=void 0===S?2:S,O=(wg(a)?a:{}).clipDot,C=void 0===O||O,P=2*w+k;return U.createElement(Dg,{className:v},y||x?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(b)},U.createElement("rect",{x:y?c:c-u/2,y:x?l:l-d/2,width:y?u:2*u,height:x?d:2*d})),!C&&U.createElement("clipPath",{id:"clipPath-dots-".concat(b)},U.createElement("rect",{x:c-P/2,y:l-P/2,width:u+P,height:d+P}))):null,!f&&this.renderCurve(g,b),this.renderErrorBar(g,b),(f||a)&&this.renderDots(g,C,b),(!h||m)&&lI.renderCallByParent(this.props,r))}}])&&xV(t.prototype,n),a&&xV(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();wV(kV,"displayName","Line"),wV(kV,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!QO,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),wV(kV,"getComposedData",function(e){var t=e.props,n=e.xAxis,a=e.yAxis,r=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout;return fV({points:l.map(function(e,t){var l=QR(e,i);return"horizontal"===u?{x:pD({axis:n,ticks:r,bandSize:o,entry:e,index:t}),y:fx(l)?null:a.scale(l),value:l,payload:e}:{x:fx(l)?null:n.scale(l),y:pD({axis:a,ticks:s,bandSize:o,entry:e,index:t}),value:l,payload:e}}),layout:u},c)});var OV,CV=["layout","type","stroke","connectNulls","isRange","ref"],PV=["key"];function EV(e){return(EV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _V(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AV(){return AV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},AV.apply(this,arguments)}function TV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function MV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TV(Object(n),!0).forEach(function(t){FV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RV(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$V(a.key),a)}}function DV(e,t,n){return t=LV(t),function(e,t){if(t&&("object"===EV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,IV()?Reflect.construct(t,n||[],LV(e).constructor):t.apply(e,n))}function IV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(IV=function(){return!!e})()}function LV(e){return(LV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BV(e,t){return(BV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function FV(e,t,n){return(t=$V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $V(e){var t=function(e,t){if("object"!=EV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=EV(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==EV(t)?t:t+""}var zV=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return FV(t=DV(this,e,[].concat(a)),"state",{isAnimationFinished:!0}),FV(t,"id",Xx("recharts-area-")),FV(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),wv(e)&&e()}),FV(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),wv(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BV(e,t)}(e,z.PureComponent),t=e,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(n=[{key:"renderDots",value:function(t,n,a){var r=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(r&&!s)return null;var i=this.props,o=i.dot,l=i.points,c=i.dataKey,u=Sg(this.props,!1),d=Sg(o,!0),h=l.map(function(t,n){var a=MV(MV(MV({key:"dot-".concat(n),r:3},u),d),{},{index:n,cx:t.x,cy:t.y,dataKey:c,value:t.value,payload:t.payload,points:l});return e.renderDotItem(o,a)}),p={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(a,")"):null};return U.createElement(Dg,AV({className:"recharts-area-dots"},p),h)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,n=t.baseLine,a=t.points,r=t.strokeWidth,s=a[0].x,i=a[a.length-1].x,o=e*Math.abs(s-i),l=iM(a.map(function(e){return e.y||0}));return Hx(n)&&"number"==typeof n?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(iM(n.map(function(e){return e.y||0})),l)),Hx(l)?U.createElement("rect",{x:s<i?s:s-o,y:0,width:o,height:Math.floor(l+(r?parseInt("".concat(r),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,n=t.baseLine,a=t.points,r=t.strokeWidth,s=a[0].y,i=a[a.length-1].y,o=e*Math.abs(s-i),l=iM(a.map(function(e){return e.x||0}));return Hx(n)&&"number"==typeof n?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(iM(n.map(function(e){return e.x||0})),l)),Hx(l)?U.createElement("rect",{x:0,y:s<i?s:s-o,width:l+(r?parseInt("".concat(r),10):1),height:Math.floor(o)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,n,a){var r=this.props,s=r.layout,i=r.type,o=r.stroke,l=r.connectNulls,c=r.isRange;r.ref;var u=_V(r,CV);return U.createElement(Dg,{clipPath:n?"url(#clipPath-".concat(a,")"):null},U.createElement(PI,AV({},Sg(u,!0),{points:e,connectNulls:l,type:i,baseLine:t,layout:s,stroke:"none",className:"recharts-area-area"})),"none"!==o&&U.createElement(PI,AV({},Sg(this.props,!1),{className:"recharts-area-curve",layout:s,type:i,connectNulls:l,fill:"none",points:e})),"none"!==o&&c&&U.createElement(PI,AV({},Sg(this.props,!1),{className:"recharts-area-curve",layout:s,type:i,connectNulls:l,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var n=this,a=this.props,r=a.points,s=a.baseLine,i=a.isAnimationActive,o=a.animationBegin,l=a.animationDuration,c=a.animationEasing,u=a.animationId,d=this.state,h=d.prevPoints,p=d.prevBaseLine;return U.createElement(sB,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"area-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var i=a.t;if(h){var o,l=h.length/r.length,c=r.map(function(e,t){var n=Math.floor(t*l);if(h[n]){var a=h[n],r=Zx(a.x,e.x),s=Zx(a.y,e.y);return MV(MV({},e),{},{x:r(i),y:s(i)})}return e});return o=Hx(s)&&"number"==typeof s?Zx(p,s)(i):fx(s)||Vx(s)?Zx(p,0)(i):s.map(function(e,t){var n=Math.floor(t*l);if(p[n]){var a=p[n],r=Zx(a.x,e.x),s=Zx(a.y,e.y);return MV(MV({},e),{},{x:r(i),y:s(i)})}return e}),n.renderAreaStatically(c,o,e,t)}return U.createElement(Dg,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(t)},n.renderClipRect(i))),U.createElement(Dg,{clipPath:"url(#animationClipPath-".concat(t,")")},n.renderAreaStatically(r,s,e,t)))})}},{key:"renderArea",value:function(e,t){var n=this.props,a=n.points,r=n.baseLine,s=n.isAnimationActive,i=this.state,o=i.prevPoints,l=i.prevBaseLine,c=i.totalLength;return s&&a&&a.length&&(!o&&c>0||!bM(o,a)||!bM(l,r))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(a,r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,a=t.dot,r=t.points,s=t.className,i=t.top,o=t.left,l=t.xAxis,c=t.yAxis,u=t.width,d=t.height,h=t.isAnimationActive,p=t.id;if(n||!r||!r.length)return null;var m=this.state.isAnimationFinished,f=1===r.length,v=Wf("recharts-area",s),y=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,g=y||x,b=fx(p)?this.id:p,j=null!==(e=Sg(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=j.r,w=void 0===N?3:N,S=j.strokeWidth,k=void 0===S?2:S,O=(wg(a)?a:{}).clipDot,C=void 0===O||O,P=2*w+k;return U.createElement(Dg,{className:v},y||x?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(b)},U.createElement("rect",{x:y?o:o-u/2,y:x?i:i-d/2,width:y?u:2*u,height:x?d:2*d})),!C&&U.createElement("clipPath",{id:"clipPath-dots-".concat(b)},U.createElement("rect",{x:o-P/2,y:i-P/2,width:u+P,height:d+P}))):null,f?null:this.renderArea(g,b),(a||f)&&this.renderDots(g,C,b),(!h||m)&&lI.renderCallByParent(this.props,r))}}])&&RV(t.prototype,n),a&&RV(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function UV(e){return(UV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qV(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,QV(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VV(e,t,n){return t=KV(t),function(e,t){if(t&&("object"===UV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,WV()?Reflect.construct(t,n||[],KV(e).constructor):t.apply(e,n))}function WV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(WV=function(){return!!e})()}function KV(e){return(KV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HV(e,t){return(HV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function GV(e,t,n){return(t=QV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QV(e){var t=function(e,t){if("object"!=UV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=UV(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==UV(t)?t:t+""}function XV(){return XV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},XV.apply(this,arguments)}function YV(e){var t=e.xAxisId,n=RU(),a=DU(),r=TU(t);return null==r?null:z.createElement(Vq,XV({},r,{className:Wf("recharts-".concat(r.axisType," ").concat(r.axisType),r.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(e){return nD(e,!0)}}))}OV=zV,FV(zV,"displayName","Area"),FV(zV,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!QO,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),FV(zV,"getBaseValue",function(e,t,n,a){var r=e.layout,s=e.baseValue,i=t.props.baseValue,o=null!=i?i:s;if(Hx(o)&&"number"==typeof o)return o;var l="horizontal"===r?a:n,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===o?d:"dataMax"===o||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===o?c[0]:"dataMax"===o?c[1]:c[0]}),FV(zV,"getComposedData",function(e){var t,n=e.props,a=e.item,r=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,p=e.offset,m=n.layout,f=u&&u.length,v=OV.getBaseValue(n,a,r,s),y="horizontal"===m,x=!1,g=h.map(function(e,t){var n;f?n=u[d+t]:(n=QR(e,c),Array.isArray(n)?x=!0:n=[v,n]);var a=null==n[1]||f&&null==QR(e,c);return y?{x:pD({axis:r,ticks:i,bandSize:l,entry:e,index:t}),y:a?null:s.scale(n[1]),value:n,payload:e}:{x:a?null:r.scale(n[1]),y:pD({axis:s,ticks:o,bandSize:l,entry:e,index:t}),value:n,payload:e}});return t=f||x?g.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?s.scale(t):null}:{x:null!=t?r.scale(t):null,y:e.y}}):y?s.scale(v):r.scale(v),MV({points:g,baseLine:t,layout:m,isRange:x},p)}),FV(zV,"renderDotItem",function(e,t){var n;if(U.isValidElement(e))n=U.cloneElement(e,t);else if(wv(e))n=e(t);else{var a=Wf("recharts-area-dot","boolean"!=typeof e?e.className:""),r=t.key,s=_V(t,PV);n=U.createElement(OB,AV({},s,{key:r,className:a}))}return n});var JV=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),VV(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HV(e,t)}(e,z.Component),qV(e,[{key:"render",value:function(){return z.createElement(YV,this.props)}}])}();function ZV(e){return(ZV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eW(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,iW(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tW(e,t,n){return t=aW(t),function(e,t){if(t&&("object"===ZV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nW()?Reflect.construct(t,n||[],aW(e).constructor):t.apply(e,n))}function nW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(nW=function(){return!!e})()}function aW(e){return(aW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rW(e,t){return(rW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sW(e,t,n){return(t=iW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iW(e){var t=function(e,t){if("object"!=ZV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=ZV(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==ZV(t)?t:t+""}function oW(){return oW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oW.apply(this,arguments)}GV(JV,"displayName","XAxis"),GV(JV,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var lW=function(e){var t=e.yAxisId,n=RU(),a=DU(),r=MU(t);return null==r?null:z.createElement(Vq,oW({},r,{className:Wf("recharts-".concat(r.axisType," ").concat(r.axisType),r.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(e){return nD(e,!0)}}))},cW=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tW(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rW(e,t)}(e,z.Component),eW(e,[{key:"render",value:function(){return z.createElement(lW,this.props)}}])}();function uW(e){return function(e){if(Array.isArray(e))return dW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dW(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}sW(cW,"displayName","YAxis"),sW(cW,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var hW=function(e,t,n,a,r){var s=gg(e,XU),i=gg(e,lq),o=[].concat(uW(s),uW(i)),l=gg(e,bq),c="".concat(a,"Id"),u=a[0],d=t;if(o.length&&(d=o.reduce(function(e,t){if(t.props[c]===n&&gz(t.props,"extendDomain")&&Hx(t.props[u])){var a=t.props[u];return[Math.min(e[0],a),Math.max(e[1],a)]}return e},d)),l.length){var h="".concat(u,"1"),p="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&gz(t.props,"extendDomain")&&Hx(t.props[h])&&Hx(t.props[p])){var a=t.props[h],r=t.props[p];return[Math.min(e[0],a,r),Math.max(e[1],a,r)]}return e},d)}return r&&r.length&&(d=r.reduce(function(e,t){return Hx(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},pW={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function a(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,a,s,i){if("function"!=typeof a)throw new TypeError("The listener must be a function");var o=new r(a,s||e,i),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new a:delete e._events[t]}function o(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,a,r=[];if(0===this._eventsCount)return r;for(a in e=this._events)t.call(e,a)&&r.push(n?a.slice(1):a);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},o.prototype.listeners=function(e){var t=n?n+e:e,a=this._events[t];if(!a)return[];if(a.fn)return[a.fn];for(var r=0,s=a.length,i=new Array(s);r<s;r++)i[r]=a[r].fn;return i},o.prototype.listenerCount=function(e){var t=n?n+e:e,a=this._events[t];return a?a.fn?1:a.length:0},o.prototype.emit=function(e,t,a,r,s,i){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,a),!0;case 4:return u.fn.call(u.context,t,a,r),!0;case 5:return u.fn.call(u.context,t,a,r,s),!0;case 6:return u.fn.call(u.context,t,a,r,s,i),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,a);break;case 4:u[c].fn.call(u[c].context,t,a,r);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,a,r){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||r&&!o.once||a&&o.context!==a||i(this,s);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||r&&!o[l].once||a&&o[l].context!==a)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:i(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(pW);var mW=new(n(pW.exports)),fW="recharts.syncMouseEvents";function vW(e){return(vW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yW(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,gW(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xW(e,t,n){return(t=gW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=function(e,t){if("object"!=vW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=vW(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==vW(t)?t:t+""}var bW=function(){return yW(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xW(this,"activeIndex",0),xW(this,"coordinateList",[]),xW(this,"layout","horizontal")},[{key:"setDetails",value:function(e){var t,n=e.coordinateList,a=void 0===n?null:n,r=e.container,s=void 0===r?null:r,i=e.layout,o=void 0===i?null:i,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!=a?a:this.coordinateList)&&void 0!==t?t:[],this.container=null!=s?s:this.container,this.layout=null!=o?o:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),a=n.x,r=n.y,s=n.height,i=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=a+i+o,u=r+this.offset.top+s/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])}();function jW(e){var t=e.cx,n=e.cy,a=e.radius,r=e.startAngle,s=e.endAngle;return{points:[AD(t,n,a,r),AD(t,n,a,s)],cx:t,cy:n,radius:a,startAngle:r,endAngle:s}}function NW(e,t,n){var a,r,s,i;if("horizontal"===e)s=a=t.x,r=n.top,i=n.top+n.height;else if("vertical"===e)i=r=t.y,a=n.left,s=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return jW(t);var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=AD(o,l,c,d),p=AD(o,l,u,d);a=h.x,r=h.y,s=p.x,i=p.y}return[{x:a,y:r},{x:s,y:i}]}function wW(e){return(wW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function kW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SW(Object(n),!0).forEach(function(t){OW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OW(e,t,n){var a;return a=function(e,t){if("object"!=wW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=wW(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==wW(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CW(e){var t,n,a,r=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,p=e.chartName,m=null!==(t=r.props.cursor)&&void 0!==t?t:null===(n=r.type.defaultProps)||void 0===n?void 0:n.cursor;if(!r||!m||!i||!o||"ScatterChart"!==p&&"axis"!==s)return null;var f=PI;if("ScatterChart"===p)a=o,f=RB;else if("BarChart"===p)a=function(e,t,n,a){var r=a/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-r:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-r,width:"horizontal"===e?a:n.width-1,height:"horizontal"===e?n.height-1:a}}(h,o,c,d),f=vB;else if("radial"===h){var v=jW(o),y=v.cx,x=v.cy,g=v.radius;a={cx:y,cy:x,startAngle:v.startAngle,endAngle:v.endAngle,innerRadius:g,outerRadius:g},f=yI}else a={points:NW(h,o,c)},f=PI;var b=kW(kW(kW(kW({stroke:"#ccc",pointerEvents:"none"},c),a),Sg(m,!1)),{},{payload:l,payloadIndex:u,className:Wf("recharts-tooltip-cursor",m.className)});return z.isValidElement(m)?z.cloneElement(m,b):z.createElement(f,b)}var PW=["item"],EW=["children","className","width","height","style","compact","title","desc"];function _W(e){return(_W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AW(){return AW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},AW.apply(this,arguments)}function TW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(l=(a=s.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return o}}(e,t)||$W(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MW(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RW(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,WW(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DW(e,t,n){return t=LW(t),function(e,t){if(t&&("object"===_W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,IW()?Reflect.construct(t,n||[],LW(e).constructor):t.apply(e,n))}function IW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(IW=function(){return!!e})()}function LW(e){return(LW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BW(e,t){return(BW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function FW(e){return function(e){if(Array.isArray(e))return zW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$W(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $W(e,t){if(e){if("string"==typeof e)return zW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zW(e,t):void 0}}function zW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function UW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function qW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UW(Object(n),!0).forEach(function(t){VW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VW(e,t,n){return(t=WW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WW(e){var t=function(e,t){if("object"!=_W(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=_W(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_W(t)?t:t+""}var KW={xAxis:["bottom","top"],yAxis:["left","right"]},HW={width:"100%",height:"100%"},GW={x:0,y:0};function QW(e){return e}var XW=function(e,t){var n=t.graphicalItems,a=t.dataStartIndex,r=t.dataEndIndex,s=(null!=n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(FW(e),FW(n)):e},[]);return s.length>0?s:e&&e.length&&Hx(a)&&Hx(r)?e.slice(a,r+1):[]};function YW(e){return"number"===e?[0,"auto"]:void 0}var JW=function(e,t,n,a){var r=e.graphicalItems,s=e.tooltipAxis,i=XW(t,e);return n<0||!r||!r.length||n>=i.length?null:r.reduce(function(r,o){var l,c,u=null!==(l=o.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),s.dataKey&&!s.allowDuplicatedCategory)?c=eg(void 0===u?i:u,s.dataKey,a):c=u&&u[n]||i[n];return c?[].concat(FW(r),[ND(o,c)]):r},[])},ZW=function(e,t,n,a){var r=a||{x:e.chartX,y:e.chartY},s=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(r,n),i=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s=-1,i=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(i<=1)return 0;if(r&&"angleAxis"===r.axisType&&Math.abs(Math.abs(r.range[1]-r.range[0])-360)<=1e-6)for(var o=r.range,l=0;l<i;l++){var c=l>0?a[l-1].coordinate:a[i-1].coordinate,u=a[l].coordinate,d=l>=i-1?a[0].coordinate:a[l+1].coordinate,h=void 0;if(Wx(u-c)!==Wx(d-u)){var p=[];if(Wx(d-u)===Wx(o[1]-o[0])){h=d;var m=u+o[1]-o[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var f=d+o[1]-o[0];p[0]=Math.min(u,(f+u)/2),p[1]=Math.max(u,(f+u)/2)}var v=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){s=a[l].index;break}}else{var y=Math.min(c,d),x=Math.max(c,d);if(e>(y+u)/2&&e<=(x+u)/2){s=a[l].index;break}}}else for(var g=0;g<i;g++)if(0===g&&e<=(n[g].coordinate+n[g+1].coordinate)/2||g>0&&g<i-1&&e>(n[g].coordinate+n[g-1].coordinate)/2&&e<=(n[g].coordinate+n[g+1].coordinate)/2||g===i-1&&e>(n[g].coordinate+n[g-1].coordinate)/2){s=n[g].index;break}return s}(s,i,l,o);if(c>=0&&l){var u=l[c]&&l[c].value,d=JW(e,t,c,u),h=function(e,t,n,a){var r=t.find(function(e){return e&&e.index===n});if(r){if("horizontal"===e)return{x:r.coordinate,y:a.y};if("vertical"===e)return{x:a.x,y:r.coordinate};if("centric"===e){var s=r.coordinate,i=a.radius;return qW(qW(qW({},a),AD(a.cx,a.cy,i,s)),{},{angle:s,radius:i})}var o=r.coordinate,l=a.angle;return qW(qW(qW({},a),AD(a.cx,a.cy,o,l)),{},{angle:l,radius:o})}return GW}(n,i,c,r);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},eK=function(e,t){var n=t.axes,a=t.graphicalItems,r=t.axisType,s=t.axisIdKey,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=eD(c,r);return n.reduce(function(t,n){var p,m=void 0!==n.type.defaultProps?qW(qW({},n.type.defaultProps),n.props):n.props,f=m.type,v=m.dataKey,y=m.allowDataOverflow,x=m.allowDuplicatedCategory,g=m.scale,b=m.ticks,j=m.includeHidden,N=m[s];if(t[N])return t;var w,S,k,O=XW(e.data,{graphicalItems:a.filter(function(e){var t;return(s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s])===N}),dataStartIndex:o,dataEndIndex:l}),C=O.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var a=null==e?void 0:e[0],r=null==e?void 0:e[1];if(a&&r&&Hx(a)&&Hx(r))return!0}return!1})(m.domain,y,f)&&(w=gD(m.domain,null,y),!h||"number"!==f&&"auto"===g||(k=XR(O,v,"category")));var P=YW(f);if(!w||0===w.length){var E,_=null!==(E=m.domain)&&void 0!==E?E:P;if(v){if(w=XR(O,v,f),"category"===f&&h){var A=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},a=0;a<t;a++){if(n[e[a]])return!0;n[e[a]]=!0}return!1}(w);x&&A?(S=w,w=H$(0,C)):x||(w=jD(_,w,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(FW(e),[t])},[]))}else if("category"===f)w=x?w.filter(function(e){return""!==e&&!fx(e)}):jD(_,w,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||fx(t)?e:[].concat(FW(e),[t])},[]);else if("number"===f){var T=function(e,t,n,a,r){var s=t.map(function(t){return JR(e,t,n,r,a)}).filter(function(e){return!fx(e)});return s&&s.length?s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(O,a.filter(function(e){var t,n,a=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],r="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return a===N&&(j||!r)}),v,r,c);T&&(w=T)}!h||"number"!==f&&"auto"===g||(k=XR(O,v,"category"))}else w=h?H$(0,C):i&&i[N]&&i[N].hasStack&&"number"===f?"expand"===d?[0,1]:vD(i[N].stackGroups,o,l):ZR(O,a.filter(function(e){var t=s in e.props?e.props[s]:e.type.defaultProps[s],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===N&&(j||!n)}),f,c,!0);if("number"===f)w=hW(u,w,N,r,b),_&&(w=gD(_,w,y));else if("category"===f&&_){var M=_;w.every(function(e){return M.indexOf(e)>=0})&&(w=M)}}return qW(qW({},t),{},VW({},N,qW(qW({},m),{},{axisType:r,domain:w,categoricalDomain:k,duplicateDomain:S,originalDomain:null!==(p=m.domain)&&void 0!==p?p:P,isCategorical:h,layout:c})))},{})},tK=function(e,t){var n=t.axisType,a=void 0===n?"xAxis":n,r=t.AxisComp,s=t.graphicalItems,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(a,"Id"),d=gg(c,r),h={};return d&&d.length?h=eK(e,{axes:d,graphicalItems:s,axisType:a,axisIdKey:u,stackGroups:i,dataStartIndex:o,dataEndIndex:l}):s&&s.length&&(h=function(e,t){var n=t.graphicalItems,a=t.Axis,r=t.axisType,s=t.axisIdKey,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=XW(e.data,{graphicalItems:n,dataStartIndex:o,dataEndIndex:l}),h=d.length,p=eD(c,r),m=-1;return n.reduce(function(e,t){var f,v=(void 0!==t.type.defaultProps?qW(qW({},t.type.defaultProps),t.props):t.props)[s],y=YW("number");return e[v]?e:(m++,p?f=H$(0,h):i&&i[v]&&i[v].hasStack?(f=vD(i[v].stackGroups,o,l),f=hW(u,f,v,r)):(f=gD(y,ZR(d,n.filter(function(e){var t,n,a=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],r="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return a===v&&!r}),"number",c),a.defaultProps.allowDataOverflow),f=hW(u,f,v,r)),qW(qW({},e),{},VW({},v,qW(qW({axisType:r},a.defaultProps),{},{hide:!0,orientation:mx(KW,"".concat(r,".").concat(m%2),null),domain:f,originalDomain:y,isCategorical:p,layout:c}))))},{})}(e,{Axis:r,graphicalItems:s,axisType:a,axisIdKey:u,stackGroups:i,dataStartIndex:o,dataEndIndex:l})),h},nK=function(e){var t=e.children,n=e.defaultShowTooltip,a=bg(t,dz),r=0,s=0;return e.data&&0!==e.data.length&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(r=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:r,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},aK=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rK=function(e,t){var n=e.props,a=(e.graphicalItems,e.xAxisMap),r=void 0===a?{}:a,s=e.yAxisMap,i=void 0===s?{}:s,o=n.width,l=n.height,c=n.children,u=n.margin||{},d=bg(c,dz),h=bg(c,Ck),p=Object.keys(i).reduce(function(e,t){var n=i[t],a=n.orientation;return n.mirror||n.hide?e:qW(qW({},e),{},VW({},a,e[a]+n.width))},{left:u.left||0,right:u.right||0}),m=Object.keys(r).reduce(function(e,t){var n=r[t],a=n.orientation;return n.mirror||n.hide?e:qW(qW({},e),{},VW({},a,mx(e,"".concat(a))+n.height))},{top:u.top||0,bottom:u.bottom||0}),f=qW(qW({},m),p),v=f.bottom;d&&(f.bottom+=d.props.height||dz.defaultProps.height),h&&t&&(f=function(e,t,n,a){var r=n.children,s=n.width,i=n.margin,o=s-(i.left||0)-(i.right||0),l=UR({children:r,legendWidth:o});if(l){var c=a||{},u=c.width,d=c.height,h=l.align,p=l.verticalAlign,m=l.layout;if(("vertical"===m||"horizontal"===m&&"middle"===p)&&"center"!==h&&Hx(e[h]))return HR(HR({},e),{},GR({},h,e[h]+(u||0)));if(("horizontal"===m||"vertical"===m&&"center"===h)&&"middle"!==p&&Hx(e[p]))return HR(HR({},e),{},GR({},p,e[p]+(d||0)))}return e}(f,0,n,t));var y=o-f.left-f.right,x=l-f.top-f.bottom;return qW(qW({brushBottom:v},f),{},{width:Math.max(y,0),height:Math.max(x,0)})},sK=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},iK=function(e){var t=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,r=void 0===a?"axis":a,s=e.validateTooltipEventTypes,i=void 0===s?["axis"]:s,o=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,u=e.defaultProps,d=function(e,t){var n=t.graphicalItems,a=t.stackGroups,r=t.offset,s=t.updateId,i=t.dataStartIndex,l=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,p=e.maxBarSize,m=aK(u),f=m.numericAxisName,v=m.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=fg(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),x=[];return n.forEach(function(n,m){var g=XW(e.data,{graphicalItems:[n],dataStartIndex:i,dataEndIndex:l}),b=void 0!==n.type.defaultProps?qW(qW({},n.type.defaultProps),n.props):n.props,j=b.dataKey,N=b.maxBarSize,w=b["".concat(f,"Id")],S=b["".concat(v,"Id")],k=o.reduce(function(e,n){var a=t["".concat(n.axisType,"Map")],r=b["".concat(n.axisType,"Id")];a&&a[r]||"zAxis"===n.axisType||wR();var s=a[r];return qW(qW({},e),{},VW(VW({},n.axisType,s),"".concat(n.axisType,"Ticks"),nD(s)))},{}),O=k[v],C=k["".concat(v,"Ticks")],P=a&&a[w]&&a[w].hasStack&&function(e,t){var n,a=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?HR(HR({},e.type.defaultProps),e.props):e.props).stackId;if(Gx(a)){var r=t[a];if(r){var s=r.items.indexOf(e);return s>=0?r.stackedData[s]:null}}return null}(n,a[w].stackGroups),E=fg(n.type).indexOf("Bar")>=0,_=bD(O,C),A=[],T=y&&function(e){var t=e.barSize,n=e.totalSize,a=e.stackGroups,r=void 0===a?{}:a;if(!r)return{};for(var s={},i=Object.keys(r),o=0,l=i.length;o<l;o++)for(var c=r[i[o]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var p=c[u[d]],m=p.items,f=p.cateAxisId,v=m.filter(function(e){return fg(e.type).indexOf("Bar")>=0});if(v&&v.length){var y=v[0].type.defaultProps,x=void 0!==y?HR(HR({},y),v[0].props):v[0].props,g=x.barSize,b=x[f];s[b]||(s[b]=[]);var j=fx(g)?t:g;s[b].push({item:v[0],stackList:v.slice(1),barSize:fx(j)?void 0:Yx(j,n,0)})}}return s}({barSize:c,stackGroups:a,totalSize:sK(k,v)});if(E){var M,R,D=fx(N)?p:N,I=null!==(M=null!==(R=bD(O,C,!0))&&void 0!==R?R:D)&&void 0!==M?M:0;A=function(e){var t=e.barGap,n=e.barCategoryGap,a=e.bandSize,r=e.sizeList,s=void 0===r?[]:r,i=e.maxBarSize,o=s.length;if(o<1)return null;var l,c=Yx(t,a,0,!0),u=[];if(s[0].barSize===+s[0].barSize){var d=!1,h=a/o,p=s.reduce(function(e,t){return e+t.barSize||0},0);(p+=(o-1)*c)>=a&&(p-=(o-1)*c,c=0),p>=a&&h>0&&(d=!0,p=o*(h*=.9));var m={offset:((a-p)/2|0)-c,size:0};l=s.reduce(function(e,t){var n={item:t.item,position:{offset:m.offset+m.size+c,size:d?h:t.barSize}},a=[].concat(VR(e),[n]);return m=a[a.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){a.push({item:e,position:m})}),a},u)}else{var f=Yx(n,a,0,!0);a-2*f-(o-1)*c<=0&&(c=0);var v=(a-2*f-(o-1)*c)/o;v>1&&(v>>=0);var y=i===+i?Math.min(v,i):v;l=s.reduce(function(e,t,n){var a=[].concat(VR(e),[{item:t.item,position:{offset:f+(v+c)*n+(v-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){a.push({item:e,position:a[a.length-1].position})}),a},u)}return l}({barGap:d,barCategoryGap:h,bandSize:I!==_?I:_,sizeList:T[S],maxBarSize:D}),I!==_&&(A=A.map(function(e){return qW(qW({},e),{},{position:qW(qW({},e.position),{},{offset:e.position.offset-I/2})})}))}var L,B,F=n&&n.type&&n.type.getComposedData;F&&x.push({props:qW(qW({},F(qW(qW({},k),{},{displayedData:g,props:e,dataKey:j,item:n,bandSize:_,barPosition:A,offset:r,stackedData:P,layout:u,dataStartIndex:i,dataEndIndex:l}))),{},VW(VW(VW({key:n.key||"item-".concat(m)},f,k[f]),v,k[v]),"animationId",s)),childIndex:(L=n,B=e.children,xg(B).indexOf(L)),item:n})}),x},h=function(e,a){var r=e.props,s=e.dataStartIndex,i=e.dataEndIndex,l=e.updateId;if(!jg({props:r}))return null;var u=r.children,h=r.layout,p=r.stackOffset,m=r.data,f=r.reverseStackOrder,v=aK(h),y=v.numericAxisName,x=v.cateAxisName,g=gg(u,n),b=function(e,t,n,a,r,s){if(!e)return null;var i=(s?t.reverse():t).reduce(function(e,t){var r,s=null!==(r=t.type)&&void 0!==r&&r.defaultProps?HR(HR({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(s.hide)return e;var o=s[n],l=e[o]||{hasStack:!1,stackGroups:{}};if(Gx(i)){var c=l.stackGroups[i]||{numericAxisId:n,cateAxisId:a,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[i]=c}else l.stackGroups[Xx("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[t]};return HR(HR({},e),{},GR({},o,l))},{});return Object.keys(i).reduce(function(t,s){var o=i[s];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce(function(t,s){var i=o.stackGroups[s];return HR(HR({},t),{},GR({},s,{numericAxisId:n,cateAxisId:a,items:i.items,stackedData:dD(e,i.items,r)}))},{})),HR(HR({},t),{},GR({},s,o))},{})}(m,g,"".concat(y,"Id"),"".concat(x,"Id"),p,f),j=o.reduce(function(e,t){var n="".concat(t.axisType,"Map");return qW(qW({},e),{},VW({},n,tK(r,qW(qW({},t),{},{graphicalItems:g,stackGroups:t.axisType===y&&b,dataStartIndex:s,dataEndIndex:i}))))},{}),N=rK(qW(qW({},j),{},{props:r,graphicalItems:g}),null==a?void 0:a.legendBBox);Object.keys(j).forEach(function(e){j[e]=c(r,j[e],N,e.replace("Map",""),t)});var w,S,k=j["".concat(x,"Map")],O=(w=Jx(k),{tooltipTicks:S=nD(w,!1,!0),orderedTooltipTicks:NO(S,function(e){return e.coordinate}),tooltipAxis:w,tooltipAxisBandSize:bD(w,S)}),C=d(r,qW(qW({},j),{},{dataStartIndex:s,dataEndIndex:i,updateId:l,graphicalItems:g,stackGroups:b,offset:N}));return qW(qW({formattedGraphicalItems:C,graphicalItems:g,offset:N,stackGroups:b},O),j)},p=function(){function e(n){var a,r,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),VW(s=DW(this,e,[n]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),VW(s,"accessibilityManager",new bW),VW(s,"handleLegendBBoxUpdate",function(e){if(e){var t=s.state,n=t.dataStartIndex,a=t.dataEndIndex,r=t.updateId;s.setState(qW({legendBBox:e},h({props:s.props,dataStartIndex:n,dataEndIndex:a,updateId:r},qW(qW({},s.state),{},{legendBBox:e}))))}}),VW(s,"handleReceiveSyncEvent",function(e,t,n){if(s.props.syncId===e){if(n===s.eventEmitterSymbol&&"function"!=typeof s.props.syncMethod)return;s.applySyncEvent(t)}}),VW(s,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==s.state.dataStartIndex||n!==s.state.dataEndIndex){var a=s.state.updateId;s.setState(function(){return qW({dataStartIndex:t,dataEndIndex:n},h({props:s.props,dataStartIndex:t,dataEndIndex:n,updateId:a},s.state))}),s.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),VW(s,"handleMouseEnter",function(e){var t=s.getMouseInfo(e);if(t){var n=qW(qW({},t),{},{isTooltipActive:!0});s.setState(n),s.triggerSyncEvent(n);var a=s.props.onMouseEnter;wv(a)&&a(n,e)}}),VW(s,"triggeredAfterMouseMove",function(e){var t=s.getMouseInfo(e),n=t?qW(qW({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};s.setState(n),s.triggerSyncEvent(n);var a=s.props.onMouseMove;wv(a)&&a(n,e)}),VW(s,"handleItemMouseEnter",function(e){s.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),VW(s,"handleItemMouseLeave",function(){s.setState(function(){return{isTooltipActive:!1}})}),VW(s,"handleMouseMove",function(e){e.persist(),s.throttleTriggeredAfterMouseMove(e)}),VW(s,"handleMouseLeave",function(e){s.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};s.setState(t),s.triggerSyncEvent(t);var n=s.props.onMouseLeave;wv(n)&&n(t,e)}),VW(s,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&mg[t]?mg[t]:null}(e),a=mx(s.props,"".concat(n));n&&wv(a)&&a(null!==(t=/.*touch.*/i.test(n)?s.getMouseInfo(e.changedTouches[0]):s.getMouseInfo(e))&&void 0!==t?t:{},e)}),VW(s,"handleClick",function(e){var t=s.getMouseInfo(e);if(t){var n=qW(qW({},t),{},{isTooltipActive:!0});s.setState(n),s.triggerSyncEvent(n);var a=s.props.onClick;wv(a)&&a(n,e)}}),VW(s,"handleMouseDown",function(e){var t=s.props.onMouseDown;wv(t)&&t(s.getMouseInfo(e),e)}),VW(s,"handleMouseUp",function(e){var t=s.props.onMouseUp;wv(t)&&t(s.getMouseInfo(e),e)}),VW(s,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),VW(s,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleMouseDown(e.changedTouches[0])}),VW(s,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleMouseUp(e.changedTouches[0])}),VW(s,"handleDoubleClick",function(e){var t=s.props.onDoubleClick;wv(t)&&t(s.getMouseInfo(e),e)}),VW(s,"handleContextMenu",function(e){var t=s.props.onContextMenu;wv(t)&&t(s.getMouseInfo(e),e)}),VW(s,"triggerSyncEvent",function(e){void 0!==s.props.syncId&&mW.emit(fW,s.props.syncId,e,s.eventEmitterSymbol)}),VW(s,"applySyncEvent",function(e){var t=s.props,n=t.layout,a=t.syncMethod,r=s.state.updateId,i=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)s.setState(qW({dataStartIndex:i,dataEndIndex:o},h({props:s.props,dataStartIndex:i,dataEndIndex:o,updateId:r},s.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=s.state,p=d.offset,m=d.tooltipTicks;if(!p)return;if("function"==typeof a)u=a(m,e);else if("value"===a){u=-1;for(var f=0;f<m.length;f++)if(m[f].value===e.activeLabel){u=f;break}}var v=qW(qW({},p),{},{x:p.left,y:p.top}),y=Math.min(l,v.x+v.width),x=Math.min(c,v.y+v.height),g=m[u]&&m[u].value,b=JW(s.state,s.props.data,u),j=m[u]?{x:"horizontal"===n?m[u].coordinate:y,y:"horizontal"===n?x:m[u].coordinate}:GW;s.setState(qW(qW({},e),{},{activeLabel:g,activeCoordinate:j,activePayload:b,activeTooltipIndex:u}))}else s.setState(e)}),VW(s,"renderCursor",function(e){var n,a=s.state,r=a.isTooltipActive,i=a.activeCoordinate,o=a.activePayload,l=a.offset,c=a.activeTooltipIndex,u=a.tooltipAxisBandSize,d=s.getTooltipEventType(),h=null!==(n=e.props.active)&&void 0!==n?n:r,p=s.props.layout,m=e.key||"_recharts-cursor";return U.createElement(CW,{key:m,activeCoordinate:i,activePayload:o,activeTooltipIndex:c,chartName:t,element:e,isActive:h,layout:p,offset:l,tooltipAxisBandSize:u,tooltipEventType:d})}),VW(s,"renderPolarAxis",function(e,t,n){var a=mx(e,"type.axisType"),r=mx(s.state,"".concat(a,"Map")),i=e.type.defaultProps,o=void 0!==i?qW(qW({},i),e.props):e.props,l=r&&r[o["".concat(a,"Id")]];return z.cloneElement(e,qW(qW({},l),{},{className:Wf(a,l.className),key:e.key||"".concat(t,"-").concat(n),ticks:nD(l,!0)}))}),VW(s,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,a=t.polarAngles,r=t.polarRadius,i=s.state,o=i.radiusAxisMap,l=i.angleAxisMap,c=Jx(o),u=Jx(l),d=u.cx,h=u.cy,p=u.innerRadius,m=u.outerRadius;return z.cloneElement(e,{polarAngles:Array.isArray(a)?a:nD(u,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(r)?r:nD(c,!0).map(function(e){return e.coordinate}),cx:d,cy:h,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})}),VW(s,"renderLegend",function(){var e=s.state.formattedGraphicalItems,t=s.props,n=t.children,a=t.width,r=t.height,i=s.props.margin||{},o=a-(i.left||0)-(i.right||0),c=UR({children:n,formattedGraphicalItems:e,legendWidth:o,legendContent:l});if(!c)return null;var u=c.item,d=MW(c,PW);return z.cloneElement(u,qW(qW({},d),{},{chartWidth:a,chartHeight:r,margin:i,onBBoxUpdate:s.handleLegendBBoxUpdate}))}),VW(s,"renderTooltip",function(){var e,t=s.props,n=t.children,a=t.accessibilityLayer,r=bg(n,oC);if(!r)return null;var i=s.state,o=i.isTooltipActive,l=i.activeCoordinate,c=i.activePayload,u=i.activeLabel,d=i.offset,h=null!==(e=r.props.active)&&void 0!==e?e:o;return z.cloneElement(r,{viewBox:qW(qW({},d),{},{x:d.left,y:d.top}),active:h,label:u,payload:h?c:[],coordinate:l,accessibilityLayer:a})}),VW(s,"renderBrush",function(e){var t=s.props,n=t.margin,a=t.data,r=s.state,i=r.offset,o=r.dataStartIndex,l=r.dataEndIndex,c=r.updateId;return z.cloneElement(e,{key:e.key||"_recharts-brush",onChange:rD(s.handleBrushChange,e.props.onChange),data:a,x:Hx(e.props.x)?e.props.x:i.left,y:Hx(e.props.y)?e.props.y:i.top+i.height+i.brushBottom-(n.bottom||0),width:Hx(e.props.width)?e.props.width:i.width,startIndex:o,endIndex:l,updateId:"brush-".concat(c)})}),VW(s,"renderReferenceElement",function(e,t,n){if(!e)return null;var a=s.clipPathId,r=s.state,i=r.xAxisMap,o=r.yAxisMap,l=r.offset,c=e.type.defaultProps||{},u=e.props,d=u.xAxisId,h=void 0===d?c.xAxisId:d,p=u.yAxisId,m=void 0===p?c.yAxisId:p;return z.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:i[h],yAxis:o[m],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:a})}),VW(s,"renderActivePoints",function(t){var n=t.item,a=t.activePoint,r=t.basePoint,s=t.childIndex,i=t.isRange,o=[],l=n.props.key,c=void 0!==n.item.type.defaultProps?qW(qW({},n.item.type.defaultProps),n.item.props):n.item.props,u=c.activeDot,d=qW(qW({index:s,dataKey:c.dataKey,cx:a.x,cy:a.y,r:4,fill:YR(n.item),strokeWidth:2,stroke:"#fff",payload:a.payload,value:a.value},Sg(u,!1)),lg(u));return o.push(e.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(s))),r?o.push(e.renderActiveDot(u,qW(qW({},d),{},{cx:r.x,cy:r.y}),"".concat(l,"-basePoint-").concat(s))):i&&o.push(null),o}),VW(s,"renderGraphicChild",function(e,t,n){var a=s.filterFormatItem(e,t,n);if(!a)return null;var r=s.getTooltipEventType(),i=s.state,o=i.isTooltipActive,l=i.tooltipAxis,c=i.activeTooltipIndex,u=i.activeLabel,d=bg(s.props.children,oC),h=a.props,p=h.points,m=h.isRange,f=h.baseLine,v=void 0!==a.item.type.defaultProps?qW(qW({},a.item.type.defaultProps),a.item.props):a.item.props,y=v.activeDot,x=v.hide,g=v.activeBar,b=v.activeShape,j=Boolean(!x&&o&&d&&(y||g||b)),N={};"axis"!==r&&d&&"click"===d.props.trigger?N={onClick:rD(s.handleItemMouseEnter,e.props.onClick)}:"axis"!==r&&(N={onMouseLeave:rD(s.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:rD(s.handleItemMouseEnter,e.props.onMouseEnter)});var w=z.cloneElement(e,qW(qW({},a.props),N));if(j){if(!(c>=0)){var S,k=(null!==(S=s.getItemByXY(s.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:w}).graphicalItem,O=k.item,C=void 0===O?e:O,P=k.childIndex,E=qW(qW(qW({},a.props),N),{},{activeIndex:P});return[z.cloneElement(C,E),null,null]}var _,A;if(l.dataKey&&!l.allowDuplicatedCategory){var T="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());_=eg(p,T,u),A=m&&f&&eg(f,T,u)}else _=null==p?void 0:p[c],A=m&&f&&f[c];if(b||g){var M=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[z.cloneElement(e,qW(qW(qW({},a.props),N),{},{activeIndex:M})),null,null]}if(!fx(_))return[w].concat(FW(s.renderActivePoints({item:a,activePoint:_,basePoint:A,childIndex:c,isRange:m})))}return m?[w,null,null]:[w,null]}),VW(s,"renderCustomized",function(e,t,n){return z.cloneElement(e,qW(qW({key:"recharts-customized-".concat(n)},s.props),s.state))}),VW(s,"renderMap",{CartesianGrid:{handler:QW,once:!0},ReferenceArea:{handler:s.renderReferenceElement},ReferenceLine:{handler:QW},ReferenceDot:{handler:s.renderReferenceElement},XAxis:{handler:QW},YAxis:{handler:QW},Brush:{handler:s.renderBrush,once:!0},Bar:{handler:s.renderGraphicChild},Line:{handler:s.renderGraphicChild},Area:{handler:s.renderGraphicChild},Radar:{handler:s.renderGraphicChild},RadialBar:{handler:s.renderGraphicChild},Scatter:{handler:s.renderGraphicChild},Pie:{handler:s.renderGraphicChild},Funnel:{handler:s.renderGraphicChild},Tooltip:{handler:s.renderCursor,once:!0},PolarGrid:{handler:s.renderPolarGrid,once:!0},PolarAngleAxis:{handler:s.renderPolarAxis},PolarRadiusAxis:{handler:s.renderPolarAxis},Customized:{handler:s.renderCustomized}}),s.clipPathId="".concat(null!==(a=n.id)&&void 0!==a?a:Xx("recharts"),"-clip"),s.throttleTriggeredAfterMouseMove=CC(s.triggeredAfterMouseMove,null!==(r=n.throttleDelay)&&void 0!==r?r:1e3/60),s.state={},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BW(e,t)}(e,z.Component),RW(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,a=e.height,r=e.layout,s=bg(t,oC);if(s){var i=s.props.defaultIndex;if(!("number"!=typeof i||i<0||i>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[i]&&this.state.tooltipTicks[i].value,l=JW(this.state,n,i,o),c=this.state.tooltipTicks[i].coordinate,u=(this.state.offset.top+a)/2,d="horizontal"===r?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=qW(qW({},d),h.props.points[i].tooltipPosition),l=h.props.points[i].tooltipPayload);var p={activeTooltipIndex:i,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:d};this.setState(p),this.renderCursor(s),this.accessibilityManager.setIndex(i)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var n,a;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(a=this.props.margin.top)&&void 0!==a?a:0}});return null}},{key:"componentDidUpdate",value:function(e){kg([bg(e.children,oC)],[bg(this.props.children,oC)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=bg(this.props.children,oC);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return i.indexOf(t)>=0?t:r}return r}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,a=n.getBoundingClientRect(),r={top:(t=a).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},s={chartX:Math.round(e.pageX-r.left),chartY:Math.round(e.pageY-r.top)},i=a.width/n.offsetWidth||1,o=this.inRange(s.chartX,s.chartY,i);if(!o)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=ZW(this.state,this.props.data,this.props.layout,o);if("axis"!==d&&c&&u){var p=Jx(c).scale,m=Jx(u).scale,f=p&&p.invert?p.invert(s.chartX):null,v=m&&m.invert?m.invert(s.chartY):null;return qW(qW({},s),{},{xValue:f,yValue:v},h)}return h?qW(qW({},s),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=this.props.layout,r=e/n,s=t/n;if("horizontal"===a||"vertical"===a){var i=this.state.offset;return r>=i.left&&r<=i.left+i.width&&s>=i.top&&s<=i.top+i.height?{x:r,y:s}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var u=Jx(l);return ID({x:r,y:s},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=bg(e,oC),a={};return n&&"axis"===t&&(a="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),qW(qW({},lg(this.props,this.handleOuterEvent)),a)}},{key:"addListener",value:function(){mW.on(fW,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mW.removeListener(fW,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var a=this.state.formattedGraphicalItems,r=0,s=a.length;r<s;r++){var i=a[r];if(i.item===e||i.props.key===e.key||t===fg(i.item.type)&&n===i.childIndex)return i}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,a=t.top,r=t.height,s=t.width;return U.createElement("defs",null,U.createElement("clipPath",{id:e},U.createElement("rect",{x:n,y:a,height:r,width:s})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=TW(t,2),a=n[0],r=n[1];return qW(qW({},e),{},VW({},a,r.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=TW(t,2),a=n[0],r=n[1];return qW(qW({},e),{},VW({},a,r.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,a=t.activeItem;if(n&&n.length)for(var r=0,s=n.length;r<s;r++){var i=n[r],o=i.props,l=i.item,c=void 0!==l.type.defaultProps?qW(qW({},l.type.defaultProps),l.props):l.props,u=fg(l.type);if("Bar"===u){var d=(o.data||[]).find(function(t){return mB(e,t)});if(d)return{graphicalItem:i,payload:d}}else if("RadialBar"===u){var h=(o.data||[]).find(function(t){return ID(e,t)});if(h)return{graphicalItem:i,payload:h}}else if(YF(i,a)||JF(i,a)||ZF(i,a)){var p=a$({graphicalItem:i,activeTooltipItem:a,itemData:c.data}),m=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:qW(qW({},i),{},{childIndex:m}),payload:ZF(i,a)?c.data[p]:i.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!jg(this))return null;var t,n,a=this.props,r=a.children,s=a.className,i=a.width,o=a.height,l=a.style,c=a.compact,u=a.title,d=a.desc,h=MW(a,EW),p=Sg(h,!1);if(c)return U.createElement(AU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(Ag,AW({},p,{width:i,height:o,title:u,desc:d}),this.renderClipPath(),Cg(r,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return U.createElement(AU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",AW({className:Wf("recharts-wrapper",s),style:qW({position:"relative",cursor:"default",width:i,height:o},l)},m,{ref:function(t){e.container=t}}),U.createElement(Ag,AW({},p,{width:i,height:o,title:u,desc:d,style:HW}),this.renderClipPath(),Cg(r,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();VW(p,"displayName",t),VW(p,"defaultProps",qW({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),VW(p,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,a=e.data,r=e.children,s=e.width,i=e.height,o=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var p=nK(e);return qW(qW(qW({},p),{},{updateId:0},h(qW(qW({props:e},p),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:a,prevWidth:s,prevHeight:i,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:r})}if(n!==t.prevDataKey||a!==t.prevData||s!==t.prevWidth||i!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!ng(c,t.prevMargin)){var m=nK(e),f={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},v=qW(qW({},ZW(t,a,o)),{},{updateId:t.updateId+1}),y=qW(qW(qW({},m),f),v);return qW(qW(qW({},y),h(qW({props:e},y),t)),{},{prevDataKey:n,prevData:a,prevWidth:s,prevHeight:i,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:r})}if(!kg(r,t.prevChildren)){var x,g,b,j,N=bg(r,dz),w=N&&null!==(x=null===(g=N.props)||void 0===g?void 0:g.startIndex)&&void 0!==x?x:u,S=N&&null!==(b=null===(j=N.props)||void 0===j?void 0:j.endIndex)&&void 0!==b?b:d,k=w!==u||S!==d,O=!fx(a)&&!k?t.updateId:t.updateId+1;return qW(qW({updateId:O},h(qW(qW({props:e},t),{},{updateId:O,dataStartIndex:w,dataEndIndex:S}),t)),{},{prevChildren:r,dataStartIndex:w,dataEndIndex:S})}return null}),VW(p,"renderActiveDot",function(e,t,n){var a;return a=z.isValidElement(e)?z.cloneElement(e,t):wv(e)?e(t):U.createElement(OB,t),U.createElement(Dg,{className:"recharts-active-dot",key:n},a)});var m=z.forwardRef(function(e,t){return U.createElement(p,AW({},e,{ref:t}))});return m.displayName=p.displayName,m},oK=iK({chartName:"LineChart",GraphicalChild:kV,axisComponents:[{axisType:"xAxis",AxisComp:JV},{axisType:"yAxis",AxisComp:cW}],formatAxisMap:cU}),lK=iK({chartName:"BarChart",GraphicalChild:nU,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:JV},{axisType:"yAxis",AxisComp:cW}],formatAxisMap:cU}),cK=iK({chartName:"PieChart",GraphicalChild:f$,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:yF},{axisType:"radiusAxis",AxisComp:aF}],formatAxisMap:MD,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),uK=iK({chartName:"AreaChart",GraphicalChild:zV,axisComponents:[{axisType:"xAxis",AxisComp:JV},{axisType:"yAxis",AxisComp:cW}],formatAxisMap:cU}),dK=iK({chartName:"RadialBarChart",GraphicalChild:B$,legendContent:"children",defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"angleAxis",AxisComp:yF},{axisType:"radiusAxis",AxisComp:aF}],formatAxisMap:MD,defaultProps:{layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function hK(){var e,t,n,a,r,s,i,o,l,c,u;const d=nh(),{user:h}=_f(),[p,m]=z.useState(!0),[f,v]=z.useState(!1),[y,x]=z.useState([]),[g,b]=z.useState("30"),[j,N]=z.useState({accounts:0,totalRevenue:0,totalOrders:0,totalProducts:0,activeProducts:0,pausedProducts:0,lowStock:0,pendingQuestions:0,pendingShipments:0,openClaims:0,conversionRate:0,totalVisits:0,avgTicket:0,margin:0}),[w,S]=z.useState([]),[k,O]=z.useState([]),[C,P]=z.useState([]),[E,_]=z.useState([]),[A,T]=z.useState([]),[M,R]=z.useState(null),[D,I]=z.useState([]),L=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4"];z.useEffect(()=>{B()},[g]);const B=async()=>{var e,t,n,a,r;try{m(!0);const i=await Ef.get("/ml-accounts"),o=(null==(e=i.data.data)?void 0:e.accounts)||i.data.data||[],l=Array.isArray(o)?o:[];if(x(l),0===l.length)return void m(!1);let c=0,u=0,d=0,h=0,p=0,f=0,v=0,y=0,b=0,j=0,w=[],k=[],C=[],E=[],A={},M=null;for(const e of l)try{const s=await Ef.get(`/products/${e.id}/stats`);if(s.data.success){const e=s.data.data;d+=(null==(t=e.products)?void 0:t.total)||0,h+=(null==(n=e.products)?void 0:n.active)||0,p+=(null==(a=e.products)?void 0:a.paused)||0,f+=(null==(r=e.products)?void 0:r.lowStock)||0}const i=await Ef.get(`/orders/${e.id}?limit=50`);if(i.data.orders){const t=i.data.orders.map(t=>({...t,accountName:e.nickname,accountId:e.id}));k=k.concat(t);const n=t.filter(e=>"paid"===e.status||"confirmed"===e.status).reduce((e,t)=>e+(t.totalAmount||0),0);c+=n,u+=t.length,E.push({name:e.nickname||`Conta ${e.id}`,value:n}),t.forEach(e=>{if(e.dateCreated){const t=new Date(e.dateCreated).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});A[t]||(A[t]={date:t,revenue:0,orders:0}),"paid"!==e.status&&"confirmed"!==e.status||(A[t].revenue+=e.totalAmount||0,A[t].orders+=1)}})}const o=await Ef.get(`/products/${e.id}?limit=20&sort=-salesCount`);if(o.data.success){const t=o.data.data.products.map(t=>({...t,accountName:e.nickname,accountId:e.id}));w=w.concat(t)}try{v+=(await Ef.get(`/questions/${e.id}?status=unanswered&limit=1`)).data.total||0}catch(CH){}try{y+=(await Ef.get(`/shipments/${e.id}?status=ready_to_ship&limit=1`)).data.total||0}catch(CH){}try{b+=(await Ef.get(`/claims/${e.id}?status=opened&limit=1`)).data.total||0}catch(CH){}if(!M)try{M=(await Ef.get(`/metrics/${e.id}/reputation`)).data.reputation}catch(CH){}try{const t=await Ef.get(`/metrics/${e.id}/visits?days=${g}`);j+=(t.data.visits||[]).reduce((e,t)=>e+(t.visits||0),0)}catch(CH){}}catch(s){console.error(`Error fetching data for account ${e.id}:`,s)}f>0&&C.push({type:"warning",icon:"inventory",title:"Estoque Baixo",message:`${f} produto(s) com estoque baixo`,action:"/products",actionLabel:"Ver produtos"}),v>0&&C.push({type:"info",icon:"help_outline",title:"Perguntas Pendentes",message:`${v} pergunta(s) aguardando resposta`,action:"/questions",actionLabel:"Responder"}),y>0&&C.push({type:"warning",icon:"local_shipping",title:"Envios Pendentes",message:`${y} envio(s) prontos para despachar`,action:"/shipments",actionLabel:"Ver envios"}),b>0&&C.push({type:"danger",icon:"report_problem",title:"Reclamacoes Abertas",message:`${b} reclamacao(oes) precisam de atencao`,action:"/claims",actionLabel:"Ver reclamacoes"});const D=[...w].sort((e,t)=>(t.salesCount||0)-(e.salesCount||0)),L=[...k].sort((e,t)=>new Date(t.dateCreated)-new Date(e.dateCreated)),B=Object.values(A).sort((e,t)=>{const[n,a]=e.date.split("/"),[r,s]=t.date.split("/");return new Date(2024,a-1,n)-new Date(2024,s-1,r)}).slice(-parseInt(g)),F=u>0?c/u:0,$=j>0?u/j*100:0;N({accounts:l.length,totalRevenue:c,totalOrders:u,totalProducts:d,activeProducts:h,pausedProducts:p,lowStock:f,pendingQuestions:v,pendingShipments:y,openClaims:b,conversionRate:$,totalVisits:j,avgTicket:F,margin:0}),S(B),O(E.filter(e=>e.value>0)),P(D.slice(0,5)),_(L.slice(0,5)),R(M),I(C);const z=[];v>0&&z.push({icon:"help_outline",label:"Perguntas",count:v,path:"/questions",color:"#3b82f6"}),y>0&&z.push({icon:"local_shipping",label:"Envios",count:y,path:"/shipments",color:"#f59e0b"}),b>0&&z.push({icon:"report_problem",label:"Reclamacoes",count:b,path:"/claims",color:"#ef4444"}),f>0&&z.push({icon:"inventory",label:"Estoque Baixo",count:f,path:"/products",color:"#f59e0b"}),T(z)}catch(i){console.error("Error fetching dashboard data:",i)}finally{m(!1)}},F=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),$=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString(),U=e=>({"5_green":{label:"MercadoLider Platinum",color:"#10b981",icon:"workspace_premium"},"4_light_green":{label:"MercadoLider Gold",color:"#84cc16",icon:"military_tech"},"3_yellow":{label:"MercadoLider",color:"#eab308",icon:"verified"},"2_orange":{label:"Bom",color:"#f97316",icon:"thumb_up"},"1_red":{label:"Regular",color:"#ef4444",icon:"warning"}}[e]||{label:"N/A",color:"#6b7280",icon:"help"});return p||0!==y.length?Y.jsxs("div",{className:"dashboard premium",children:[Y.jsxs("header",{className:"dashboard-header",children:[Y.jsxs("div",{className:"header-left",children:[Y.jsx("h1",{children:"Dashboard"}),Y.jsx("p",{children:"Visao geral do seu negocio no Mercado Livre"})]}),Y.jsxs("div",{className:"header-right",children:[Y.jsxs("select",{className:"period-select",value:g,onChange:e=>b(e.target.value),children:[Y.jsx("option",{value:"7",children:"Ultimos 7 dias"}),Y.jsx("option",{value:"15",children:"Ultimos 15 dias"}),Y.jsx("option",{value:"30",children:"Ultimos 30 dias"}),Y.jsx("option",{value:"60",children:"Ultimos 60 dias"}),Y.jsx("option",{value:"90",children:"Ultimos 90 dias"})]}),Y.jsxs("button",{className:"btn btn-primary "+(f?"loading":""),onClick:async()=>{v(!0);try{for(const e of y)await Ef.post(`/products/${e.id}/sync`),await Ef.post(`/orders/${e.id}/sync`);await B()}catch(e){console.error("Error syncing:",e)}finally{v(!1)}},disabled:f,children:[Y.jsx("span",{className:"material-icons",children:"sync"}),f?"Sincronizando...":"Sincronizar"]})]})]}),D.length>0&&Y.jsx("div",{className:"alerts-section",children:D.map((e,t)=>Y.jsxs("div",{className:`alert-card alert-${e.type}`,children:[Y.jsx("span",{className:"material-icons alert-icon",children:e.icon}),Y.jsxs("div",{className:"alert-content",children:[Y.jsx("strong",{children:e.title}),Y.jsx("span",{children:e.message})]}),Y.jsxs(Ch,{to:e.action,className:"alert-action",children:[e.actionLabel,Y.jsx("span",{className:"material-icons",children:"arrow_forward"})]})]},t))}),p?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner-large"}),Y.jsx("p",{children:"Carregando dados..."})]}):Y.jsxs(Y.Fragment,{children:[Y.jsx("section",{className:"kpi-section",children:Y.jsxs("div",{className:"kpi-grid",children:[Y.jsxs("div",{className:"kpi-card primary",onClick:()=>d("/sales-dashboard"),children:[Y.jsx("div",{className:"kpi-icon",children:Y.jsx("span",{className:"material-icons",children:"payments"})}),Y.jsxs("div",{className:"kpi-content",children:[Y.jsx("span",{className:"kpi-label",children:"Receita Total"}),Y.jsx("span",{className:"kpi-value",children:F(j.totalRevenue)}),Y.jsxs("span",{className:"kpi-period",children:["ultimos ",g," dias"]})]}),Y.jsx("span",{className:"material-icons kpi-arrow",children:"chevron_right"})]}),Y.jsxs("div",{className:"kpi-card success",onClick:()=>d("/orders"),children:[Y.jsx("div",{className:"kpi-icon",children:Y.jsx("span",{className:"material-icons",children:"shopping_cart"})}),Y.jsxs("div",{className:"kpi-content",children:[Y.jsx("span",{className:"kpi-label",children:"Pedidos"}),Y.jsx("span",{className:"kpi-value",children:$(j.totalOrders)}),Y.jsxs("span",{className:"kpi-period",children:["ticket medio: ",F(j.avgTicket)]})]}),Y.jsx("span",{className:"material-icons kpi-arrow",children:"chevron_right"})]}),Y.jsxs("div",{className:"kpi-card info",onClick:()=>d("/products"),children:[Y.jsx("div",{className:"kpi-icon",children:Y.jsx("span",{className:"material-icons",children:"inventory_2"})}),Y.jsxs("div",{className:"kpi-content",children:[Y.jsx("span",{className:"kpi-label",children:"Produtos"}),Y.jsx("span",{className:"kpi-value",children:$(j.totalProducts)}),Y.jsxs("span",{className:"kpi-period",children:[j.activeProducts," ativos"]})]}),Y.jsx("span",{className:"material-icons kpi-arrow",children:"chevron_right"})]}),Y.jsxs("div",{className:"kpi-card purple",onClick:()=>d("/metrics"),children:[Y.jsx("div",{className:"kpi-icon",children:Y.jsx("span",{className:"material-icons",children:"visibility"})}),Y.jsxs("div",{className:"kpi-content",children:[Y.jsx("span",{className:"kpi-label",children:"Visitas"}),Y.jsx("span",{className:"kpi-value",children:$(j.totalVisits)}),Y.jsxs("span",{className:"kpi-period",children:["conversao: ",j.conversionRate.toFixed(1),"%"]})]}),Y.jsx("span",{className:"material-icons kpi-arrow",children:"chevron_right"})]})]})}),A.length>0&&Y.jsxs("section",{className:"pending-section",children:[Y.jsxs("h2",{className:"section-title",children:[Y.jsx("span",{className:"material-icons",children:"pending_actions"}),"Acoes Pendentes"]}),Y.jsx("div",{className:"pending-grid",children:A.map((e,t)=>Y.jsxs(Ch,{to:e.path,className:"pending-card",style:{"--accent-color":e.color},children:[Y.jsx("div",{className:"pending-icon",children:Y.jsx("span",{className:"material-icons",children:e.icon})}),Y.jsxs("div",{className:"pending-info",children:[Y.jsx("span",{className:"pending-count",children:e.count}),Y.jsx("span",{className:"pending-label",children:e.label})]})]},t))})]}),Y.jsx("section",{className:"charts-section",children:Y.jsxs("div",{className:"charts-grid",children:[Y.jsxs("div",{className:"chart-card large",children:[Y.jsxs("div",{className:"chart-header",children:[Y.jsxs("h3",{children:[Y.jsx("span",{className:"material-icons",children:"show_chart"}),"Vendas"]}),Y.jsxs(Ch,{to:"/sales-dashboard",className:"chart-link",children:["Ver detalhes",Y.jsx("span",{className:"material-icons",children:"arrow_forward"})]})]}),Y.jsx("div",{className:"chart-body",children:w.length>0?Y.jsx(RC,{width:"100%",height:280,children:Y.jsxs(uK,{data:w,children:[Y.jsx("defs",{children:Y.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[Y.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),Y.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),Y.jsx(lV,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),Y.jsx(JV,{dataKey:"date",stroke:"#9ca3af",fontSize:11}),Y.jsx(cW,{stroke:"#9ca3af",fontSize:11,tickFormatter:e=>`R$${(e/1e3).toFixed(0)}k`}),Y.jsx(oC,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(e,t)=>[F(e),"revenue"===t?"Receita":"Pedidos"]}),Y.jsx(zV,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2,fill:"url(#colorRevenue)",name:"Receita"})]})}):Y.jsxs("div",{className:"no-data",children:[Y.jsx("span",{className:"material-icons",children:"insert_chart"}),Y.jsx("p",{children:"Sem dados de vendas no periodo"})]})})]}),Y.jsxs("div",{className:"chart-card",children:[Y.jsx("div",{className:"chart-header",children:Y.jsxs("h3",{children:[Y.jsx("span",{className:"material-icons",children:"pie_chart"}),"Receita por Conta"]})}),Y.jsx("div",{className:"chart-body",children:k.length>0?Y.jsx(RC,{width:"100%",height:280,children:Y.jsxs(cK,{children:[Y.jsx(f$,{data:k,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:2,dataKey:"value",children:k.map((e,t)=>Y.jsx(DC,{fill:L[t%L.length]},`cell-${t}`))}),Y.jsx(oC,{formatter:e=>F(e)}),Y.jsx(Ck,{verticalAlign:"bottom",height:36,formatter:e=>Y.jsx("span",{style:{color:"#374151",fontSize:"12px"},children:e})})]})}):Y.jsxs("div",{className:"no-data",children:[Y.jsx("span",{className:"material-icons",children:"pie_chart"}),Y.jsx("p",{children:"Sem dados de receita"})]})})]})]})}),Y.jsx("section",{className:"bottom-section",children:Y.jsxs("div",{className:"bottom-grid",children:[M&&Y.jsxs("div",{className:"info-card reputation-card",children:[Y.jsxs("div",{className:"card-header",children:[Y.jsxs("h3",{children:[Y.jsx("span",{className:"material-icons",children:"verified"}),"Reputacao"]}),Y.jsxs(Ch,{to:"/metrics",className:"card-link",children:["Ver metricas",Y.jsx("span",{className:"material-icons",children:"arrow_forward"})]})]}),Y.jsxs("div",{className:"card-body",children:[Y.jsxs("div",{className:"reputation-level",style:{"--level-color":U(M.level_id).color},children:[Y.jsx("span",{className:"material-icons",children:U(M.level_id).icon}),Y.jsx("span",{className:"level-label",children:U(M.level_id).label})]}),Y.jsxs("div",{className:"reputation-stats",children:[Y.jsxs("div",{className:"rep-stat",children:[Y.jsx("span",{className:"rep-value",children:(null==(e=M.transactions)?void 0:e.completed)||0}),Y.jsx("span",{className:"rep-label",children:"Vendas"})]}),Y.jsxs("div",{className:"rep-stat",children:[Y.jsx("span",{className:"rep-value",children:(null==(n=null==(t=M.transactions)?void 0:t.ratings)?void 0:n.positive)||0}),Y.jsx("span",{className:"rep-label",children:"Positivas"})]}),Y.jsxs("div",{className:"rep-stat",children:[Y.jsx("span",{className:"rep-value",children:(null==(r=null==(a=M.transactions)?void 0:a.ratings)?void 0:r.negative)||0}),Y.jsx("span",{className:"rep-label",children:"Negativas"})]})]}),M.metrics&&Y.jsxs("div",{className:"reputation-bars",children:[Y.jsxs("div",{className:"rep-bar",children:[Y.jsx("span",{className:"bar-label",children:"Reclamacoes"}),Y.jsx("div",{className:"bar-track",children:Y.jsx("div",{className:"bar-fill red",style:{width:`${Math.min(100*((null==(s=M.metrics.claims)?void 0:s.rate)||0)*10,100)}%`}})}),Y.jsxs("span",{className:"bar-value",children:[(100*((null==(i=M.metrics.claims)?void 0:i.rate)||0)).toFixed(1),"%"]})]}),Y.jsxs("div",{className:"rep-bar",children:[Y.jsx("span",{className:"bar-label",children:"Atrasos"}),Y.jsx("div",{className:"bar-track",children:Y.jsx("div",{className:"bar-fill yellow",style:{width:`${Math.min(100*((null==(o=M.metrics.delayed_handling_time)?void 0:o.rate)||0)*10,100)}%`}})}),Y.jsxs("span",{className:"bar-value",children:[(100*((null==(l=M.metrics.delayed_handling_time)?void 0:l.rate)||0)).toFixed(1),"%"]})]}),Y.jsxs("div",{className:"rep-bar",children:[Y.jsx("span",{className:"bar-label",children:"Cancelamentos"}),Y.jsx("div",{className:"bar-track",children:Y.jsx("div",{className:"bar-fill orange",style:{width:`${Math.min(100*((null==(c=M.metrics.cancellations)?void 0:c.rate)||0)*10,100)}%`}})}),Y.jsxs("span",{className:"bar-value",children:[(100*((null==(u=M.metrics.cancellations)?void 0:u.rate)||0)).toFixed(1),"%"]})]})]})]})]}),Y.jsxs("div",{className:"info-card",children:[Y.jsxs("div",{className:"card-header",children:[Y.jsxs("h3",{children:[Y.jsx("span",{className:"material-icons",children:"trending_up"}),"Mais Vendidos"]}),Y.jsxs(Ch,{to:"/products",className:"card-link",children:["Ver todos",Y.jsx("span",{className:"material-icons",children:"arrow_forward"})]})]}),Y.jsx("div",{className:"card-body",children:C.length>0?Y.jsx("ul",{className:"product-list",children:C.map((e,t)=>Y.jsxs("li",{className:"product-item",children:[Y.jsx("span",{className:"product-rank",children:t+1}),e.thumbnailUrl&&Y.jsx("img",{src:e.thumbnailUrl,alt:"",className:"product-thumb"}),Y.jsxs("div",{className:"product-info",children:[Y.jsx("span",{className:"product-title",children:e.title}),Y.jsx("span",{className:"product-account",children:e.accountName})]}),Y.jsxs("div",{className:"product-stats",children:[Y.jsxs("span",{className:"product-sales",children:[e.salesCount||0," vendas"]}),Y.jsx("span",{className:"product-price",children:F(e.price||0)})]})]},e.id||t))}):Y.jsxs("div",{className:"no-data small",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),Y.jsx("p",{children:"Nenhum produto encontrado"})]})})]}),Y.jsxs("div",{className:"info-card",children:[Y.jsxs("div",{className:"card-header",children:[Y.jsxs("h3",{children:[Y.jsx("span",{className:"material-icons",children:"receipt_long"}),"Pedidos Recentes"]}),Y.jsxs(Ch,{to:"/orders",className:"card-link",children:["Ver todos",Y.jsx("span",{className:"material-icons",children:"arrow_forward"})]})]}),Y.jsx("div",{className:"card-body",children:E.length>0?Y.jsx("ul",{className:"order-list",children:E.map((e,t)=>{var n,a;return Y.jsxs("li",{className:"order-item",children:[Y.jsxs("div",{className:"order-main",children:[Y.jsxs("span",{className:"order-id",children:["#",e.mlOrderId]}),Y.jsx("span",{className:`badge ${a=e.status,{paid:"badge-success",confirmed:"badge-success",pending:"badge-warning",cancelled:"badge-danger"}[a]||"badge-secondary"}`,children:e.status})]}),Y.jsxs("div",{className:"order-details",children:[Y.jsx("span",{className:"order-buyer",children:(null==(n=e.buyer)?void 0:n.nickname)||"Comprador"}),Y.jsx("span",{className:"order-date",children:new Date(e.dateCreated).toLocaleDateString("pt-BR")})]}),Y.jsx("span",{className:"order-total",children:F(e.totalAmount||0)})]},e._id||t)})}):Y.jsxs("div",{className:"no-data small",children:[Y.jsx("span",{className:"material-icons",children:"receipt_long"}),Y.jsx("p",{children:"Nenhum pedido encontrado"})]})})]})]})}),Y.jsxs("section",{className:"quick-actions-section",children:[Y.jsxs("h2",{className:"section-title",children:[Y.jsx("span",{className:"material-icons",children:"bolt"}),"Acoes Rapidas"]}),Y.jsxs("div",{className:"quick-actions-grid",children:[Y.jsxs(Ch,{to:"/items/create",className:"quick-action",children:[Y.jsx("span",{className:"material-icons",children:"add_box"}),Y.jsx("span",{children:"Criar Anuncio"})]}),Y.jsxs(Ch,{to:"/sales-dashboard",className:"quick-action",children:[Y.jsx("span",{className:"material-icons",children:"analytics"}),Y.jsx("span",{children:"Dashboard Vendas"})]}),Y.jsxs(Ch,{to:"/products",className:"quick-action",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),Y.jsx("span",{children:"Gerenciar Produtos"})]}),Y.jsxs(Ch,{to:"/questions",className:"quick-action",children:[Y.jsx("span",{className:"material-icons",children:"help_outline"}),Y.jsx("span",{children:"Responder Perguntas"})]}),Y.jsxs(Ch,{to:"/shipments",className:"quick-action",children:[Y.jsx("span",{className:"material-icons",children:"local_shipping"}),Y.jsx("span",{children:"Gerenciar Envios"})]}),Y.jsxs(Ch,{to:"/accounts",className:"quick-action",children:[Y.jsx("span",{className:"material-icons",children:"store"}),Y.jsx("span",{children:"Contas ML"})]})]})]})]})]}):Y.jsx("div",{className:"dashboard",children:Y.jsxs("div",{className:"empty-dashboard",children:[Y.jsx("div",{className:"empty-icon",children:Y.jsx("span",{className:"material-icons",children:"store"})}),Y.jsx("h2",{children:"Bem-vindo ao ML SASS!"}),Y.jsx("p",{children:"Conecte sua primeira conta do Mercado Livre para comecar"}),Y.jsxs("button",{className:"btn btn-primary btn-lg",onClick:()=>d("/accounts"),children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Conectar Conta"]})]})})}function pK({accountId:e,canAutoRefresh:t=!1,hasRefreshToken:n=!1,tokenExpiresAt:a=null,onRefreshSuccess:r=null,onConfigureOAuth:s=null}){const[i,o]=z.useState(null),[l,c]=z.useState(!1),[u,d]=z.useState(""),[h,p]=z.useState(""),[m,f]=z.useState(!1);z.useEffect(()=>{v();const e=setInterval(v,3e5);return()=>clearInterval(e)},[e]);const v=async()=>{try{c(!0);const t=await Ef.get(`/ml-accounts/${e}/token-info`);t.data.success&&(o(t.data.data.tokenInfo),d(""))}catch(t){console.error("Failed to fetch token info:",t),d("Failed to load token status")}finally{c(!1)}};if(l&&!i)return Y.jsx("div",{className:"token-status token-status-loading",children:"Carregando status do token..."});if(!i)return null;const y=Math.floor(i.timeToExpiry/3600),x=Math.floor(i.timeToExpiry%3600/60),g=i.isExpired,b=i.healthPercent<30&&!g,j=i.healthPercent<10&&!g;let N="token-status-ok",w="ok",S="Token valido";return g?(N="token-status-expired",w="error",S="Token expirado"):j?(N="token-status-warning",w="warning",S=`Expirando em ${y}h ${x}m`):b?(N="token-status-warning",w="clock",S=`Expirando em ${y}h ${x}m`):(y>0||x>0)&&(S=`Valido por ${y}h ${x}m`),Y.jsxs("div",{className:`token-status ${N}`,children:[Y.jsxs("div",{className:"token-status-header",children:[Y.jsxs("span",{className:`token-status-icon token-status-icon-${w}`,children:["ok"===w&&"OK","error"===w&&"!","warning"===w&&"!","clock"===w&&"T"]}),Y.jsxs("div",{className:"token-status-info",children:[Y.jsx("p",{className:"token-status-text",children:S}),!g&&null!==i.healthPercent&&Y.jsx("div",{className:"token-health-bar",children:Y.jsx("div",{className:"token-health-fill",style:{width:`${Math.max(0,i.healthPercent)}%`,backgroundColor:i.healthPercent>30?"#4CAF50":i.healthPercent>10?"#FF9800":"#f44336"}})})]})]}),t&&Y.jsxs("div",{className:"token-status-auto-refresh",children:[Y.jsx("span",{className:"token-badge token-badge-success",children:"Auto-refresh ativo"}),Y.jsx("p",{className:"token-status-hint",children:"Token sera renovado automaticamente"})]}),!t&&!n&&Y.jsxs("div",{className:"token-status-no-refresh",children:[Y.jsx("span",{className:"token-badge token-badge-danger",children:"Token Manual"}),Y.jsx("p",{className:"token-status-hint",children:"Token foi fornecido manualmente sem Refresh Token. Quando expirar (em 6 horas), voce precisara inserir um novo token ou adicionar um Refresh Token."}),s&&Y.jsx("button",{className:"btn btn-sm btn-warning token-configure-btn",onClick:s,children:"Adicionar Refresh Token"})]}),t&&(b||j)&&Y.jsx("div",{className:"token-status-force-refresh",children:Y.jsx("button",{className:"btn btn-sm btn-secondary token-refresh-btn",onClick:async()=>{var t,n;try{f(!0),d(""),p("");const t=await Ef.put(`/ml-accounts/${e}/refresh-token`);t.data.success&&(p("Token renovado com sucesso!"),o(e=>({...e,tokenExpiry:t.data.data.tokenExpiresAt,timeToExpiry:t.data.data.expiresIn,healthPercent:100,isExpired:!1,needsRefresh:!1})),r&&r(),setTimeout(()=>p(""),3e3))}catch(a){const e=(null==(n=null==(t=a.response)?void 0:t.data)?void 0:n.message)||"Falha ao renovar token";d(e),console.error("Token refresh error:",a)}finally{f(!1)}},disabled:m,children:m?"Renovando...":"Renovar Agora"})}),u&&Y.jsx("div",{className:"token-alert token-alert-error",children:u}),h&&Y.jsx("div",{className:"token-alert token-alert-success",children:h})]})}function mK(){const e=nh(),[t,n]=z.useState([]),[a,r]=z.useState(!0),[s,i]=z.useState(!1),[o,l]=z.useState(!1),[c,u]=z.useState(!1),[d,h]=z.useState(!1),[p,m]=z.useState(null),[f,v]=z.useState(null),[y,x]=z.useState(!1),[g,b]=z.useState(!1),[j,N]=z.useState(!1),[w,S]=z.useState({accessToken:"",refreshToken:"",accountName:""}),[k,O]=z.useState({appId:"",appSecret:"",redirectUrl:""}),[C,P]=z.useState({clientId:"",clientSecret:"",redirectUri:"",refreshToken:""}),[E,_]=z.useState(!1),[A,T]=z.useState(null);z.useEffect(()=>{M()},[]);const M=async()=>{var e;try{r(!0);const t=await Ef.get("/ml-accounts"),a=(null==(e=t.data.data)?void 0:e.accounts)||t.data.data||t.data||[];n(Array.isArray(a)?a:[])}catch(t){Df("Erro ao carregar contas"),n([]),console.error(t)}finally{r(!1)}},R=(e=null)=>{e?(v(e.id),S({accessToken:"",refreshToken:"",accountName:e.accountName||e.nickname})):(v(null),S({accessToken:"",accountName:""})),i(!0)},D=()=>{i(!1),v(null),S({accessToken:"",refreshToken:"",accountName:""})},I=e=>{const{name:t,value:n}=e.target;S(e=>({...e,[t]:n}))},L=()=>{u(!0),O({appId:"",appSecret:"",redirectUrl:"http://localhost:5173/auth/callback"})},B=e=>{const{name:t,value:n}=e.target;O(e=>({...e,[t]:n}))},F=()=>{u(!1),O({appId:"",appSecret:"",redirectUrl:""})},$=e=>{m(e),P({clientId:"",clientSecret:"",redirectUri:"http://localhost:5173/auth/callback",refreshToken:""}),h(!0)},U=()=>{h(!1),m(null),P({clientId:"",clientSecret:"",redirectUri:"",refreshToken:""})},q=e=>{const{name:t,value:n}=e.target;P(e=>({...e,[t]:n}))},V=e=>e.canAutoRefresh?Y.jsx("span",{className:"oauth-badge oauth-badge-success",title:"Renovacao automatica ativa (tem Refresh Token)",children:"Auto-Refresh"}):e.hasRefreshToken?Y.jsx("span",{className:"oauth-badge oauth-badge-warning",title:"Refresh Token presente",children:"Auto-Refresh"}):Y.jsx("span",{className:"oauth-badge oauth-badge-danger",title:"Token manual - sem renovacao automatica",children:"Manual"});return Y.jsxs("div",{className:"page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsx("h1",{children:"Contas Mercado Livre"}),Y.jsx("p",{children:"Gerencie suas contas conectadas"})]}),Y.jsxs("div",{className:"card",children:[Y.jsxs("div",{className:"card-header",children:[Y.jsx("h2",{className:"card-title",children:"Contas Ativas"}),Y.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[Y.jsx("button",{className:"btn btn-primary",onClick:L,disabled:y,children:y?"Conectando...":" Mercado Livre"}),Y.jsx("button",{className:"btn btn-secondary",onClick:()=>R(),children:"+ Adicionar"})]})]}),a?Y.jsxs("div",{className:"loading-container",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando contas..."})]}):0===t.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("p",{children:"Nenhuma conta conectada"}),Y.jsxs("div",{className:"empty-state-buttons",style:{display:"flex",gap:"1rem",marginTop:"1.5rem",justifyContent:"center"},children:[Y.jsx("button",{className:"btn btn-primary",onClick:L,disabled:y,children:y?"Conectando...":" Conectar com Mercado Livre"}),Y.jsx("button",{className:"btn btn-secondary",onClick:()=>R(),children:"+ Adicionar Manualmente"})]})]}):Y.jsx("div",{className:"accounts-list",children:t.map(t=>{var n,a,r;return Y.jsxs("div",{className:"account-item",children:[Y.jsx("div",{className:"account-header",children:Y.jsxs("div",{className:"account-info",children:[Y.jsx("h3",{children:t.nickname}),Y.jsx("p",{className:"text-muted",children:t.email}),Y.jsxs("div",{className:"account-badges",children:[Y.jsx("span",{className:`status-badge status-${t.status}`,children:"active"===t.status?"Ativo":"expired"===t.status?"Expirado":"Inativo"}),V(t)]})]})}),Y.jsxs("div",{className:"account-stats",children:[Y.jsxs("div",{className:"stat",children:[Y.jsx("span",{className:"stat-label",children:"Produtos:"}),Y.jsx("span",{className:"stat-value",children:(null==(n=t.cachedData)?void 0:n.products)||0})]}),Y.jsxs("div",{className:"stat",children:[Y.jsx("span",{className:"stat-label",children:"Pedidos:"}),Y.jsx("span",{className:"stat-value",children:(null==(a=t.cachedData)?void 0:a.orders)||0})]}),Y.jsxs("div",{className:"stat",children:[Y.jsx("span",{className:"stat-label",children:"Problemas:"}),Y.jsx("span",{className:"stat-value",children:(null==(r=t.cachedData)?void 0:r.issues)||0})]})]}),Y.jsx(pK,{accountId:t.id,canAutoRefresh:t.canAutoRefresh,hasRefreshToken:t.hasRefreshToken,tokenExpiresAt:t.tokenExpiresAt,onRefreshSuccess:()=>M(),onConfigureOAuth:()=>$(t)}),Y.jsxs("div",{className:"account-actions",children:[Y.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>e(`/accounts/${t.id}/products`),children:"Produtos"}),!t.canAutoRefresh&&Y.jsx("button",{className:"btn btn-warning btn-sm",onClick:()=>$(t),title:"Configurar credenciais OAuth para renovao automtica",children:"Configurar OAuth"}),Y.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>R(t),children:"Editar"}),Y.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>(async e=>{var t,n,a,r,s,i;if(window.confirm("Tem certeza que deseja deletar esta conta? Esta ao  irreversvel."))try{T(e),await Ef.delete(`/ml-accounts/${e}`),Rf("Conta deletada com sucesso!"),M()}catch(o){const e=(null==(n=null==(t=o.response)?void 0:t.data)?void 0:n.message)||(null==(r=null==(a=o.response)?void 0:a.data)?void 0:r.error)||o.message||"Erro ao deletar conta";Df(e),console.error("Delete error:",{status:null==(s=o.response)?void 0:s.status,data:null==(i=o.response)?void 0:i.data,message:o.message})}finally{T(null)}})(t.id),disabled:A===t.id,children:A===t.id?"Deletando...":"Deletar"})]})]},t.id)})})]}),s&&Y.jsx("div",{className:"modal-overlay",onClick:D,children:Y.jsxs("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsx("h2",{children:f?"Editar Conta":"Conectar Conta Mercado Livre"}),Y.jsx("button",{className:"modal-close",onClick:D,children:"x"})]}),Y.jsxs("form",{onSubmit:async e=>{var t,n;if(e.preventDefault(),w.accessToken)try{_(!0),f?(await Ef.put(`/ml-accounts/${f}`,{accountName:w.accountName}),Rf("Conta atualizada com sucesso!")):(await Ef.post("/ml-accounts",{accessToken:w.accessToken,refreshToken:w.refreshToken||null,accountName:w.accountName||""}),Rf("Conta criada com sucesso!")),await M(),D()}catch(a){Df((null==(n=null==(t=a.response)?void 0:t.data)?void 0:n.message)||"Erro ao salvar conta"),console.error(a)}finally{_(!1)}else Df("Token de acesso  obrigatrio")},className:"modal-form",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{htmlFor:"accountName",children:"Nome da Conta (opcional)"}),Y.jsx("input",{type:"text",id:"accountName",name:"accountName",value:w.accountName,onChange:I,placeholder:"Ex: Loja Principal"})]}),!f&&Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{htmlFor:"accessToken",children:"Token de Acesso Mercado Livre *"}),Y.jsx("input",{type:"password",id:"accessToken",name:"accessToken",value:w.accessToken,onChange:I,placeholder:"Cole seu token de acesso aqui",required:!f}),Y.jsx("small",{className:"form-help",children:'Como obter o token? V para developers.mercadolibre.com.br, acesse suas aplicaes e procure por "Access Token". O token expira em 6 horas.'})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{htmlFor:"refreshToken",children:"Refresh Token (Opcional)"}),Y.jsx("input",{type:"password",id:"refreshToken",name:"refreshToken",value:w.refreshToken,onChange:I,placeholder:"Cole seu refresh token aqui (opcional)"}),Y.jsx("small",{className:"form-help",children:"Se voc tem um refresh token (vlido por 6 meses), cole aqui. Sem ele, precisar inserir novo token a cada 6 horas."})]})]}),Y.jsxs("div",{className:"modal-actions",children:[Y.jsx("button",{type:"button",className:"btn btn-secondary",onClick:D,disabled:E,children:"Cancelar"}),Y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:E,children:E?"Salvando...":"Salvar"})]})]})]})}),c&&Y.jsx("div",{className:"modal-overlay",onClick:F,children:Y.jsxs("div",{className:"modal modal-lg",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsx("h2",{children:"Autenticacao OAuth 2.0"}),Y.jsx("button",{className:"modal-close",onClick:F,children:"x"})]}),Y.jsxs("form",{onSubmit:async e=>{var t,n;if(e.preventDefault(),k.appId&&k.appSecret&&k.redirectUrl)try{b(!0);const e=await Ef.post("/auth/ml-oauth-url",{clientId:k.appId,clientSecret:k.appSecret,redirectUri:k.redirectUrl}),{authUrl:t}=e.data.data;sessionStorage.setItem("ml_oauth_config",JSON.stringify({clientId:k.appId,clientSecret:k.appSecret,redirectUri:k.redirectUrl})),window.location.href=t}catch(a){Df((null==(n=null==(t=a.response)?void 0:t.data)?void 0:n.message)||"Erro ao gerar link de autenticao"),console.error(a)}finally{b(!1)}else Df("App ID, App Secret e Redirect URL so obrigatrios")},className:"modal-form",children:[Y.jsxs("div",{className:"info-box info-box-primary",children:[Y.jsx("strong",{children:"Como funciona?"}),Y.jsx("p",{children:"Forneca suas credenciais da aplicacao Mercado Livre para fazer a autenticacao OAuth. Isso permite renovacao automatica dos tokens."})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{htmlFor:"appId",children:"App ID (Client ID) *"}),Y.jsx("input",{type:"text",id:"appId",name:"appId",value:k.appId,onChange:B,placeholder:"Ex: 1234567890123456",required:!0}),Y.jsx("small",{className:"form-help",children:"Encontre em: developers.mercadolibre.com.br - Minhas aplicacoes"})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{htmlFor:"appSecret",children:"App Secret *"}),Y.jsx("input",{type:"password",id:"appSecret",name:"appSecret",value:k.appSecret,onChange:B,placeholder:"Sua chave secreta",required:!0}),Y.jsx("small",{className:"form-help",children:"Guarde este valor com seguranca. Sera usado apenas para autenticacao."})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{htmlFor:"redirectUrl",children:"Redirect URL *"}),Y.jsx("input",{type:"url",id:"redirectUrl",name:"redirectUrl",value:k.redirectUrl,onChange:B,placeholder:"Ex: http://localhost:5173/auth/callback",required:!0}),Y.jsx("small",{className:"form-help",children:"Deve corresponder exatamente a URL configurada em suas aplicacoes Mercado Livre."})]}),Y.jsxs("div",{className:"modal-actions",children:[Y.jsx("button",{type:"button",className:"btn btn-secondary",onClick:F,disabled:g,children:"Cancelar"}),Y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Conectando...":"Conectar com OAuth"})]}),Y.jsxs("div",{className:"info-box info-box-info",children:[Y.jsx("strong",{children:"O que acontece apos enviar?"}),Y.jsxs("ol",{children:[Y.jsx("li",{children:"Voce sera redirecionado para o Mercado Livre"}),Y.jsx("li",{children:"Authorize a aplicacao na sua conta"}),Y.jsx("li",{children:"Retornara automaticamente com o token de acesso"}),Y.jsx("li",{children:"Sua conta estara conectada com renovacao automatica!"})]})]})]})]})}),d&&p&&Y.jsx("div",{className:"modal-overlay",onClick:U,children:Y.jsxs("div",{className:"modal modal-lg",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsx("h2",{children:"Adicionar Refresh Token"}),Y.jsx("button",{className:"modal-close",onClick:U,children:"x"})]}),Y.jsxs("form",{onSubmit:async e=>{var t,n;if(e.preventDefault(),C.refreshToken)try{N(!0);(await Ef.put(`/ml-accounts/${p.id}/oauth-credentials`,{clientId:C.clientId||null,clientSecret:C.clientSecret||null,redirectUri:C.redirectUri||null,refreshToken:C.refreshToken})).data.success&&(Rf("Refresh Token salvo com sucesso! Renovacao automatica ativada."),await M(),U())}catch(a){Df((null==(n=null==(t=a.response)?void 0:t.data)?void 0:n.message)||"Erro ao salvar refresh token"),console.error(a)}finally{N(!1)}else Df("Refresh Token e obrigatorio")},className:"modal-form",children:[Y.jsxs("div",{className:"info-box info-box-warning",children:[Y.jsxs("strong",{children:["Conta: ",p.nickname]}),Y.jsx("p",{children:"Esta conta foi adicionada manualmente. Adicione um Refresh Token para ativar a renovacao automatica."})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{htmlFor:"cred-refreshToken",children:"Refresh Token *"}),Y.jsx("input",{type:"password",id:"cred-refreshToken",name:"refreshToken",value:C.refreshToken,onChange:q,placeholder:"Cole seu refresh token aqui",required:!0}),Y.jsx("small",{className:"form-help",children:"O Refresh Token e necessario para a renovacao automatica funcionar. Voce pode obte-lo atraves do OAuth do Mercado Livre ou da API."})]}),Y.jsxs("div",{className:"info-box info-box-info",children:[Y.jsx("strong",{children:"Credenciais OAuth (Opcional)"}),Y.jsx("p",{children:"Se voce quiser usar credenciais OAuth proprias (diferente das configuradas no servidor), preencha os campos abaixo. Caso contrario, o sistema usara as credenciais padrao."})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{htmlFor:"cred-clientId",children:"Client ID (App ID) - Opcional"}),Y.jsx("input",{type:"text",id:"cred-clientId",name:"clientId",value:C.clientId,onChange:q,placeholder:"Ex: 1234567890123456"}),Y.jsx("small",{className:"form-help",children:"ID da sua aplicacao no Mercado Livre Developers (deixe vazio para usar o padrao)"})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{htmlFor:"cred-clientSecret",children:"Client Secret (App Secret) - Opcional"}),Y.jsx("input",{type:"password",id:"cred-clientSecret",name:"clientSecret",value:C.clientSecret,onChange:q,placeholder:"Sua chave secreta"}),Y.jsx("small",{className:"form-help",children:"Chave secreta da sua aplicacao (deixe vazio para usar o padrao)"})]}),Y.jsxs("div",{className:"info-box info-box-success",children:[Y.jsx("strong",{children:"O que acontece?"}),Y.jsxs("ul",{style:{margin:"0.5rem 0 0 1rem",paddingLeft:"0.5rem"},children:[Y.jsx("li",{children:"Com o Refresh Token, a renovacao automatica sera ativada"}),Y.jsx("li",{children:"O sistema renovara o token automaticamente antes de expirar"}),Y.jsx("li",{children:"Voce nao precisara mais inserir tokens manualmente!"})]})]}),Y.jsxs("div",{className:"modal-actions",children:[Y.jsx("button",{type:"button",className:"btn btn-secondary",onClick:U,disabled:j,children:"Cancelar"}),Y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:j,children:j?"Salvando...":"Salvar"})]})]})]})})]})}const fK=(e,t="export")=>{if(!e||0===e.length)return void console.warn("No data to export");const n=Object.keys(e[0]),a=[];a.push(n.join(","));for(const i of e){const e=n.map(e=>{const t=i[e],n=String(t??"").replace(/"/g,'""');return n.includes(",")||n.includes('"')||n.includes("\n")?`"${n}"`:n});a.push(e.join(","))}const r=a.join("\n"),s=new Blob(["\ufeff"+r],{type:"text/csv;charset=utf-8;"});yK(s,`${t}.csv`)},vK=(e,t,n)=>{if(!t||0===t.length)return void console.warn("No data to export");const a=window.open("","_blank");if(!a)return void alert("Por favor, permita pop-ups para exportar PDF");const r=t.map(e=>`<tr>${n.map(t=>`<td style="padding: 8px; border: 1px solid #ddd;">${xK(e[t.key],t.format)}</td>`).join("")}</tr>`).join(""),s=n.map(e=>`<th style="padding: 8px; border: 1px solid #ddd; background: #f5f5f5; font-weight: bold;">${e.label}</th>`).join(""),i=`\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>${e}</title>\n      <style>\n        body { font-family: Arial, sans-serif; padding: 20px; }\n        h1 { color: #333; margin-bottom: 20px; }\n        table { border-collapse: collapse; width: 100%; }\n        th, td { text-align: left; }\n        .footer { margin-top: 20px; font-size: 12px; color: #666; }\n        @media print {\n          body { padding: 0; }\n          .no-print { display: none; }\n        }\n      </style>\n    </head>\n    <body>\n      <h1>${e}</h1>\n      <p style="color: #666; margin-bottom: 20px;">Gerado em: ${(new Date).toLocaleString("pt-BR")}</p>\n      <table>\n        <thead>\n          <tr>${s}</tr>\n        </thead>\n        <tbody>\n          ${r}\n        </tbody>\n      </table>\n      <div class="footer">\n        <p>Total de registros: ${t.length}</p>\n      </div>\n      <div class="no-print" style="margin-top: 20px;">\n        <button onclick="window.print()" style="padding: 10px 20px; background: #0066cc; color: white; border: none; cursor: pointer; border-radius: 4px;">\n          Imprimir / Salvar como PDF\n        </button>\n        <button onclick="window.close()" style="padding: 10px 20px; margin-left: 10px; background: #666; color: white; border: none; cursor: pointer; border-radius: 4px;">\n          Fechar\n        </button>\n      </div>\n    </body>\n    </html>\n  `;a.document.write(i),a.document.close()},yK=(e,t)=>{const n=URL.createObjectURL(e),a=document.createElement("a");a.href=n,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n)},xK=(e,t)=>{if(null==e)return"-";switch(t){case"currency":return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);case"number":return new Intl.NumberFormat("pt-BR").format(e);case"percent":return`${e}%`;case"date":return new Date(e).toLocaleDateString("pt-BR");default:return String(e)}},gK=e=>e.map(e=>{var t;return{"ID ML":e.mlProductId||"","Ttulo":e.title||"","Preo":e.price||0,Estoque:e.quantity||0,Vendas:e.salesCount||0,Categoria:(null==(t=e.category)?void 0:t.categoryName)||"",Status:e.status||"",URL:e.permalinkUrl||""}});function bK(){const e=nh(),{accountId:t}=rh(),[n,a]=z.useState([]),[r,s]=z.useState(null),[i,o]=z.useState(0),[l,c]=z.useState(!1),[u,d]=z.useState(!1),[h,p]=z.useState(null),[m,f]=z.useState("active"),[v,y]=z.useState(""),[x,g]=z.useState("-createdAt"),[b]=z.useState(20),[j,N]=z.useState(0),w=z.useRef(!1),S=z.useCallback(async()=>{var e,n;if(t){c(!0);try{const e=new URLSearchParams({limit:b.toString(),offset:j.toString(),sort:x});m&&e.append("status",m);const n=await Ef.get(`/products/${t}?${e.toString()}`);n.data.success&&(a(n.data.data.products),p(n.data.data.account),o(n.data.data.total||0))}catch(r){Df((null==(n=null==(e=r.response)?void 0:e.data)?void 0:n.message)||"Failed to fetch products"),console.error("Error fetching products:",r)}finally{c(!1)}}},[t,m,x,b,j]),k=z.useCallback(async()=>{if(t)try{const e=await Ef.get(`/products/${t}/stats`);e.data.success&&s(e.data.data)}catch(e){console.error("Error fetching stats:",e)}},[t]);z.useEffect(()=>{S()},[S]),z.useEffect(()=>{k()},[t]),z.useEffect(()=>{w.current&&N(0),w.current=!0},[m,x]);const O=async()=>{var e,n;if(t){d(!0);try{const e=await Ef.post(`/products/${t}/sync`);e.data.success&&(a(e.data.data.products),o(e.data.data.productsCount||e.data.data.products.length),k(),Rf(`${e.data.data.productsCount||e.data.data.products.length} produtos sincronizados com sucesso!`))}catch(r){Df((null==(n=null==(e=r.response)?void 0:e.data)?void 0:n.message)||"Falha ao sincronizar produtos"),console.error("Error syncing products:",r)}finally{d(!1)}}},C=n.filter(e=>{var t;return null==(t=e.title)?void 0:t.toLowerCase().includes(v.toLowerCase())}),P=C.length>0,E=Math.ceil(i/b),_=Math.floor(j/b)+1;return Y.jsxs("div",{className:"products-container",children:[Y.jsxs("div",{className:"products-header",children:[Y.jsxs("div",{className:"header-left",children:[Y.jsx("h1",{children:"Produtos"}),h&&Y.jsx("p",{className:"account-name",children:h.nickname})]}),Y.jsxs("div",{className:"header-actions",style:{display:"flex",gap:"0.5rem"},children:[n.length>0&&Y.jsxs(Y.Fragment,{children:[Y.jsx("button",{className:"btn btn-secondary",onClick:()=>{if(0===n.length)return void If("No products to export");const e=gK(n),t=(null==h?void 0:h.nickname)||"account";fK(e,`products_${t}_${(new Date).toISOString().split("T")[0]}`),Rf("CSV file exported successfully!")},title:"Export to CSV",children:" CSV"}),Y.jsx("button",{className:"btn btn-secondary",onClick:()=>{if(0===n.length)return void If("No products to export");const e=(null==h?void 0:h.nickname)||"Account";vK(`Products Report - ${e}`,n,[{key:"title",label:"Product"},{key:"price",label:"Price",format:"currency"},{key:"quantity",label:"Stock",format:"number"},{key:"salesCount",label:"Sales",format:"number"},{key:"status",label:"Status"}]),Lf("PDF opened in new tab. Use Ctrl+P to save.")},title:"Export to PDF",children:" PDF"})]}),Y.jsx("button",{className:"btn btn-primary "+(u?"loading":""),onClick:O,disabled:u,children:u?"Sincronizando...":"Sincronizar Produtos"})]})]}),r&&Y.jsxs("div",{className:"stats-grid",children:[Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon",children:""}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("div",{className:"stat-label",children:"Total de Produtos"}),Y.jsx("div",{className:"stat-value",children:r.products.total})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon",children:""}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("div",{className:"stat-label",children:"Ativos"}),Y.jsx("div",{className:"stat-value",children:r.products.active})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon",children:""}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("div",{className:"stat-label",children:"Pausados"}),Y.jsx("div",{className:"stat-value",children:r.products.paused})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon",children:""}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("div",{className:"stat-label",children:"Estoque Baixo"}),Y.jsx("div",{className:"stat-value",children:r.products.lowStock})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon",children:""}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("div",{className:"stat-label",children:"Total Vendas"}),Y.jsx("div",{className:"stat-value",children:r.sales})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon",children:""}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("div",{className:"stat-label",children:"Valor Estimado"}),Y.jsxs("div",{className:"stat-value",children:["R$ ",(r.estimatedValue||0).toLocaleString("pt-BR")]})]})]})]}),Y.jsxs("div",{className:"products-controls",children:[Y.jsx("div",{className:"search-box",children:Y.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:v,onChange:e=>y(e.target.value)})}),Y.jsxs("div",{className:"filter-controls",children:[Y.jsxs("select",{value:m,onChange:e=>f(e.target.value),className:"filter-select",children:[Y.jsx("option",{value:"",children:"Todos"}),Y.jsx("option",{value:"active",children:"Ativos"}),Y.jsx("option",{value:"paused",children:"Pausados"}),Y.jsx("option",{value:"closed",children:"Encerrados"})]}),Y.jsxs("select",{value:x,onChange:e=>g(e.target.value),className:"filter-select",children:[Y.jsx("option",{value:"-createdAt",children:"Mais Recentes"}),Y.jsx("option",{value:"createdAt",children:"Mais Antigos"}),Y.jsx("option",{value:"-price.amount",children:"Preo: Maior para Menor"}),Y.jsx("option",{value:"price.amount",children:"Preo: Menor para Maior"}),Y.jsx("option",{value:"-salesCount",children:"Mais Vendidos"})]})]})]}),l?Y.jsxs("div",{className:"loading-spinner",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando produtos..."})]}):P?Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"products-table-container",children:Y.jsxs("table",{className:"products-table",children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"Produto"}),Y.jsx("th",{children:"Preo"}),Y.jsx("th",{children:"Estoque"}),Y.jsx("th",{children:"Vendas"}),Y.jsx("th",{children:"Status"}),Y.jsx("th",{children:"Aes"})]})}),Y.jsx("tbody",{children:C.map(r=>Y.jsxs("tr",{className:"product-row",children:[Y.jsxs("td",{className:"product-info",children:[r.thumbnailUrl&&Y.jsx("img",{src:r.thumbnailUrl,alt:r.title,className:"product-thumbnail"}),Y.jsxs("div",{className:"product-details",children:[Y.jsx("a",{href:r.permalinkUrl,target:"_blank",rel:"noopener noreferrer",className:"product-title",children:r.title}),Y.jsxs("span",{className:"product-id",children:["#",r.mlProductId]})]})]}),Y.jsxs("td",{className:"product-price",children:["R$ ",(r.price||0).toLocaleString("pt-BR")]}),Y.jsx("td",{className:"product-stock",children:Y.jsxs("span",{className:"stock-badge "+(r.quantity>10?"high":r.quantity>0?"medium":"low"),children:[r.quantity," unidades"]})}),Y.jsxs("td",{className:"product-sales",children:[r.salesCount," vendas"]}),Y.jsx("td",{className:"product-status",children:Y.jsx("span",{className:`status-badge ${r.status}`,children:"active"===r.status?"Ativo":"paused"===r.status?"Pausado":"closed"===r.status?"Encerrado":r.status})}),Y.jsxs("td",{className:"product-actions",children:[Y.jsx("button",{className:"btn btn-small btn-secondary",onClick:()=>e(`/accounts/${t}/products/${r.id}`),title:"Ver detalhes",children:"Ver"}),Y.jsx("button",{className:"btn btn-small btn-danger",onClick:()=>(async e=>{var r,s;if(t&&window.confirm("Are you sure you want to remove this product?"))try{await Ef.delete(`/products/${t}/${e}`),a(n.filter(t=>t.id!==e)),Rf("Product removed successfully")}catch(i){Df((null==(s=null==(r=i.response)?void 0:r.data)?void 0:s.message)||"Failed to remove product")}})(r.id),title:"Remover produto",children:"Remover"})]})]},r.id))})]})}),E>1&&Y.jsxs("div",{className:"pagination",children:[Y.jsx("button",{onClick:()=>{N(Math.max(0,j-b))},disabled:1===_,className:"btn btn-small",children:" Anterior"}),Y.jsxs("div",{className:"pagination-info",children:["Pgina ",_," de ",E]}),Y.jsx("button",{onClick:()=>{_<E&&N(j+b)},disabled:_===E,className:"btn btn-small",children:"Prximo "})]})]}):Y.jsxs("div",{className:"empty-state",children:[Y.jsx("div",{className:"empty-icon",children:""}),Y.jsx("h2",{children:"Nenhum Produto Encontrado"}),Y.jsx("p",{children:v?"Nenhum produto corresponde a sua busca":"Sincronize sua conta do Mercado Livre para ver os produtos aqui"}),!v&&Y.jsx("button",{className:"btn btn-primary",onClick:O,disabled:u,children:u?"Sincronizando...":"Sincronizar Produtos Agora"})]})]})}function jK(){const e=nh(),[t,n]=z.useState([]),[a,r]=z.useState([]),[s,i]=z.useState({total:0,active:0,paused:0,lowStock:0,totalSales:0,totalValue:0}),[o,l]=z.useState(!0),[c,u]=z.useState(!1),[d,h]=z.useState(null),[p,m]=z.useState(""),[f,v]=z.useState(""),[y,x]=z.useState(""),[g,b]=z.useState("-createdAt"),j=z.useCallback(async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.data||[];return r(Array.isArray(n)?n:[]),Array.isArray(n)?n:[]}catch(t){return console.error("Error fetching accounts:",t),[]}},[]),N=z.useCallback(async e=>{var t,a,r,s;if(!e||0===e.length)return void l(!1);l(!0);let o=[],c={total:0,active:0,paused:0,lowStock:0,totalSales:0,totalValue:0};for(const n of e)try{const e=new URLSearchParams({limit:"100",offset:"0",sort:g});f&&e.append("status",f);const i=await Ef.get(`/products/${n.id}?${e.toString()}`);if(i.data.success){const e=i.data.data.products.map(e=>({...e,accountId:n.id,accountName:n.nickname}));o=o.concat(e)}const l=await Ef.get(`/products/${n.id}/stats`);if(l.data.success){const e=l.data.data;c.total+=(null==(t=e.products)?void 0:t.total)||0,c.active+=(null==(a=e.products)?void 0:a.active)||0,c.paused+=(null==(r=e.products)?void 0:r.paused)||0,c.lowStock+=(null==(s=e.products)?void 0:s.lowStock)||0,c.totalSales+=e.sales||0,c.totalValue+=e.estimatedValue||0}}catch(u){console.error(`Error fetching products for account ${n.id}:`,u)}n(o),i(c),l(!1)},[g,f]);z.useEffect(()=>{(async()=>{const e=await j();await N(e)})()},[]),z.useEffect(()=>{a.length>0&&N(a)},[g,f]);const w=async()=>{u(!0);let e=0;for(const n of a)try{h(n.id);const t=await Ef.post(`/products/${n.id}/sync`);t.data.success&&(e+=t.data.data.productsCount||0)}catch(t){console.error(`Error syncing account ${n.id}:`,t)}Rf(`${e} produtos sincronizados de ${a.length} conta(s)!`),await N(a),u(!1),h(null)},S=t.filter(e=>{var t;const n=null==(t=e.title)?void 0:t.toLowerCase().includes(y.toLowerCase()),a=!p||e.accountId===p;return n&&a}),k=S.length>0;return Y.jsxs("div",{className:"products-container",children:[Y.jsxs("div",{className:"products-header",children:[Y.jsxs("div",{className:"header-left",children:[Y.jsx("h1",{children:"Meus Produtos"}),Y.jsxs("p",{className:"account-name",children:[a.length," conta(s) conectada(s)"]})]}),Y.jsxs("div",{className:"header-actions",style:{display:"flex",gap:"0.5rem"},children:[S.length>0&&Y.jsxs(Y.Fragment,{children:[Y.jsx("button",{className:"btn btn-secondary",onClick:()=>{if(0===S.length)return void If("Nenhum produto para exportar");const e=gK(S);fK(e,`todos_produtos_${(new Date).toISOString().split("T")[0]}`),Rf("Arquivo CSV exportado com sucesso!")},title:"Exportar para CSV",children:"CSV"}),Y.jsx("button",{className:"btn btn-secondary",onClick:()=>{if(0===S.length)return void If("Nenhum produto para exportar");vK("Relatorio de Produtos - Todas as Contas",S,[{key:"title",label:"Produto"},{key:"accountName",label:"Conta"},{key:"price",label:"Preco",format:"currency"},{key:"quantity",label:"Estoque",format:"number"},{key:"salesCount",label:"Vendas",format:"number"},{key:"status",label:"Status"}]),Lf("PDF aberto em nova aba. Use Ctrl+P para salvar.")},title:"Exportar para PDF",children:"PDF"})]}),Y.jsx("button",{className:"btn btn-primary "+(c?"loading":""),onClick:w,disabled:c||0===a.length,children:c?"Sincronizando...":"Sincronizar Tudo"})]})]}),Y.jsxs("div",{className:"stats-grid",children:[Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon",children:""}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("div",{className:"stat-label",children:"Total de Produtos"}),Y.jsx("div",{className:"stat-value",children:s.total})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon",children:""}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("div",{className:"stat-label",children:"Ativos"}),Y.jsx("div",{className:"stat-value",children:s.active})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon",children:""}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("div",{className:"stat-label",children:"Pausados"}),Y.jsx("div",{className:"stat-value",children:s.paused})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon",children:""}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("div",{className:"stat-label",children:"Estoque Baixo"}),Y.jsx("div",{className:"stat-value",children:s.lowStock})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon",children:""}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("div",{className:"stat-label",children:"Total Vendas"}),Y.jsx("div",{className:"stat-value",children:s.totalSales})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon",children:""}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("div",{className:"stat-label",children:"Valor Estimado"}),Y.jsxs("div",{className:"stat-value",children:["R$ ",(s.totalValue||0).toLocaleString("pt-BR")]})]})]})]}),Y.jsxs("div",{className:"products-controls",children:[Y.jsx("div",{className:"search-box",children:Y.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:y,onChange:e=>x(e.target.value)})}),Y.jsxs("div",{className:"filter-controls",children:[Y.jsxs("select",{value:p,onChange:e=>m(e.target.value),className:"filter-select",children:[Y.jsx("option",{value:"",children:"Todas as Contas"}),a.map(e=>Y.jsx("option",{value:e.id,children:e.nickname},e.id))]}),Y.jsxs("select",{value:f,onChange:e=>v(e.target.value),className:"filter-select",children:[Y.jsx("option",{value:"",children:"Todos os Status"}),Y.jsx("option",{value:"active",children:"Ativos"}),Y.jsx("option",{value:"paused",children:"Pausados"}),Y.jsx("option",{value:"closed",children:"Encerrados"})]}),Y.jsxs("select",{value:g,onChange:e=>b(e.target.value),className:"filter-select",children:[Y.jsx("option",{value:"-createdAt",children:"Mais Recentes"}),Y.jsx("option",{value:"createdAt",children:"Mais Antigos"}),Y.jsx("option",{value:"-price.amount",children:"Preco: Maior para Menor"}),Y.jsx("option",{value:"price.amount",children:"Preco: Menor para Maior"}),Y.jsx("option",{value:"-salesCount",children:"Mais Vendidos"})]})]})]}),o?Y.jsxs("div",{className:"loading-spinner",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando produtos..."})]}):k?Y.jsx("div",{className:"products-table-container",children:Y.jsxs("table",{className:"products-table",children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"Produto"}),Y.jsx("th",{children:"Conta"}),Y.jsx("th",{children:"Preco"}),Y.jsx("th",{children:"Estoque"}),Y.jsx("th",{children:"Vendas"}),Y.jsx("th",{children:"Status"}),Y.jsx("th",{children:"Acoes"})]})}),Y.jsx("tbody",{children:S.map(t=>Y.jsxs("tr",{className:"product-row",children:[Y.jsxs("td",{className:"product-info",children:[t.thumbnailUrl&&Y.jsx("img",{src:t.thumbnailUrl,alt:t.title,className:"product-thumbnail"}),Y.jsxs("div",{className:"product-details",children:[Y.jsx("a",{href:t.permalinkUrl,target:"_blank",rel:"noopener noreferrer",className:"product-title",children:t.title}),Y.jsxs("span",{className:"product-id",children:["#",t.mlProductId]})]})]}),Y.jsx("td",{className:"product-account",children:Y.jsx("span",{className:"account-badge",onClick:()=>e(`/accounts/${t.accountId}/products`),style:{cursor:"pointer",color:"#0066cc"},children:t.accountName})}),Y.jsxs("td",{className:"product-price",children:["R$ ",(t.price||0).toLocaleString("pt-BR")]}),Y.jsx("td",{className:"product-stock",children:Y.jsxs("span",{className:"stock-badge "+(t.quantity>10?"high":t.quantity>0?"medium":"low"),children:[t.quantity," un."]})}),Y.jsx("td",{className:"product-sales",children:t.salesCount}),Y.jsx("td",{className:"product-status",children:Y.jsx("span",{className:`status-badge ${t.status}`,children:"active"===t.status?"Ativo":"paused"===t.status?"Pausado":"closed"===t.status?"Encerrado":t.status})}),Y.jsx("td",{className:"product-actions",children:Y.jsx("button",{className:"btn btn-small btn-secondary",onClick:()=>e(`/accounts/${t.accountId}/products/${t.id}`),title:"Ver detalhes",children:"Ver"})})]},`${t.accountId}-${t.id}`))})]})}):Y.jsxs("div",{className:"empty-state",children:[Y.jsx("div",{className:"empty-icon",children:""}),Y.jsx("h2",{children:"Nenhum Produto Encontrado"}),Y.jsx("p",{children:0===a.length?"Conecte uma conta do Mercado Livre para comecar":y?"Nenhum produto corresponde a sua busca":"Sincronize suas contas para ver os produtos aqui"}),0===a.length?Y.jsx("button",{className:"btn btn-primary",onClick:()=>e("/accounts"),children:"Conectar Conta"}):Y.jsx("button",{className:"btn btn-primary",onClick:w,disabled:c,children:c?"Sincronizando...":"Sincronizar Produtos"})]})]})}function NK(){var e,t,n,a,r,s;const i=nh(),[o,l]=z.useState(!0),[c,u]=z.useState(""),[d,h]=z.useState(!1),[p,m]=z.useState(!1),[f,v]=z.useState("30d"),[y,x]=z.useState([]),[g,b]=z.useState(""),[j,N]=z.useState(null),[w,S]=z.useState([]),k=["#0066cc","#ff6b6b","#4ecdc4","#45b7d1","#ffa07a","#98d8c8"];z.useEffect(()=>{O()},[]),z.useEffect(()=>{g&&(C(),P())},[g]);const O=async()=>{var e;try{l(!0),u("");const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.data||[],a=Array.isArray(n)?n:[];x(a),h(a.length>0),a.length>0&&b(a[0].id)}catch(t){u("Erro ao carregar contas"),console.error(t)}finally{l(!1)}},C=async()=>{if(g)try{const e=await Ef.get(`/products/${g}/stats`);e.data.success&&(N(e.data.data),m(!0))}catch(e){console.error("Error fetching product stats:",e),N(null),m(!1)}},P=async()=>{if(g)try{const e=await Ef.get(`/products/${g}?limit=50`);e.data.success&&S(e.data.data.products||[])}catch(e){console.error("Error fetching products:",e),S([])}},E=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0);if(o)return Y.jsxs("div",{className:"page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsx("h1",{children:"Relatorios e Analises"}),Y.jsx("p",{children:"Visualize o desempenho de suas vendas"})]}),Y.jsxs("div",{className:"loading-container",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando relatorios..."})]})]});if(!d)return Y.jsxs("div",{className:"page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsx("h1",{children:"Relatorios e Analises"}),Y.jsx("p",{children:"Visualize o desempenho de suas vendas"})]}),Y.jsx("div",{className:"card",children:Y.jsxs("div",{className:"empty-state",style:{padding:"3rem"},children:[Y.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),Y.jsx("h2",{children:"Nenhuma conta conectada"}),Y.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Conecte uma conta do Mercado Livre para visualizar relatorios e analises."}),Y.jsx("button",{className:"btn btn-primary",onClick:()=>i("/accounts"),children:"Conectar Conta"})]})})]});const _=(()=>{if(0===w.length)return[];const e={};w.forEach(t=>{var n;const a=(null==(n=t.category)?void 0:n.categoryName)||"Outros";e[a]=(e[a]||0)+1});const t=w.length;return Object.entries(e).map(([e,n])=>({name:e.length>15?e.substring(0,15)+"...":e,value:Math.round(n/t*100)})).sort((e,t)=>t.value-e.value).slice(0,5)})(),A=[...w].sort((e,t)=>(t.salesCount||0)-(e.salesCount||0)).slice(0,5).map(e=>{var t,n;return{name:(null==(t=e.title)?void 0:t.substring(0,20))+((null==(n=e.title)?void 0:n.length)>20?"...":""),sales:e.salesCount||0,revenue:(e.salesCount||0)*(e.price||0)}});return Y.jsxs("div",{className:"page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{children:[Y.jsx("h1",{children:"Relatorios e Analises"}),Y.jsx("p",{children:"Visualize o desempenho de suas vendas"})]}),w.length>0&&Y.jsxs("div",{className:"export-buttons",style:{display:"flex",gap:"0.5rem"},children:[Y.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>{var e;if(!j)return void If("Nenhuma estatstica para exportar");const t=(null==(e=y.find(e=>e.id===g))?void 0:e.nickname)||"conta",n=((e,t)=>{var n,a,r,s,i;return{Conta:t,"Data do Relatrio":(new Date).toLocaleDateString("pt-BR"),"Total de Produtos":(null==(n=e.products)?void 0:n.total)||0,"Produtos Ativos":(null==(a=e.products)?void 0:a.active)||0,"Produtos Pausados":(null==(r=e.products)?void 0:r.paused)||0,"Estoque Baixo":(null==(s=e.products)?void 0:s.lowStock)||0,"Sem Estoque":(null==(i=e.products)?void 0:i.outOfStock)||0,"Total de Vendas":e.sales||0,"Total de Visualizaes":e.views||0,"Total de Perguntas":e.questions||0,"Valor Estimado em Estoque":e.estimatedValue||0}})(j,t);fK([n],`estatisticas_${t}_${(new Date).toISOString().split("T")[0]}`),Rf("Estatsticas exportadas com sucesso!")},title:"Exportar estatsticas",children:" Exportar Stats"}),Y.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>{var e;if(0===w.length)return void If("Nenhum produto para exportar");const t=gK(w),n=(null==(e=y.find(e=>e.id===g))?void 0:e.nickname)||"conta";fK(t,`produtos_${n}_${(new Date).toISOString().split("T")[0]}`),Rf("Arquivo CSV exportado com sucesso!")},title:"Exportar para CSV",children:" CSV"}),Y.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>{var e;if(0===w.length)return void If("Nenhum produto para exportar");const t=(null==(e=y.find(e=>e.id===g))?void 0:e.nickname)||"Conta";vK(`Relatrio de Produtos - ${t}`,w,[{key:"title",label:"Produto"},{key:"price",label:"Preo",format:"currency"},{key:"quantity",label:"Estoque",format:"number"},{key:"salesCount",label:"Vendas",format:"number"},{key:"status",label:"Status"}]),Lf("PDF aberto em nova aba. Use Ctrl+P para salvar.")},title:"Exportar para PDF",children:" PDF"})]})]}),c&&Y.jsx("div",{className:"alert alert-error",children:c}),y.length>1&&Y.jsx("div",{className:"card",style:{marginBottom:"1rem"},children:Y.jsxs("div",{className:"card-body",style:{padding:"1rem"},children:[Y.jsx("label",{style:{marginRight:"1rem",fontWeight:"bold"},children:"Conta:"}),Y.jsx("select",{value:g,onChange:e=>b(e.target.value),style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:y.map(e=>Y.jsxs("option",{value:e.id,children:[e.nickname," (",e.email,")"]},e.id))})]})}),!p&&Y.jsxs("div",{className:"alert",style:{backgroundColor:"#fff3cd",borderColor:"#ffc107",color:"#856404",marginBottom:"1rem",padding:"1rem",borderRadius:"4px",border:"1px solid #ffc107"},children:[Y.jsx("strong",{children:"Aviso:"})," Sincronize seus produtos para ver dados reais. Os graficos abaixo mostram dados baseados nos produtos sincronizados.",Y.jsx("button",{className:"btn btn-sm btn-primary",style:{marginLeft:"1rem"},onClick:()=>i(`/accounts/${g}/products`),children:"Ir para Produtos"})]}),j&&Y.jsxs("div",{className:"summary-cards",children:[Y.jsxs("div",{className:"summary-card",children:[Y.jsx("h3",{children:"Total de Produtos"}),Y.jsx("p",{className:"summary-value",children:(null==(e=j.products)?void 0:e.total)||0}),Y.jsx("small",{children:"Produtos cadastrados"})]}),Y.jsxs("div",{className:"summary-card",children:[Y.jsx("h3",{children:"Produtos Ativos"}),Y.jsx("p",{className:"summary-value",children:(null==(t=j.products)?void 0:t.active)||0}),Y.jsx("small",{children:"Disponiveis para venda"})]}),Y.jsxs("div",{className:"summary-card",children:[Y.jsx("h3",{children:"Total de Vendas"}),Y.jsx("p",{className:"summary-value",children:j.sales||0}),Y.jsx("small",{children:"Unidades vendidas"})]}),Y.jsxs("div",{className:"summary-card",children:[Y.jsx("h3",{children:"Valor em Estoque"}),Y.jsx("p",{className:"summary-value",children:E(j.estimatedValue)}),Y.jsx("small",{children:"Valor estimado"})]})]}),j&&Y.jsxs("div",{className:"summary-cards",style:{marginTop:"1rem"},children:[Y.jsxs("div",{className:"summary-card",children:[Y.jsx("h3",{children:"Visualizacoes"}),Y.jsx("p",{className:"summary-value",children:j.views||0}),Y.jsx("small",{children:"Total de views"})]}),Y.jsxs("div",{className:"summary-card",children:[Y.jsx("h3",{children:"Perguntas"}),Y.jsx("p",{className:"summary-value",children:j.questions||0}),Y.jsx("small",{children:"Perguntas recebidas"})]}),Y.jsxs("div",{className:"summary-card",children:[Y.jsx("h3",{children:"Estoque Baixo"}),Y.jsx("p",{className:"summary-value",style:{color:(null==(n=j.products)?void 0:n.lowStock)>0?"#ff6b6b":"inherit"},children:(null==(a=j.products)?void 0:a.lowStock)||0}),Y.jsx("small",{children:"Produtos com pouco estoque"})]}),Y.jsxs("div",{className:"summary-card",children:[Y.jsx("h3",{children:"Sem Estoque"}),Y.jsx("p",{className:"summary-value",style:{color:(null==(r=j.products)?void 0:r.outOfStock)>0?"#dc3545":"inherit"},children:(null==(s=j.products)?void 0:s.outOfStock)||0}),Y.jsx("small",{children:"Produtos esgotados"})]})]}),w.length>0&&Y.jsxs("div",{className:"reports-grid",style:{marginTop:"2rem"},children:[A.length>0&&Y.jsxs("div",{className:"chart-container",children:[Y.jsx("h3",{className:"chart-title",children:"Top 5 Produtos (por vendas)"}),Y.jsx(RC,{width:"100%",height:250,children:Y.jsxs(lK,{data:A,children:[Y.jsx(lV,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),Y.jsx(JV,{dataKey:"name",stroke:"#999",fontSize:10}),Y.jsx(cW,{stroke:"#999"}),Y.jsx(oC,{contentStyle:{backgroundColor:"white",border:"1px solid #e0e0e0",borderRadius:"0.5rem"}}),Y.jsx(nU,{dataKey:"sales",fill:"#0066cc",name:"Vendas"})]})})]}),_.length>0&&Y.jsxs("div",{className:"chart-container",children:[Y.jsx("h3",{className:"chart-title",children:"Distribuicao por Categoria"}),Y.jsx(RC,{width:"100%",height:250,children:Y.jsxs(cK,{children:[Y.jsx(f$,{data:_,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,value:t})=>`${e} (${t}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:_.map((e,t)=>Y.jsx(DC,{fill:k[t%k.length]},`cell-${t}`))}),Y.jsx(oC,{contentStyle:{backgroundColor:"white",border:"1px solid #e0e0e0",borderRadius:"0.5rem"}})]})})]})]}),w.length>0&&Y.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[Y.jsx("div",{className:"card-header",children:Y.jsx("h2",{className:"card-title",children:"Produtos com Mais Vendas"})}),Y.jsx("div",{className:"table-container",children:Y.jsxs("table",{children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"Produto"}),Y.jsx("th",{children:"Preco"}),Y.jsx("th",{children:"Estoque"}),Y.jsx("th",{children:"Vendas"}),Y.jsx("th",{children:"Status"})]})}),Y.jsx("tbody",{children:[...w].sort((e,t)=>(t.salesCount||0)-(e.salesCount||0)).slice(0,10).map((e,t)=>{var n,a;return Y.jsxs("tr",{children:[Y.jsx("td",{children:Y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.thumbnailUrl&&Y.jsx("img",{src:e.thumbnailUrl,alt:"",style:{width:40,height:40,objectFit:"cover",borderRadius:4}}),Y.jsxs("span",{children:[null==(n=e.title)?void 0:n.substring(0,40),(null==(a=e.title)?void 0:a.length)>40?"...":""]})]})}),Y.jsx("td",{children:E(e.price)}),Y.jsx("td",{children:e.quantity||0}),Y.jsx("td",{children:e.salesCount||0}),Y.jsx("td",{children:Y.jsx("span",{className:`status-badge status-${e.status||"active"}`,children:"active"===e.status?"Ativo":"paused"===e.status?"Pausado":e.status||"Ativo"})})]},e.id||t)})})]})})]}),0===w.length&&d&&Y.jsx("div",{className:"card",style:{marginTop:"2rem"},children:Y.jsxs("div",{className:"empty-state",style:{padding:"3rem"},children:[Y.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),Y.jsx("h3",{children:"Nenhum produto sincronizado"}),Y.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Sincronize seus produtos do Mercado Livre para ver os relatorios."}),Y.jsx("button",{className:"btn btn-primary",onClick:()=>i(`/accounts/${g}/products`),children:"Sincronizar Produtos"})]})})]})}function wK(){const{user:e,logout:t,updateUser:n}=Af(),[a,r]=z.useState("profile"),[s,i]=z.useState(!1),[o,l]=z.useState(!0),[c,u]=z.useState({firstName:"",lastName:"",email:"",phone:"",company:""}),[d,h]=z.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[p,m]=z.useState({language:"pt-BR",theme:"light",notifications:!0,emailNotifications:!0});z.useEffect(()=>{const e=localStorage.getItem("preferences");e&&m(JSON.parse(e)),f()},[]);const f=async()=>{try{l(!0);const e=await Ef.get("/user/profile");if(e.data.success){const t=e.data.data.user;u({firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||"",phone:t.phone||"",company:t.company||""})}}catch(t){console.error("Error loading profile:",t),e&&u({firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",phone:e.phone||"",company:e.company||""})}finally{l(!1)}},v=e=>{const{name:t,value:n}=e.target;u(e=>({...e,[t]:n}))},y=e=>{const{name:t,value:n}=e.target;h(e=>({...e,[t]:n}))},x=e=>{m(t=>{const n={...t,[e]:"boolean"==typeof t[e]?!t[e]:t[e]};return localStorage.setItem("preferences",JSON.stringify(n)),Rf("Preferncia salva"),n})};return Y.jsxs("div",{className:"page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsx("h1",{children:"Configuraes"}),Y.jsx("p",{children:"Gerencie sua conta e preferncias"})]}),Y.jsxs("div",{className:"settings-container",children:[Y.jsxs("div",{className:"settings-sidebar",children:[Y.jsx("button",{className:"settings-nav-item "+("profile"===a?"active":""),onClick:()=>r("profile"),children:"Meu Perfil"}),Y.jsx("button",{className:"settings-nav-item "+("password"===a?"active":""),onClick:()=>r("password"),children:"Alterar Senha"}),Y.jsx("button",{className:"settings-nav-item "+("preferences"===a?"active":""),onClick:()=>r("preferences"),children:"Preferncias"}),Y.jsx("hr",{style:{margin:"1rem 0",border:"none",borderTop:"1px solid #e0e0e0"}}),Y.jsx("button",{className:"settings-nav-item",onClick:()=>{window.confirm("Tem certeza que deseja fazer logout?")&&t()},style:{color:"#dc3545"},children:"Fazer Logout"})]}),Y.jsxs("div",{className:"settings-content",children:["profile"===a&&Y.jsxs("div",{className:"settings-section",children:[Y.jsx("h3",{children:"Informaes do Perfil"}),o?Y.jsxs("div",{className:"loading-container",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando perfil..."})]}):Y.jsxs("form",{onSubmit:async e=>{var t,a;e.preventDefault();try{i(!0);const e=await Ef.put("/user/profile",{firstName:c.firstName,lastName:c.lastName,phone:c.phone,company:c.company});e.data.success&&(n&&n(e.data.data.user),Rf("Perfil atualizado com sucesso!"))}catch(r){Df((null==(a=null==(t=r.response)?void 0:t.data)?void 0:a.message)||"Erro ao atualizar perfil")}finally{i(!1)}},className:"settings-form",children:[Y.jsxs("div",{className:"form-row",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Nome"}),Y.jsx("input",{type:"text",name:"firstName",value:c.firstName,onChange:v,placeholder:"Seu nome"})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Sobrenome"}),Y.jsx("input",{type:"text",name:"lastName",value:c.lastName,onChange:v,placeholder:"Seu sobrenome"})]})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Email"}),Y.jsx("input",{type:"email",name:"email",value:c.email,disabled:!0,style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}}),Y.jsx("small",{style:{color:"#666"},children:"O email no pode ser alterado"})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Telefone"}),Y.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:v,placeholder:"(11) 99999-9999"})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Empresa"}),Y.jsx("input",{type:"text",name:"company",value:c.company,onChange:v,placeholder:"Nome da sua empresa"})]}),Y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s,children:s?"Salvando...":"Salvar Alteraes"})]})]}),"password"===a&&Y.jsxs("div",{className:"settings-section",children:[Y.jsx("h3",{children:"Alterar Senha"}),Y.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Escolha uma senha forte com no mnimo 8 caracteres"}),Y.jsxs("form",{onSubmit:async e=>{var t,n;if(e.preventDefault(),d.newPassword===d.confirmPassword)if(d.newPassword.length<8)Df("A nova senha deve ter no mnimo 8 caracteres");else try{i(!0);(await Ef.post("/user/change-password",{currentPassword:d.currentPassword,newPassword:d.newPassword})).data.success&&(h({currentPassword:"",newPassword:"",confirmPassword:""}),Rf("Senha alterada com sucesso!"))}catch(a){Df((null==(n=null==(t=a.response)?void 0:t.data)?void 0:n.message)||"Erro ao alterar senha")}finally{i(!1)}else Df("As senhas no conferem")},className:"settings-form",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Senha Atual"}),Y.jsx("input",{type:"password",name:"currentPassword",value:d.currentPassword,onChange:y,placeholder:"Digite sua senha atual",required:!0})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Nova Senha"}),Y.jsx("input",{type:"password",name:"newPassword",value:d.newPassword,onChange:y,placeholder:"Digite a nova senha",required:!0})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Confirmar Senha"}),Y.jsx("input",{type:"password",name:"confirmPassword",value:d.confirmPassword,onChange:y,placeholder:"Confirme a nova senha",required:!0})]}),Y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s,children:s?"Atualizando...":"Atualizar Senha"})]})]}),"preferences"===a&&Y.jsxs("div",{className:"settings-section",children:[Y.jsx("h3",{children:"Preferncias"}),Y.jsxs("div",{className:"preference-item",children:[Y.jsxs("div",{children:[Y.jsx("h4",{children:"Idioma"}),Y.jsx("p",{style:{color:"#999",marginTop:"0.5rem"},children:"Escolha seu idioma preferido"})]}),Y.jsxs("select",{value:p.language,onChange:e=>m({...p,language:e.target.value}),style:{width:"150px"},children:[Y.jsx("option",{value:"pt-BR",children:"Portugus (Brasil)"}),Y.jsx("option",{value:"en-US",children:"English (US)"}),Y.jsx("option",{value:"es-ES",children:"Espaol"})]})]}),Y.jsxs("div",{className:"preference-item",children:[Y.jsxs("div",{children:[Y.jsx("h4",{children:"Tema"}),Y.jsx("p",{style:{color:"#999",marginTop:"0.5rem"},children:"Escolha entre tema claro ou escuro"})]}),Y.jsxs("select",{value:p.theme,onChange:e=>m({...p,theme:e.target.value}),style:{width:"150px"},children:[Y.jsx("option",{value:"light",children:"Claro"}),Y.jsx("option",{value:"dark",children:"Escuro"}),Y.jsx("option",{value:"auto",children:"Automtico"})]})]}),Y.jsxs("div",{className:"preference-item",children:[Y.jsxs("div",{children:[Y.jsx("h4",{children:"Notificaes no Dashboard"}),Y.jsx("p",{style:{color:"#999",marginTop:"0.5rem"},children:"Receba alertas sobre suas contas"})]}),Y.jsxs("label",{className:"toggle-switch",children:[Y.jsx("input",{type:"checkbox",checked:p.notifications,onChange:()=>x("notifications")}),Y.jsx("span",{className:"toggle-slider"})]})]}),Y.jsxs("div",{className:"preference-item",children:[Y.jsxs("div",{children:[Y.jsx("h4",{children:"Notificaes por Email"}),Y.jsx("p",{style:{color:"#999",marginTop:"0.5rem"},children:"Receba atualizaes importantes por email"})]}),Y.jsxs("label",{className:"toggle-switch",children:[Y.jsx("input",{type:"checkbox",checked:p.emailNotifications,onChange:()=>x("emailNotifications")}),Y.jsx("span",{className:"toggle-slider"})]})]})]})]})]})]})}function SK(){const e=nh(),t=eh(),[n,a]=z.useState("processing"),[r,s]=z.useState("Processing OAuth callback..."),[i,o]=z.useState(null);z.useEffect(()=>{l()},[]);const l=async()=>{try{const n=new URLSearchParams(t.search),r=n.get("code");n.get("state");if(!r)throw new Error("Missing authorization code in callback");s("Exchanging authorization code for tokens...");const i=sessionStorage.getItem("ml_oauth_config");if(!i)throw new Error("OAuth credentials not found. Please start the OAuth flow again.");const{clientId:o,clientSecret:l,redirectUri:c}=JSON.parse(i);s("Requesting access tokens...");const u=await Ef.post("/auth/ml-token-exchange",{code:r,clientId:o,clientSecret:l,redirectUri:c});if(!u.data.success)throw new Error(u.data.error||"Failed to exchange code for tokens");const{accessToken:d,refreshToken:h,expiresIn:p}=u.data.data;s("Creating account with tokens...");const m=await Ef.post("/ml-accounts",{accessToken:d,refreshToken:h,expiresIn:p,clientId:o,clientSecret:l,redirectUri:c,status:"connected"});if(!m.data.success)throw new Error(m.data.error||"Failed to create account");sessionStorage.removeItem("ml_oauth_config"),a("success"),s(" Account connected successfully!"),setTimeout(()=>{e("/accounts",{state:{success:!0,message:"Account connected successfully"}})},2e3)}catch(n){console.error("OAuth callback error:",n),a("error"),o(n.message||"An error occurred during OAuth callback"),s(""),setTimeout(()=>{e("/accounts",{state:{error:n.message}})},5e3)}};return Y.jsx("div",{className:"oauth-callback-container",children:Y.jsxs("div",{className:"oauth-callback-card",children:["processing"===n&&Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"spinner"}),Y.jsx("h2",{children:"Processing OAuth Callback"}),Y.jsx("p",{className:"status-message",children:r}),Y.jsx("p",{className:"info-text",children:"Please wait while we authenticate your Mercado Livre account..."})]}),"success"===n&&Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"success-icon",children:""}),Y.jsx("h2",{children:"Success!"}),Y.jsx("p",{className:"status-message",children:r}),Y.jsx("p",{className:"info-text",children:"Redirecting to accounts page..."})]}),"error"===n&&Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"error-icon",children:""}),Y.jsx("h2",{children:"Authentication Failed"}),Y.jsx("p",{className:"error-message",children:i}),Y.jsx("p",{className:"info-text",children:"Redirecting to accounts page..."}),Y.jsx("div",{className:"error-actions",children:Y.jsx("button",{className:"btn btn-primary",onClick:()=>e("/accounts"),children:"Return to Accounts"})})]})]})})}const kK=lp(e=>({isCollapsed:!1,isMobileOpen:!1,toggleCollapse:()=>e(e=>({isCollapsed:!e.isCollapsed})),setCollapsed:t=>e({isCollapsed:t}),toggleMobileMenu:()=>e(e=>({isMobileOpen:!e.isMobileOpen})),closeMobileMenu:()=>e({isMobileOpen:!1}),openMobileMenu:()=>e({isMobileOpen:!0})}));function OK(){var e,t;const n=eh(),{user:a,logout:r}=_f(),{isCollapsed:s,isMobileOpen:i,toggleCollapse:o,toggleMobileMenu:l,closeMobileMenu:c}=kK(),[u,d]=z.useState({}),[h,p]=z.useState(window.innerWidth<1024);z.useEffect(()=>{const e=()=>{const e=window.innerWidth<1024;p(e),e||c()};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[c]),z.useEffect(()=>{c()},[n.pathname,c]),z.useEffect(()=>(document.body.style.overflow=i?"hidden":"",()=>{document.body.style.overflow=""}),[i]);const m=z.useCallback(e=>{d(t=>({...t,[e]:!1===t[e]}))},[]),f=e=>{return Y.jsxs(Ch,{to:e.path,className:"nav-item "+(t=e.path,n.pathname===t?"active":""),title:s?e.label:"",onClick:c,children:[Y.jsx("span",{className:"material-icons nav-icon",children:e.icon}),Y.jsx("span",{className:"nav-label",children:e.label})]},e.path);var t};return Y.jsxs(Y.Fragment,{children:[Y.jsxs("header",{className:"mobile-header",children:[Y.jsx("button",{className:"mobile-menu-btn",onClick:l,"aria-label":"Menu",children:Y.jsx("span",{className:"material-icons",children:i?"close":"menu"})}),Y.jsxs(Ch,{to:"/",className:"mobile-logo",children:[Y.jsx("span",{className:"logo-icon",children:"ML"}),Y.jsx("span",{className:"logo-text",children:"SASS"})]}),Y.jsxs("div",{className:"mobile-header-actions",children:[Y.jsx(Ch,{to:"/notifications",className:"mobile-action-btn",children:Y.jsx("span",{className:"material-icons",children:"notifications_none"})}),Y.jsx("div",{className:"mobile-avatar",onClick:l,children:(null==(e=null==a?void 0:a.firstName)?void 0:e.charAt(0))||"U"})]})]}),Y.jsxs("aside",{className:`sidebar ${s?"collapsed":""} ${i?"mobile-open":""}`,children:[Y.jsxs("div",{className:"sidebar-header",children:[Y.jsxs(Ch,{to:"/",className:"sidebar-logo",children:[Y.jsx("span",{className:"logo-icon",children:"ML"}),Y.jsx("span",{className:"logo-text",children:"SASS"})]}),!h&&Y.jsx("button",{className:"collapse-btn",onClick:o,"aria-label":"Colapsar menu",children:Y.jsx("span",{className:"material-icons",children:s?"chevron_right":"chevron_left"})})]}),Y.jsx("nav",{className:"sidebar-nav",children:[{title:"Principal",items:[{path:"/",label:"Dashboard",icon:"dashboard"},{path:"/accounts",label:"Contas ML",icon:"store"}]},{title:"Produtos",key:"products",items:[{path:"/products",label:"Todos os Produtos",icon:"inventory"},{path:"/inventory",label:"Estoque",icon:"warehouse"},{path:"/items",label:"Meus Anuncios",icon:"inventory_2"},{path:"/items/create",label:"Criar Anuncio",icon:"add_box"},{path:"/catalog",label:"Catalogo/Buy Box",icon:"library_books"},{path:"/fulfillment",label:"Mercado Full",icon:"local_shipping"}]},{title:"Vendas",key:"sales",items:[{path:"/orders",label:"Pedidos",icon:"shopping_cart"},{path:"/sales-dashboard",label:"Dashboard Vendas",icon:"analytics"},{path:"/shipments",label:"Envios",icon:"local_shipping"},{path:"/invoices",label:"Notas Fiscais",icon:"receipt"},{path:"/billing",label:"Financeiro",icon:"account_balance"},{path:"/profit-calculator",label:"Calculadora Lucro",icon:"calculate"}]},{title:"Atendimento",key:"support",items:[{path:"/questions",label:"Perguntas",icon:"help_outline"},{path:"/messages",label:"Mensagens",icon:"chat_bubble_outline"},{path:"/claims",label:"Reclamacoes",icon:"report_problem"},{path:"/reviews",label:"Avaliacoes",icon:"star_outline"}]},{title:"Marketing",key:"marketing",items:[{path:"/promotions",label:"Promocoes",icon:"sell"},{path:"/advertising",label:"Product Ads",icon:"campaign"},{path:"/price-automation",label:"Automacao Precos",icon:"price_change"},{path:"/trends",label:"Tendencias",icon:"trending_up"},{path:"/competitors",label:"Concorrentes",icon:"groups"}]},{title:"Analytics",key:"analytics",items:[{path:"/reports",label:"Relatorios",icon:"bar_chart"},{path:"/financial-reports",label:"Relatorios MP",icon:"account_balance"},{path:"/conciliation",label:"Conciliacao",icon:"compare_arrows"},{path:"/metrics",label:"Metricas",icon:"analytics"},{path:"/reputation",label:"Reputacao",icon:"verified"},{path:"/quality",label:"Qualidade",icon:"grade"},{path:"/moderations",label:"Moderacoes",icon:"gavel"}]},{title:"Internacional",key:"international",items:[{path:"/global-selling",label:"Global Selling",icon:"public"}]},{title:"Sistema",key:"system",items:[{path:"/notifications",label:"Notificacoes",icon:"notifications_none"},{path:"/settings",label:"Configuracoes",icon:"settings"}]}].map((e,t)=>{const a=!e.key||!1!==u[e.key]||e.items.map(e=>e.path).some(e=>n.pathname.startsWith(e));const r=s?[e.items[0]]:e.items,i=!!s||a;return Y.jsxs("div",{className:"nav-section",children:[e.key&&!s?Y.jsxs("button",{className:"nav-section-header "+(a?"expanded":""),onClick:()=>m(e.key),children:[Y.jsx("span",{className:"nav-section-title",children:e.title}),Y.jsx("span",{className:"material-icons nav-section-arrow",children:a?"expand_less":"expand_more"})]}):s?null:Y.jsx("span",{className:"nav-section-title static",children:e.title}),Y.jsx("div",{className:"nav-section-items "+(i?"":"collapsed"),children:r.map(f)})]},t)})}),Y.jsxs("div",{className:"sidebar-footer",children:[Y.jsxs("div",{className:"user-info",children:[Y.jsx("div",{className:"user-avatar",children:(null==(t=null==a?void 0:a.firstName)?void 0:t.charAt(0))||"U"}),Y.jsxs("div",{className:"user-details",children:[Y.jsxs("p",{className:"user-name",children:[null==a?void 0:a.firstName," ",null==a?void 0:a.lastName]}),Y.jsx("p",{className:"user-email",children:null==a?void 0:a.email})]})]}),Y.jsxs("button",{className:"logout-btn",onClick:()=>{r()},title:"Sair",children:[Y.jsx("span",{className:"material-icons",children:"logout"}),Y.jsx("span",{className:"logout-text",children:"Sair"})]})]})]}),i&&Y.jsx("div",{className:"sidebar-overlay",onClick:c,"aria-hidden":"true"})]})}function CK(){const{isCollapsed:e}=kK();return Y.jsxs("div",{className:"layout "+(e?"sidebar-collapsed":""),children:[Y.jsx(OK,{}),Y.jsx("main",{className:"main-content",children:Y.jsx("div",{className:"content-wrapper",children:Y.jsx(vh,{})})})]})}function PK(){const{toasts:e,removeToast:t}=Mf();return 0===e.length?null:Y.jsx("div",{className:"toast-container",children:e.map(e=>Y.jsxs("div",{className:`toast toast-${e.type}`,children:[Y.jsxs("div",{className:"toast-icon",children:["success"===e.type&&Y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Y.jsx("path",{d:"M20 6L9 17l-5-5"})}),"error"===e.type&&Y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[Y.jsx("circle",{cx:"12",cy:"12",r:"10"}),Y.jsx("path",{d:"M15 9l-6 6M9 9l6 6"})]}),"warning"===e.type&&Y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[Y.jsx("path",{d:"M12 9v4M12 17h.01"}),Y.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"})]}),"info"===e.type&&Y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[Y.jsx("circle",{cx:"12",cy:"12",r:"10"}),Y.jsx("path",{d:"M12 16v-4M12 8h.01"})]})]}),Y.jsx("span",{className:"toast-message",children:e.message}),Y.jsx("button",{className:"toast-close",onClick:()=>t(e.id),children:Y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Y.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]},e.id))})}function EK(){var e,t,n;const{token:a}=_f(),[r,s]=z.useState([]),[i,o]=z.useState(""),[l,c]=z.useState([]),[u,d]=z.useState(null),[h,p]=z.useState(!1),[m,f]=z.useState(!1),[v,y]=z.useState(null),[x,g]=z.useState({status:"",dateFrom:"",dateTo:"",search:""}),[b,j]=z.useState(null),[N,w]=z.useState(!1);z.useEffect(()=>{S()},[]),z.useEffect(()=>{i&&(k(),O())},[i,x]);const S=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];s(n),n.length>0&&o(n[0].id)}catch(t){y("Erro ao carregar contas")}},k=async()=>{p(!0),y(null);try{const e=new URLSearchParams;x.status&&e.append("status",x.status),x.dateFrom&&e.append("dateFrom",x.dateFrom),x.dateTo&&e.append("dateTo",x.dateTo),x.search&&e.append("search",x.search);const t=await Ef.get(`/orders/${i}?${e}`);c(t.data.orders||[])}catch(e){y("Erro ao carregar pedidos"),c([])}finally{p(!1)}},O=async()=>{try{const e=await Ef.get(`/orders/${i}/stats`);d(e.data)}catch(e){console.error("Erro ao carregar estatisticas:",e)}},C=e=>({paid:"badge-success",confirmed:"badge-success",payment_required:"badge-warning",pending:"badge-warning",cancelled:"badge-danger",invalid:"badge-danger"}[e]||"badge-secondary"),P=(e,t="BRL")=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:t}).format(e),E=e=>new Date(e).toLocaleString("pt-BR");return Y.jsxs("div",{className:"orders-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"shopping_cart"}),"Pedidos"]}),Y.jsx("p",{children:"Gerencie seus pedidos do Mercado Livre"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:i,onChange:e=>o(e.target.value),children:r.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("button",{className:"btn btn-primary",onClick:async()=>{f(!0);try{await Ef.post(`/orders/${i}/sync`),await k(),await O()}catch(e){y("Erro ao sincronizar pedidos")}finally{f(!1)}},disabled:m||!i,children:[Y.jsx("span",{className:"material-icons",children:"sync"}),m?"Sincronizando...":"Sincronizar"]})]})]}),u&&Y.jsxs("div",{className:"stats-grid",children:[Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon blue",children:Y.jsx("span",{className:"material-icons",children:"receipt_long"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:u.total||0}),Y.jsx("span",{className:"stat-label",children:"Total de Pedidos"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon green",children:Y.jsx("span",{className:"material-icons",children:"check_circle"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:u.paid||0}),Y.jsx("span",{className:"stat-label",children:"Pagos"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon yellow",children:Y.jsx("span",{className:"material-icons",children:"schedule"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:u.pending||0}),Y.jsx("span",{className:"stat-label",children:"Pendentes"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon purple",children:Y.jsx("span",{className:"material-icons",children:"attach_money"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:P(u.totalRevenue||0)}),Y.jsx("span",{className:"stat-label",children:"Receita Total"})]})]})]}),Y.jsxs("div",{className:"filters-bar",children:[Y.jsxs("div",{className:"filter-group",children:[Y.jsx("label",{children:"Status"}),Y.jsxs("select",{value:x.status,onChange:e=>g({...x,status:e.target.value}),children:[Y.jsx("option",{value:"",children:"Todos"}),Y.jsx("option",{value:"paid",children:"Pago"}),Y.jsx("option",{value:"pending",children:"Pendente"}),Y.jsx("option",{value:"cancelled",children:"Cancelado"})]})]}),Y.jsxs("div",{className:"filter-group",children:[Y.jsx("label",{children:"Data Inicio"}),Y.jsx("input",{type:"date",value:x.dateFrom,onChange:e=>g({...x,dateFrom:e.target.value})})]}),Y.jsxs("div",{className:"filter-group",children:[Y.jsx("label",{children:"Data Fim"}),Y.jsx("input",{type:"date",value:x.dateTo,onChange:e=>g({...x,dateTo:e.target.value})})]}),Y.jsxs("div",{className:"filter-group search",children:[Y.jsx("label",{children:"Buscar"}),Y.jsx("input",{type:"text",placeholder:"ID do pedido ou produto...",value:x.search,onChange:e=>g({...x,search:e.target.value})})]})]}),v&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),v]}),Y.jsx("div",{className:"orders-table-container",children:h?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando pedidos..."})]}):0===l.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"inbox"}),Y.jsx("h3",{children:"Nenhum pedido encontrado"}),Y.jsx("p",{children:"Clique em sincronizar para buscar pedidos do Mercado Livre"})]}):Y.jsxs("table",{className:"orders-table",children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"ID Pedido"}),Y.jsx("th",{children:"Data"}),Y.jsx("th",{children:"Comprador"}),Y.jsx("th",{children:"Itens"}),Y.jsx("th",{children:"Total"}),Y.jsx("th",{children:"Status"}),Y.jsx("th",{children:"Acoes"})]})}),Y.jsx("tbody",{children:l.map(e=>{var t,n,a;return Y.jsxs("tr",{children:[Y.jsxs("td",{className:"order-id",children:["#",e.mlOrderId]}),Y.jsx("td",{children:E(e.dateCreated)}),Y.jsx("td",{children:Y.jsx("div",{className:"buyer-info",children:Y.jsx("span",{children:(null==(t=e.buyer)?void 0:t.nickname)||"N/A"})})}),Y.jsx("td",{children:Y.jsxs("div",{className:"items-preview",children:[null==(n=e.orderItems)?void 0:n.slice(0,2).map((e,t)=>{var n;return Y.jsxs("span",{className:"item-title",children:[null==(n=e.title)?void 0:n.substring(0,30),"..."]},t)}),(null==(a=e.orderItems)?void 0:a.length)>2&&Y.jsxs("span",{className:"more-items",children:["+",e.orderItems.length-2," mais"]})]})}),Y.jsx("td",{className:"order-total",children:P(e.totalAmount,e.currencyId)}),Y.jsx("td",{children:Y.jsx("span",{className:`badge ${C(e.status)}`,children:e.status})}),Y.jsx("td",{children:Y.jsxs("div",{className:"action-buttons",children:[Y.jsx("button",{className:"btn-icon",title:"Ver detalhes",onClick:()=>(async e=>{try{const t=await Ef.get(`/orders/${i}/${e}`);j(t.data.order),w(!0)}catch(t){y("Erro ao carregar detalhes do pedido")}})(e.mlOrderId),children:Y.jsx("span",{className:"material-icons",children:"visibility"})}),Y.jsx("a",{href:`https://www.mercadolivre.com.br/vendas/${e.mlOrderId}/detalhe`,target:"_blank",rel:"noopener noreferrer",className:"btn-icon",title:"Ver no ML",children:Y.jsx("span",{className:"material-icons",children:"open_in_new"})})]})})]},e._id||e.mlOrderId)})})]})}),N&&b&&Y.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:Y.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsxs("h2",{children:["Pedido #",b.mlOrderId]}),Y.jsx("button",{className:"btn-close",onClick:()=>w(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"order-detail-section",children:[Y.jsx("h3",{children:"Informacoes Gerais"}),Y.jsxs("div",{className:"detail-grid",children:[Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Status"}),Y.jsx("span",{className:`badge ${C(b.status)}`,children:b.status})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Data"}),Y.jsx("span",{children:E(b.dateCreated)})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Total"}),Y.jsx("span",{className:"total-value",children:P(b.totalAmount,b.currencyId)})]})]})]}),Y.jsxs("div",{className:"order-detail-section",children:[Y.jsx("h3",{children:"Comprador"}),Y.jsxs("div",{className:"detail-grid",children:[Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Nickname"}),Y.jsx("span",{children:null==(e=b.buyer)?void 0:e.nickname})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Email"}),Y.jsx("span",{children:(null==(t=b.buyer)?void 0:t.email)||"N/A"})]})]})]}),Y.jsxs("div",{className:"order-detail-section",children:[Y.jsx("h3",{children:"Itens do Pedido"}),Y.jsx("div",{className:"order-items-list",children:null==(n=b.orderItems)?void 0:n.map((e,t)=>Y.jsxs("div",{className:"order-item-card",children:[e.thumbnail&&Y.jsx("img",{src:e.thumbnail,alt:e.title}),Y.jsxs("div",{className:"item-details",children:[Y.jsx("span",{className:"item-title",children:e.title}),Y.jsxs("span",{className:"item-qty",children:["Qtd: ",e.quantity]}),Y.jsx("span",{className:"item-price",children:P(e.unitPrice*e.quantity,b.currencyId)})]})]},t))})]}),b.shipping&&Y.jsxs("div",{className:"order-detail-section",children:[Y.jsx("h3",{children:"Envio"}),Y.jsxs("div",{className:"detail-grid",children:[Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"ID Envio"}),Y.jsx("span",{children:b.shipping.id})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Status"}),Y.jsx("span",{children:b.shipping.status})]})]})]})]})]})})]})}function _K(){var e;const{token:t}=_f(),[n,a]=z.useState([]),[r,s]=z.useState(""),[i,o]=z.useState([]),[l,c]=z.useState(null),[u,d]=z.useState(!1),[h,p]=z.useState(!1),[m,f]=z.useState(null),[v,y]=z.useState("unanswered"),[x,g]=z.useState({show:!1,question:null}),[b,j]=z.useState(""),[N,w]=z.useState(!1);z.useEffect(()=>{S()},[]),z.useEffect(()=>{r&&(k(),O())},[r,v]);const S=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];a(n),n.length>0&&s(n[0].id)}catch(t){f("Erro ao carregar contas")}},k=async()=>{d(!0),f(null);try{const e="unanswered"===v?`/questions/${r}/unanswered`:`/questions/${r}`,t=await Ef.get(e);o(t.data.questions||[])}catch(e){f("Erro ao carregar perguntas"),o([])}finally{d(!1)}},O=async()=>{try{const e=await Ef.get(`/questions/${r}/stats`);c(e.data)}catch(e){console.error("Erro ao carregar estatisticas:",e)}},C=()=>{g({show:!1,question:null}),j("")},P=e=>{const t=new Date,n=new Date(e),a=Math.floor((t-n)/1e3/60);return a<60?`${a} min atras`:a<1440?`${Math.floor(a/60)}h atras`:`${Math.floor(a/1440)} dias atras`};return Y.jsxs("div",{className:"questions-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"help"}),"Perguntas"]}),Y.jsx("p",{children:"Responda as perguntas dos compradores"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:r,onChange:e=>s(e.target.value),children:n.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("button",{className:"btn btn-primary",onClick:async()=>{p(!0);try{await Ef.post(`/questions/${r}/sync`),await k(),await O()}catch(e){f("Erro ao sincronizar perguntas")}finally{p(!1)}},disabled:h||!r,children:[Y.jsx("span",{className:"material-icons",children:"sync"}),h?"Sincronizando...":"Sincronizar"]})]})]}),l&&Y.jsxs("div",{className:"stats-grid",children:[Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon blue",children:Y.jsx("span",{className:"material-icons",children:"quiz"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:l.total||0}),Y.jsx("span",{className:"stat-label",children:"Total"})]})]}),Y.jsxs("div",{className:"stat-card urgent",children:[Y.jsx("div",{className:"stat-icon red",children:Y.jsx("span",{className:"material-icons",children:"priority_high"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:l.unanswered||0}),Y.jsx("span",{className:"stat-label",children:"Nao Respondidas"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon green",children:Y.jsx("span",{className:"material-icons",children:"check_circle"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:l.answered||0}),Y.jsx("span",{className:"stat-label",children:"Respondidas"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon purple",children:Y.jsx("span",{className:"material-icons",children:"timer"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:l.avgResponseTime||"N/A"}),Y.jsx("span",{className:"stat-label",children:"Tempo Medio Resposta"})]})]})]}),Y.jsx("div",{className:"filters-bar",children:Y.jsxs("div",{className:"filter-tabs",children:[Y.jsxs("button",{className:"filter-tab "+("unanswered"===v?"active":""),onClick:()=>y("unanswered"),children:[Y.jsx("span",{className:"material-icons",children:"schedule"}),"Pendentes",(null==l?void 0:l.unanswered)>0&&Y.jsx("span",{className:"tab-badge",children:l.unanswered})]}),Y.jsxs("button",{className:"filter-tab "+("all"===v?"active":""),onClick:()=>y("all"),children:[Y.jsx("span",{className:"material-icons",children:"list"}),"Todas"]})]})}),m&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),m]}),Y.jsx("div",{className:"questions-list",children:u?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando perguntas..."})]}):0===i.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"chat_bubble_outline"}),Y.jsx("h3",{children:"Nenhuma pergunta encontrada"}),Y.jsx("p",{children:"unanswered"===v?"Voce respondeu todas as perguntas!":"Clique em sincronizar para buscar perguntas"})]}):i.map(e=>{var t,n,a,r;return Y.jsxs("div",{className:"question-card",children:[Y.jsxs("div",{className:"question-header",children:[Y.jsxs("div",{className:"question-product",children:[(null==(t=e.item)?void 0:t.thumbnail)&&Y.jsx("img",{src:e.item.thumbnail,alt:"",className:"product-thumb"}),Y.jsxs("div",{className:"product-info",children:[Y.jsx("span",{className:"product-title",children:(null==(n=e.item)?void 0:n.title)||"Produto"}),Y.jsxs("span",{className:"product-id",children:["MLB",e.itemId]})]})]}),Y.jsxs("div",{className:"question-meta",children:[Y.jsxs("span",{className:"question-time",children:[Y.jsx("span",{className:"material-icons",children:"schedule"}),P(e.dateCreated)]}),Y.jsx("span",{className:`question-status ${e.status}`,children:"UNANSWERED"===e.status?"Pendente":"Respondida"})]})]}),Y.jsxs("div",{className:"question-body",children:[Y.jsxs("div",{className:"question-text",children:[Y.jsxs("span",{className:"from-label",children:[Y.jsx("span",{className:"material-icons",children:"person"}),(null==(a=e.from)?void 0:a.nickname)||"Comprador"]}),Y.jsx("p",{children:e.text})]}),e.answer&&Y.jsxs("div",{className:"answer-text",children:[Y.jsxs("span",{className:"from-label",children:[Y.jsx("span",{className:"material-icons",children:"store"}),"Sua resposta"]}),Y.jsx("p",{children:e.answer.text}),Y.jsxs("span",{className:"answer-date",children:["Respondido em ",(r=e.answer.dateCreated,new Date(r).toLocaleString("pt-BR"))]})]})]}),"UNANSWERED"===e.status&&Y.jsxs("div",{className:"question-actions",children:[Y.jsxs("button",{className:"btn btn-primary",onClick:()=>(e=>{g({show:!0,question:e}),j("")})(e),children:[Y.jsx("span",{className:"material-icons",children:"reply"}),"Responder"]}),Y.jsxs("a",{href:`https://www.mercadolivre.com.br/perguntas/vendedor?itemId=${e.itemId}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"open_in_new"}),"Ver no ML"]})]})]},e._id||e.mlQuestionId)})}),x.show&&Y.jsx("div",{className:"modal-overlay",onClick:C,children:Y.jsxs("div",{className:"modal-content answer-modal",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsx("h2",{children:"Responder Pergunta"}),Y.jsx("button",{className:"btn-close",onClick:C,children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"original-question",children:[Y.jsx("label",{children:"Pergunta:"}),Y.jsx("p",{children:null==(e=x.question)?void 0:e.text})]}),Y.jsxs("div",{className:"answer-form",children:[Y.jsx("label",{children:"Sua resposta:"}),Y.jsx("textarea",{value:b,onChange:e=>j(e.target.value),placeholder:"Digite sua resposta...",rows:4,maxLength:2e3}),Y.jsxs("span",{className:"char-count",children:[b.length,"/2000"]})]})]}),Y.jsxs("div",{className:"modal-footer",children:[Y.jsx("button",{className:"btn btn-secondary",onClick:C,children:"Cancelar"}),Y.jsx("button",{className:"btn btn-primary",onClick:async()=>{if(b.trim()){w(!0);try{await Ef.post(`/questions/${r}/${x.question.mlQuestionId}/answer`,{text:b}),C(),await k(),await O()}catch(e){f("Erro ao enviar resposta")}finally{w(!1)}}},disabled:N||!b.trim(),children:N?"Enviando...":"Enviar Resposta"})]})]})})]})}function AK(){var e,t,n;const{token:a}=_f(),[r,s]=z.useState([]),[i,o]=z.useState(""),[l,c]=z.useState([]),[u,d]=z.useState(!1),[h,p]=z.useState(!1),[m,f]=z.useState(null),[v,y]=z.useState("pending"),[x,g]=z.useState(null),[b,j]=z.useState(!1),[N,w]=z.useState(null);z.useEffect(()=>{S()},[]),z.useEffect(()=>{i&&k()},[i,v]);const S=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];s(n),n.length>0&&o(n[0].id)}catch(t){f("Erro ao carregar contas")}},k=async()=>{d(!0),f(null);try{const e="pending"===v?`/shipments/${i}/pending`:`/shipments/${i}`,t=await Ef.get(e);c(t.data.shipments||[])}catch(e){f("Erro ao carregar envios"),c([])}finally{d(!1)}},O=e=>({pending:"badge-warning",ready_to_ship:"badge-info",shipped:"badge-primary",delivered:"badge-success",not_delivered:"badge-danger",cancelled:"badge-danger"}[e]||"badge-secondary"),C=e=>({pending:"Pendente",ready_to_ship:"Pronto para Envio",shipped:"Enviado",delivered:"Entregue",not_delivered:"Nao Entregue",cancelled:"Cancelado"}[e]||e),P=e=>e?new Date(e).toLocaleString("pt-BR"):"N/A";return Y.jsxs("div",{className:"shipments-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"local_shipping"}),"Envios"]}),Y.jsx("p",{children:"Gerencie os envios dos seus pedidos"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:i,onChange:e=>o(e.target.value),children:r.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("button",{className:"btn btn-primary",onClick:async()=>{p(!0);try{await Ef.post(`/shipments/${i}/sync`),await k()}catch(e){f("Erro ao sincronizar envios")}finally{p(!1)}},disabled:h||!i,children:[Y.jsx("span",{className:"material-icons",children:"sync"}),h?"Sincronizando...":"Sincronizar"]})]})]}),Y.jsx("div",{className:"filters-bar",children:Y.jsxs("div",{className:"filter-tabs",children:[Y.jsxs("button",{className:"filter-tab "+("pending"===v?"active":""),onClick:()=>y("pending"),children:[Y.jsx("span",{className:"material-icons",children:"pending_actions"}),"Pendentes"]}),Y.jsxs("button",{className:"filter-tab "+("all"===v?"active":""),onClick:()=>y("all"),children:[Y.jsx("span",{className:"material-icons",children:"list"}),"Todos"]})]})}),m&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),m]}),Y.jsx("div",{className:"shipments-grid",children:u?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando envios..."})]}):0===l.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),Y.jsx("h3",{children:"Nenhum envio encontrado"}),Y.jsx("p",{children:"Clique em sincronizar para buscar envios"})]}):l.map(e=>{var t,n;return Y.jsxs("div",{className:"shipment-card",children:[Y.jsxs("div",{className:"shipment-header",children:[Y.jsxs("div",{className:"shipment-id",children:[Y.jsx("span",{className:"material-icons",children:"local_shipping"}),"#",e.mlShipmentId]}),Y.jsx("span",{className:`badge ${O(e.status)}`,children:C(e.status)})]}),Y.jsxs("div",{className:"shipment-body",children:[Y.jsxs("div",{className:"shipment-info",children:[Y.jsxs("div",{className:"info-row",children:[Y.jsx("span",{className:"material-icons",children:"shopping_bag"}),Y.jsxs("span",{children:["Pedido: #",e.orderId]})]}),Y.jsxs("div",{className:"info-row",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),Y.jsx("span",{children:e.logisticType||"N/A"})]}),Y.jsxs("div",{className:"info-row",children:[Y.jsx("span",{className:"material-icons",children:"schedule"}),Y.jsx("span",{children:P(e.dateCreated)})]})]}),e.receiverAddress&&Y.jsxs("div",{className:"shipment-address",children:[Y.jsx("span",{className:"material-icons",children:"place"}),Y.jsxs("span",{children:[null==(t=e.receiverAddress.city)?void 0:t.name,", ",null==(n=e.receiverAddress.state)?void 0:n.name]})]})]}),Y.jsxs("div",{className:"shipment-actions",children:[Y.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>(async e=>{try{const[t,n]=await Promise.all([Ef.get(`/shipments/${i}/${e}`),Ef.get(`/shipments/${i}/${e}/tracking`)]);g(t.data.shipment),w(n.data.tracking),j(!0)}catch(t){f("Erro ao carregar detalhes do envio")}})(e.mlShipmentId),children:[Y.jsx("span",{className:"material-icons",children:"visibility"}),"Detalhes"]}),["ready_to_ship","pending"].includes(e.status)&&Y.jsxs("button",{className:"btn btn-sm btn-primary",onClick:()=>(async e=>{try{const t=await Ef.get(`/shipments/${i}/${e}/label`);t.data.labelUrl&&window.open(t.data.labelUrl,"_blank")}catch(t){f("Erro ao baixar etiqueta")}})(e.mlShipmentId),children:[Y.jsx("span",{className:"material-icons",children:"print"}),"Etiqueta"]})]})]},e._id||e.mlShipmentId)})}),b&&x&&Y.jsx("div",{className:"modal-overlay",onClick:()=>j(!1),children:Y.jsxs("div",{className:"modal-content shipment-modal",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsxs("h2",{children:["Envio #",x.mlShipmentId]}),Y.jsx("button",{className:"btn-close",onClick:()=>j(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"shipment-detail-section",children:[Y.jsx("h3",{children:"Status"}),Y.jsx("span",{className:`badge ${O(x.status)}`,children:C(x.status)})]}),Y.jsxs("div",{className:"shipment-detail-section",children:[Y.jsx("h3",{children:"Informacoes de Entrega"}),Y.jsxs("div",{className:"detail-grid",children:[Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Tipo Logistico"}),Y.jsx("span",{children:x.logisticType||"N/A"})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Modo de Envio"}),Y.jsx("span",{children:x.shippingMode||"N/A"})]}),x.trackingNumber&&Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Codigo de Rastreio"}),Y.jsx("span",{className:"tracking-code",children:x.trackingNumber})]})]})]}),x.receiverAddress&&Y.jsxs("div",{className:"shipment-detail-section",children:[Y.jsx("h3",{children:"Endereco de Entrega"}),Y.jsxs("div",{className:"address-block",children:[Y.jsxs("p",{children:[x.receiverAddress.streetName,", ",x.receiverAddress.streetNumber]}),x.receiverAddress.comment&&Y.jsx("p",{children:x.receiverAddress.comment}),Y.jsxs("p",{children:[null==(e=x.receiverAddress.city)?void 0:e.name," - ",null==(t=x.receiverAddress.state)?void 0:t.name]}),Y.jsxs("p",{children:["CEP: ",x.receiverAddress.zipCode]})]})]}),N&&(null==(n=N.history)?void 0:n.length)>0&&Y.jsxs("div",{className:"shipment-detail-section",children:[Y.jsx("h3",{children:"Historico de Rastreamento"}),Y.jsx("div",{className:"tracking-timeline",children:N.history.map((e,t)=>Y.jsxs("div",{className:"tracking-event",children:[Y.jsx("div",{className:"event-dot"}),Y.jsxs("div",{className:"event-content",children:[Y.jsx("span",{className:"event-status",children:e.status}),Y.jsx("span",{className:"event-date",children:P(e.date)}),e.description&&Y.jsx("span",{className:"event-desc",children:e.description})]})]},t))})]})]})]})})]})}function TK(){const{token:e}=_f(),[t,n]=z.useState([]),[a,r]=z.useState(""),[s,i]=z.useState([]),[o,l]=z.useState(!1),[c,u]=z.useState(!1),[d,h]=z.useState(null),[p,m]=z.useState("unread"),[f,v]=z.useState(null),[y,x]=z.useState([]),[g,b]=z.useState(""),[j,N]=z.useState(!1);z.useEffect(()=>{w()},[]),z.useEffect(()=>{a&&S()},[a,p]);const w=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),a=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];n(a),a.length>0&&r(a[0].id)}catch(t){h("Erro ao carregar contas")}},S=async()=>{l(!0),h(null);try{const e="unread"===p?`/messages/${a}/unread`:`/messages/${a}`,t=await Ef.get(e);i(t.data.messages||[])}catch(e){h("Erro ao carregar mensagens"),i([])}finally{l(!1)}},k=async e=>{try{const t=await Ef.get(`/messages/${a}/pack/${e}`);x(t.data.messages||[]),v(e)}catch(t){h("Erro ao carregar conversa")}},O=async()=>{if(g.trim()&&f){N(!0);try{await Ef.post(`/messages/${a}/pack/${f}`,{text:g}),b(""),await k(f)}catch(e){h("Erro ao enviar mensagem")}finally{N(!1)}}},C=e=>{if(!e)return"";const t=new Date(e),n=new Date,a=Math.floor((n-t)/1e3/60);return a<60?`${a}min`:a<1440?`${Math.floor(a/60)}h`:t.toLocaleDateString("pt-BR")};return Y.jsxs("div",{className:"messages-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"chat"}),"Mensagens"]}),Y.jsx("p",{children:"Conversas pos-venda com compradores"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:a,onChange:e=>r(e.target.value),children:t.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("button",{className:"btn btn-primary",onClick:async()=>{u(!0);try{await Ef.post(`/messages/${a}/sync`),await S()}catch(e){h("Erro ao sincronizar mensagens")}finally{u(!1)}},disabled:c||!a,children:[Y.jsx("span",{className:"material-icons",children:"sync"}),c?"Sincronizando...":"Sincronizar"]})]})]}),Y.jsxs("div",{className:"messages-container",children:[Y.jsxs("div",{className:"conversations-panel",children:[Y.jsx("div",{className:"panel-header",children:Y.jsxs("div",{className:"filter-tabs compact",children:[Y.jsx("button",{className:"filter-tab "+("unread"===p?"active":""),onClick:()=>m("unread"),children:"Nao lidas"}),Y.jsx("button",{className:"filter-tab "+("all"===p?"active":""),onClick:()=>m("all"),children:"Todas"})]})}),Y.jsx("div",{className:"conversations-list",children:o?Y.jsx("div",{className:"loading-state small",children:Y.jsx("div",{className:"spinner"})}):0===s.length?Y.jsxs("div",{className:"empty-state small",children:[Y.jsx("span",{className:"material-icons",children:"chat_bubble_outline"}),Y.jsx("p",{children:"Nenhuma mensagem"})]}):s.map(e=>{var t,n,a,r;return Y.jsxs("div",{className:`conversation-item ${f===e.packId?"active":""} ${e.read?"":"unread"}`,onClick:()=>k(e.packId),children:[Y.jsx("div",{className:"conv-avatar",children:(null==(n=null==(t=e.from)?void 0:t.nickname)?void 0:n.charAt(0))||"C"}),Y.jsxs("div",{className:"conv-content",children:[Y.jsxs("div",{className:"conv-header",children:[Y.jsx("span",{className:"conv-name",children:(null==(a=e.from)?void 0:a.nickname)||"Comprador"}),Y.jsx("span",{className:"conv-time",children:C(e.dateReceived)})]}),Y.jsxs("div",{className:"conv-preview",children:[Y.jsxs("span",{className:"conv-order",children:["Pedido #",e.orderId]}),Y.jsxs("p",{className:"conv-text",children:[null==(r=e.text)?void 0:r.substring(0,50),"..."]})]})]}),!e.read&&Y.jsx("div",{className:"unread-dot"})]},e._id||e.packId)})})]}),Y.jsx("div",{className:"chat-panel",children:f?Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"chat-header",children:[Y.jsxs("div",{className:"chat-info",children:[Y.jsx("span",{className:"material-icons",children:"shopping_bag"}),Y.jsxs("span",{children:["Pedido #",f]})]}),Y.jsxs("a",{href:`https://www.mercadolivre.com.br/vendas/mensagens/${f}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"open_in_new"}),"Ver no ML"]})]}),Y.jsx("div",{className:"chat-messages",children:y.map((e,n)=>{var r,s;return Y.jsx("div",{className:"message-bubble "+((null==(r=e.from)?void 0:r.userId)===(null==(s=t.find(e=>e.id===a))?void 0:s.mlUserId)?"sent":"received"),children:Y.jsxs("div",{className:"bubble-content",children:[Y.jsx("p",{children:e.text}),Y.jsx("span",{className:"bubble-time",children:C(e.dateSent||e.dateReceived)})]})},n)})}),Y.jsxs("div",{className:"chat-input",children:[Y.jsx("textarea",{value:g,onChange:e=>b(e.target.value),placeholder:"Digite sua mensagem...",rows:2,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),O())}}),Y.jsx("button",{className:"btn btn-primary",onClick:O,disabled:j||!g.trim(),children:Y.jsx("span",{className:"material-icons",children:"send"})})]})]}):Y.jsxs("div",{className:"chat-placeholder",children:[Y.jsx("span",{className:"material-icons",children:"forum"}),Y.jsx("h3",{children:"Selecione uma conversa"}),Y.jsx("p",{children:"Escolha uma conversa ao lado para visualizar as mensagens"})]})})]}),d&&Y.jsxs("div",{className:"alert alert-danger floating",children:[Y.jsx("span",{className:"material-icons",children:"error"}),d,Y.jsx("button",{onClick:()=>h(null),children:Y.jsx("span",{className:"material-icons",children:"close"})})]})]})}function MK(){const{token:e}=_f(),[t,n]=z.useState([]),[a,r]=z.useState(""),[s,i]=z.useState("promotions"),[o,l]=z.useState([]),[c,u]=z.useState([]),[d,h]=z.useState([]),[p,m]=z.useState([]),[f,v]=z.useState([]),[y,x]=z.useState(!1),[g,b]=z.useState(!1),[j,N]=z.useState(null),[w,S]=z.useState("active"),[k,O]=z.useState(!1),[C,P]=z.useState("promotion"),[E,_]=z.useState({activePromotions:0,totalSavings:0,itemsOnPromo:0,activeCoupons:0,couponRedemptions:0}),[A,T]=z.useState({type:"percentage",name:"",discountValue:"",startDate:"",endDate:"",selectedItems:[],minPurchase:"",maxDiscount:""}),[M,R]=z.useState({code:"",discountType:"percentage",discountValue:"",minPurchase:"",maxUses:"",startDate:"",endDate:"",selectedItems:[]});z.useEffect(()=>{D()},[]),z.useEffect(()=>{a&&I()},[a]);const D=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),a=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];n(a),a.length>0&&r(a[0].id)}catch(t){N("Erro ao carregar contas")}},I=async()=>{x(!0);try{await Promise.all([L(),B(),F(),$(),U()]),q()}catch(e){console.error("Error loading data:",e)}finally{x(!1)}},L=async()=>{try{const e=await Ef.get(`/promotions/${a}/active`);l(e.data.promotions||[])}catch(e){l([{id:"promo_1",name:"Promocao de Verao",type:"percentage",status:"active",discountPercentage:15,originalPrice:299.9,newPrice:254.92,startDate:"2024-01-10",endDate:"2024-01-31",itemsCount:45,sales:128,revenue:32500},{id:"promo_2",name:"Liquidacao Eletronicos",type:"fixed",status:"active",discountValue:50,startDate:"2024-01-15",endDate:"2024-02-15",itemsCount:23,sales:67,revenue:18900},{id:"promo_3",name:"Oferta Relampago",type:"lightning",status:"pending",discountPercentage:30,startDate:"2024-01-20",endDate:"2024-01-20",itemsCount:5,sales:0,revenue:0}])}},B=async()=>{try{const e=await Ef.get(`/promotions/${a}/deals`);u(e.data.deals||[])}catch(e){u([{id:"deal_1",name:"Oferta do Dia - Smartphones",type:"dod",status:"active",discountPercentage:25,item:{id:"MLB123456789",title:"Smartphone Samsung Galaxy S21",price:2499,thumbnail:"/placeholder.png"},date:"2024-01-15",stock:50,sold:23,views:1250},{id:"deal_2",name:"Lightning Deal - Fones",type:"lightning",status:"scheduled",discountPercentage:40,item:{id:"MLB987654321",title:"Fone JBL Tune 510BT",price:249,thumbnail:"/placeholder.png"},startTime:"2024-01-16T14:00:00",endTime:"2024-01-16T18:00:00",stock:30,sold:0}])}},F=async()=>{try{const e=await Ef.get(`/coupons/${a}`);h(e.data.coupons||[])}catch(e){h([{id:"coupon_1",code:"VERAO10",discountType:"percentage",discountValue:10,minPurchase:100,maxUses:500,usedCount:234,status:"active",startDate:"2024-01-01",endDate:"2024-01-31"},{id:"coupon_2",code:"FRETE50",discountType:"fixed",discountValue:50,minPurchase:200,maxUses:100,usedCount:89,status:"active",startDate:"2024-01-10",endDate:"2024-02-10"},{id:"coupon_3",code:"NOVOCLIENTE",discountType:"percentage",discountValue:15,minPurchase:0,maxUses:1e3,usedCount:567,status:"active",startDate:"2024-01-01",endDate:"2024-12-31"}])}},$=async()=>{try{const e=await Ef.get(`/promotions/${a}/campaigns`);m(e.data.campaigns||[])}catch(e){m([{id:"camp_1",name:"Campanha de Verao ML",description:"Ofertas especiais de verao com ate 50% OFF",status:"active",startDate:"2024-01-01",endDate:"2024-02-28",participatingItems:120},{id:"camp_2",name:"Ofertas do Dia",description:"Produtos selecionados com desconto especial por 24h",status:"active",startDate:"2024-01-01",endDate:"2024-12-31",participatingItems:45}])}},U=async()=>{try{const e=await Ef.get(`/items/${a}?limit=50`);v(e.data.data||[])}catch(e){v([{id:"MLB123",title:"Produto 1",price:199.9,thumbnail:"/placeholder.png"},{id:"MLB456",title:"Produto 2",price:299.9,thumbnail:"/placeholder.png"},{id:"MLB789",title:"Produto 3",price:399.9,thumbnail:"/placeholder.png"}])}},q=()=>{_({activePromotions:o.filter(e=>"active"===e.status).length,totalSavings:o.reduce((e,t)=>e+(t.originalPrice-t.newPrice)*(t.sales||0),0),itemsOnPromo:o.reduce((e,t)=>e+(t.itemsCount||0),0),activeCoupons:d.filter(e=>"active"===e.status).length,couponRedemptions:d.reduce((e,t)=>e+(t.usedCount||0),0)})},V=()=>{T({type:"percentage",name:"",discountValue:"",startDate:"",endDate:"",selectedItems:[],minPurchase:"",maxDiscount:""}),R({code:"",discountType:"percentage",discountValue:"",minPurchase:"",maxUses:"",startDate:"",endDate:"",selectedItems:[]})},W=e=>({active:"success",pending:"warning",scheduled:"info",finished:"secondary",cancelled:"danger",paused:"warning"}[e]||"secondary"),K=e=>({active:"Ativa",pending:"Pendente",scheduled:"Agendada",finished:"Encerrada",cancelled:"Cancelada",paused:"Pausada"}[e]||e),H=e=>e?new Date(e).toLocaleDateString("pt-BR"):"N/A",G=e=>e?new Date(e).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):"N/A",Q=(e,t="BRL")=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:t}).format(e||0),X=e=>{P(e),O(!0)};return o.filter(e=>"percentage"===e.type).length,o.filter(e=>"fixed"===e.type).length,o.filter(e=>"lightning"===e.type).length,c.filter(e=>"dod"===e.type).length,Y.jsxs("div",{className:"promotions-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"sell"}),"Promocoes e Cupons"]}),Y.jsx("p",{children:"Gerencie promocoes, ofertas do dia, ofertas relampago e cupons de desconto"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:a,onChange:e=>r(e.target.value),children:t.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("button",{className:"btn btn-secondary",onClick:async()=>{b(!0);try{await Ef.post(`/promotions/${a}/sync`),await I()}catch(e){N("Erro ao sincronizar promocoes")}finally{b(!1)}},disabled:g||!a,children:[Y.jsx("span",{className:"material-icons",children:"sync"}),g?"Sincronizando...":"Sincronizar"]}),Y.jsxs("div",{className:"dropdown",children:[Y.jsxs("button",{className:"btn btn-primary dropdown-toggle",children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Criar Novo"]}),Y.jsxs("div",{className:"dropdown-menu",children:[Y.jsxs("button",{onClick:()=>X("promotion"),children:[Y.jsx("span",{className:"material-icons",children:"local_offer"}),"Promocao"]}),Y.jsxs("button",{onClick:()=>X("deal"),children:[Y.jsx("span",{className:"material-icons",children:"bolt"}),"Oferta Relampago"]}),Y.jsxs("button",{onClick:()=>X("coupon"),children:[Y.jsx("span",{className:"material-icons",children:"confirmation_number"}),"Cupom"]})]})]})]})]}),Y.jsxs("div",{className:"stats-grid",children:[Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon blue",children:Y.jsx("span",{className:"material-icons",children:"local_offer"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:E.activePromotions}),Y.jsx("span",{className:"stat-label",children:"Promocoes Ativas"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon green",children:Y.jsx("span",{className:"material-icons",children:"inventory_2"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:E.itemsOnPromo}),Y.jsx("span",{className:"stat-label",children:"Produtos em Promocao"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon purple",children:Y.jsx("span",{className:"material-icons",children:"confirmation_number"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:E.activeCoupons}),Y.jsx("span",{className:"stat-label",children:"Cupons Ativos"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon orange",children:Y.jsx("span",{className:"material-icons",children:"redeem"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:E.couponRedemptions}),Y.jsx("span",{className:"stat-label",children:"Cupons Resgatados"})]})]})]}),Y.jsxs("div",{className:"tabs",children:[Y.jsxs("button",{className:"tab "+("promotions"===s?"active":""),onClick:()=>i("promotions"),children:[Y.jsx("span",{className:"material-icons",children:"local_offer"}),"Promocoes"]}),Y.jsxs("button",{className:"tab "+("deals"===s?"active":""),onClick:()=>i("deals"),children:[Y.jsx("span",{className:"material-icons",children:"bolt"}),"Ofertas Especiais"]}),Y.jsxs("button",{className:"tab "+("coupons"===s?"active":""),onClick:()=>i("coupons"),children:[Y.jsx("span",{className:"material-icons",children:"confirmation_number"}),"Cupons"]}),Y.jsxs("button",{className:"tab "+("campaigns"===s?"active":""),onClick:()=>i("campaigns"),children:[Y.jsx("span",{className:"material-icons",children:"campaign"}),"Campanhas ML"]})]}),j&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),j,Y.jsx("button",{onClick:()=>N(null),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),y?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando..."})]}):Y.jsxs(Y.Fragment,{children:["promotions"===s&&Y.jsxs("div",{className:"section",children:[Y.jsxs("div",{className:"section-header",children:[Y.jsx("h2",{children:"Promocoes Ativas"}),Y.jsxs("div",{className:"filter-tabs",children:[Y.jsx("button",{className:"filter-tab "+("active"===w?"active":""),onClick:()=>S("active"),children:"Ativas"}),Y.jsx("button",{className:"filter-tab "+("all"===w?"active":""),onClick:()=>S("all"),children:"Todas"})]})]}),0===o.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"local_offer"}),Y.jsx("h3",{children:"Nenhuma promocao encontrada"}),Y.jsx("p",{children:"Crie sua primeira promocao para comecar a vender mais"}),Y.jsxs("button",{className:"btn btn-primary",onClick:()=>X("promotion"),children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Criar Promocao"]})]}):Y.jsx("div",{className:"promotions-grid",children:o.filter(e=>"all"===w||"active"===e.status).map(e=>Y.jsxs("div",{className:`promotion-card ${e.status}`,children:[Y.jsxs("div",{className:"promotion-header",children:[Y.jsx("span",{className:`status-badge ${W(e.status)}`,children:K(e.status)}),Y.jsx("span",{className:"promotion-type",children:"percentage"===e.type?"Percentual":"fixed"===e.type?"Valor Fixo":"lightning"===e.type?"Relampago":e.type})]}),Y.jsxs("div",{className:"promotion-body",children:[Y.jsx("h3",{children:e.name}),Y.jsx("div",{className:"discount-badge",children:e.discountPercentage?`${e.discountPercentage}% OFF`:e.discountValue?`R$ ${e.discountValue} OFF`:""}),Y.jsxs("div",{className:"promotion-details",children:[Y.jsxs("div",{className:"detail-item",children:[Y.jsx("span",{className:"material-icons",children:"date_range"}),Y.jsxs("span",{children:[H(e.startDate)," - ",H(e.endDate)]})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),Y.jsxs("span",{children:[e.itemsCount," produto(s)"]})]}),e.sales>0&&Y.jsxs("div",{className:"detail-item",children:[Y.jsx("span",{className:"material-icons",children:"shopping_cart"}),Y.jsxs("span",{children:[e.sales," vendas"]})]})]}),e.revenue>0&&Y.jsxs("div",{className:"promotion-revenue",children:[Y.jsx("span",{className:"label",children:"Receita gerada:"}),Y.jsx("span",{className:"value",children:Q(e.revenue)})]})]}),Y.jsxs("div",{className:"promotion-actions",children:[Y.jsxs("button",{className:"btn btn-sm btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"edit"}),"Editar"]}),"active"===e.status&&Y.jsxs("button",{className:"btn btn-sm btn-danger",onClick:()=>(async e=>{if(confirm("Tem certeza que deseja cancelar esta promocao?"))try{await Ef.delete(`/promotions/${a}/${e}`),await L()}catch(t){l(t=>t.filter(t=>t.id!==e))}})(e.id),children:[Y.jsx("span",{className:"material-icons",children:"cancel"}),"Cancelar"]})]})]},e.id))})]}),"deals"===s&&Y.jsxs("div",{className:"section",children:[Y.jsx("div",{className:"section-header",children:Y.jsx("h2",{children:"Ofertas Especiais"})}),Y.jsxs("div",{className:"deals-info-cards",children:[Y.jsxs("div",{className:"info-card dod",children:[Y.jsx("div",{className:"info-icon",children:Y.jsx("span",{className:"material-icons",children:"wb_sunny"})}),Y.jsxs("div",{className:"info-content",children:[Y.jsx("h4",{children:"Oferta do Dia (DOD)"}),Y.jsx("p",{children:"Produto em destaque por 24 horas com desconto especial. Aparece na pagina principal do ML."})]}),Y.jsx("button",{className:"btn btn-primary",onClick:()=>X("dod"),children:"Criar DOD"})]}),Y.jsxs("div",{className:"info-card lightning",children:[Y.jsx("div",{className:"info-icon",children:Y.jsx("span",{className:"material-icons",children:"bolt"})}),Y.jsxs("div",{className:"info-content",children:[Y.jsx("h4",{children:"Oferta Relampago"}),Y.jsx("p",{children:"Promocao de tempo limitado (2-8 horas) com desconto agressivo e estoque limitado."})]}),Y.jsx("button",{className:"btn btn-primary",onClick:()=>X("lightning"),children:"Criar Relampago"})]})]}),0===c.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"bolt"}),Y.jsx("h3",{children:"Nenhuma oferta especial"}),Y.jsx("p",{children:"Crie ofertas do dia ou ofertas relampago para aumentar suas vendas"})]}):Y.jsx("div",{className:"deals-list",children:c.map(e=>{var t,n,a,r,s;return Y.jsxs("div",{className:`deal-card ${e.type} ${e.status}`,children:[Y.jsxs("div",{className:"deal-badge",children:[Y.jsx("span",{className:"material-icons",children:"dod"===e.type?"wb_sunny":"bolt"}),"dod"===e.type?"Oferta do Dia":"Relampago"]}),Y.jsxs("div",{className:"deal-product",children:[Y.jsx("img",{src:(null==(t=e.item)?void 0:t.thumbnail)||"/placeholder.png",alt:""}),Y.jsxs("div",{className:"product-info",children:[Y.jsx("h4",{children:null==(n=e.item)?void 0:n.title}),Y.jsx("p",{className:"product-id",children:null==(a=e.item)?void 0:a.id})]})]}),Y.jsxs("div",{className:"deal-discount",children:[Y.jsxs("span",{className:"discount-value",children:[e.discountPercentage,"% OFF"]}),Y.jsxs("div",{className:"price-comparison",children:[Y.jsx("span",{className:"original",children:Q(null==(r=e.item)?void 0:r.price)}),Y.jsx("span",{className:"new",children:Q((null==(s=e.item)?void 0:s.price)*(1-e.discountPercentage/100))})]})]}),Y.jsxs("div",{className:"deal-stats",children:[Y.jsxs("div",{className:"stat",children:[Y.jsx("span",{className:"label",children:"Estoque"}),Y.jsx("span",{className:"value",children:e.stock})]}),Y.jsxs("div",{className:"stat",children:[Y.jsx("span",{className:"label",children:"Vendidos"}),Y.jsx("span",{className:"value",children:e.sold})]}),e.views&&Y.jsxs("div",{className:"stat",children:[Y.jsx("span",{className:"label",children:"Visualizacoes"}),Y.jsx("span",{className:"value",children:e.views})]})]}),Y.jsxs("div",{className:"deal-timing",children:[Y.jsx("span",{className:"material-icons",children:"schedule"}),"dod"===e.type?H(e.date):`${G(e.startTime)} - ${G(e.endTime)}`]}),Y.jsx("div",{className:"deal-status",children:Y.jsx("span",{className:`status-badge ${W(e.status)}`,children:K(e.status)})})]},e.id)})})]}),"coupons"===s&&Y.jsxs("div",{className:"section",children:[Y.jsxs("div",{className:"section-header",children:[Y.jsx("h2",{children:"Cupons de Desconto"}),Y.jsxs("button",{className:"btn btn-primary",onClick:()=>X("coupon"),children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Novo Cupom"]})]}),0===d.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"confirmation_number"}),Y.jsx("h3",{children:"Nenhum cupom criado"}),Y.jsx("p",{children:"Crie cupons de desconto para fidelizar seus clientes"}),Y.jsxs("button",{className:"btn btn-primary",onClick:()=>X("coupon"),children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Criar Cupom"]})]}):Y.jsx("div",{className:"coupons-grid",children:d.map(e=>Y.jsxs("div",{className:`coupon-card ${e.status}`,children:[Y.jsxs("div",{className:"coupon-code",children:[Y.jsx("span",{className:"code",children:e.code}),Y.jsx("button",{className:"btn-icon",title:"Copiar codigo",children:Y.jsx("span",{className:"material-icons",children:"content_copy"})})]}),Y.jsx("div",{className:"coupon-discount",children:"percentage"===e.discountType?`${e.discountValue}% OFF`:`R$ ${e.discountValue} OFF`}),Y.jsxs("div",{className:"coupon-details",children:[e.minPurchase>0&&Y.jsxs("div",{className:"detail",children:[Y.jsx("span",{className:"material-icons",children:"shopping_cart"}),Y.jsxs("span",{children:["Minimo: ",Q(e.minPurchase)]})]}),Y.jsxs("div",{className:"detail",children:[Y.jsx("span",{className:"material-icons",children:"date_range"}),Y.jsxs("span",{children:[H(e.startDate)," - ",H(e.endDate)]})]})]}),Y.jsxs("div",{className:"coupon-usage",children:[Y.jsx("div",{className:"usage-bar",children:Y.jsx("div",{className:"usage-fill",style:{width:`${Math.min(e.usedCount/e.maxUses*100,100)}%`}})}),Y.jsxs("span",{className:"usage-text",children:[e.usedCount," / ",e.maxUses," utilizacoes"]})]}),Y.jsxs("div",{className:"coupon-actions",children:[Y.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>(async(e,t)=>{const n="active"===t?"paused":"active";try{await Ef.put(`/coupons/${a}/${e}/status`,{status:n}),h(t=>t.map(t=>t.id===e?{...t,status:n}:t))}catch(r){h(t=>t.map(t=>t.id===e?{...t,status:n}:t))}})(e.id,e.status),children:[Y.jsx("span",{className:"material-icons",children:"active"===e.status?"pause":"play_arrow"}),"active"===e.status?"Pausar":"Ativar"]}),Y.jsxs("button",{className:"btn btn-sm btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"edit"}),"Editar"]})]})]},e.id))})]}),"campaigns"===s&&Y.jsxs("div",{className:"section",children:[Y.jsx("div",{className:"section-header",children:Y.jsx("h2",{children:"Campanhas do Mercado Livre"})}),Y.jsxs("div",{className:"info-banner",children:[Y.jsx("span",{className:"material-icons",children:"info"}),Y.jsxs("div",{children:[Y.jsx("strong",{children:"Campanhas Promocionais do ML"}),Y.jsx("p",{children:"Participe das campanhas oficiais do Mercado Livre para aumentar a visibilidade dos seus produtos."})]})]}),0===p.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"campaign"}),Y.jsx("h3",{children:"Nenhuma campanha disponivel"}),Y.jsx("p",{children:"Quando houver campanhas disponiveis, elas aparecerao aqui"})]}):Y.jsx("div",{className:"campaigns-grid",children:p.map(e=>Y.jsxs("div",{className:`campaign-card ${e.status}`,children:[Y.jsxs("div",{className:"campaign-header",children:[Y.jsx("h3",{children:e.name}),Y.jsx("span",{className:`status-badge ${W(e.status)}`,children:K(e.status)})]}),Y.jsx("p",{className:"campaign-description",children:e.description}),Y.jsxs("div",{className:"campaign-details",children:[Y.jsxs("div",{className:"detail",children:[Y.jsx("span",{className:"material-icons",children:"date_range"}),Y.jsxs("span",{children:[H(e.startDate)," - ",H(e.endDate)]})]}),Y.jsxs("div",{className:"detail",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),Y.jsxs("span",{children:[e.participatingItems," produtos participando"]})]})]}),Y.jsxs("div",{className:"campaign-actions",children:[Y.jsxs("button",{className:"btn btn-primary",children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Participar"]}),Y.jsxs("a",{href:"https://www.mercadolivre.com.br/anuncios/promocoes",target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"open_in_new"}),"Ver no ML"]})]})]},e.id))})]})]}),k&&Y.jsx("div",{className:"modal-overlay",onClick:()=>O(!1),children:Y.jsxs("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsxs("h2",{children:[Y.jsx("span",{className:"material-icons",children:"coupon"===C?"confirmation_number":"deal"===C||"lightning"===C?"bolt":"dod"===C?"wb_sunny":"local_offer"}),"promotion"===C?"Nova Promocao":"coupon"===C?"Novo Cupom":"deal"===C||"lightning"===C?"Nova Oferta Relampago":"dod"===C?"Nova Oferta do Dia":"Criar"]}),Y.jsx("button",{className:"btn-icon",onClick:()=>O(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[("promotion"===C||"deal"===C||"lightning"===C||"dod"===C)&&Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Informacoes da Promocao"}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Nome da Promocao"}),Y.jsx("input",{type:"text",value:A.name,onChange:e=>T(t=>({...t,name:e.target.value})),placeholder:"Ex: Promocao de Verao"})]}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Tipo de Desconto"}),Y.jsxs("select",{value:A.type,onChange:e=>T(t=>({...t,type:e.target.value})),children:[Y.jsx("option",{value:"percentage",children:"Percentual (%)"}),Y.jsx("option",{value:"fixed",children:"Valor Fixo (R$)"})]})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Valor do Desconto"}),Y.jsx("input",{type:"number",value:A.discountValue,onChange:e=>T(t=>({...t,discountValue:e.target.value})),placeholder:"percentage"===A.type?"15":"50.00"})]})]})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Periodo"}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Data de Inicio"}),Y.jsx("input",{type:"date",value:A.startDate,onChange:e=>T(t=>({...t,startDate:e.target.value}))})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Data de Termino"}),Y.jsx("input",{type:"date",value:A.endDate,onChange:e=>T(t=>({...t,endDate:e.target.value}))})]})]})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Restricoes (opcional)"}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Compra Minima (R$)"}),Y.jsx("input",{type:"number",value:A.minPurchase,onChange:e=>T(t=>({...t,minPurchase:e.target.value})),placeholder:"0.00"})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Desconto Maximo (R$)"}),Y.jsx("input",{type:"number",value:A.maxDiscount,onChange:e=>T(t=>({...t,maxDiscount:e.target.value})),placeholder:"Sem limite"})]})]})]})]}),"coupon"===C&&Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Informacoes do Cupom"}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Codigo do Cupom"}),Y.jsx("input",{type:"text",value:M.code,onChange:e=>R(t=>({...t,code:e.target.value.toUpperCase()})),placeholder:"Ex: VERAO10",maxLength:20}),Y.jsx("span",{className:"input-hint",children:"Use letras maiusculas e numeros, sem espacos"})]}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Tipo de Desconto"}),Y.jsxs("select",{value:M.discountType,onChange:e=>R(t=>({...t,discountType:e.target.value})),children:[Y.jsx("option",{value:"percentage",children:"Percentual (%)"}),Y.jsx("option",{value:"fixed",children:"Valor Fixo (R$)"})]})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Valor do Desconto"}),Y.jsx("input",{type:"number",value:M.discountValue,onChange:e=>R(t=>({...t,discountValue:e.target.value})),placeholder:"percentage"===M.discountType?"10":"20.00"})]})]})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Restricoes"}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Compra Minima (R$)"}),Y.jsx("input",{type:"number",value:M.minPurchase,onChange:e=>R(t=>({...t,minPurchase:e.target.value})),placeholder:"0.00"})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Limite de Usos"}),Y.jsx("input",{type:"number",value:M.maxUses,onChange:e=>R(t=>({...t,maxUses:e.target.value})),placeholder:"500"})]})]})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Validade"}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Data de Inicio"}),Y.jsx("input",{type:"date",value:M.startDate,onChange:e=>R(t=>({...t,startDate:e.target.value}))})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Data de Termino"}),Y.jsx("input",{type:"date",value:M.endDate,onChange:e=>R(t=>({...t,endDate:e.target.value}))})]})]})]})]})]}),Y.jsxs("div",{className:"modal-footer",children:[Y.jsx("button",{className:"btn btn-secondary",onClick:()=>O(!1),children:"Cancelar"}),Y.jsxs("button",{className:"btn btn-primary",onClick:"coupon"===C?async()=>{try{const e={...M,discountValue:parseFloat(M.discountValue)||0,minPurchase:parseFloat(M.minPurchase)||0,maxUses:parseInt(M.maxUses)||0};await Ef.post(`/coupons/${a}`,e),O(!1),await F(),V()}catch(e){const t={id:`coupon_${Date.now()}`,...M,status:"active",usedCount:0};h(e=>[...e,t]),O(!1),V()}}:async()=>{try{const e={...A,discountValue:parseFloat(A.discountValue)||0,minPurchase:parseFloat(A.minPurchase)||0,maxDiscount:parseFloat(A.maxDiscount)||0};await Ef.post(`/promotions/${a}`,e),O(!1),await L(),V()}catch(e){const t={id:`promo_${Date.now()}`,...A,status:"active",itemsCount:A.selectedItems.length,sales:0,revenue:0};l(e=>[...e,t]),O(!1),V()}},children:[Y.jsx("span",{className:"material-icons",children:"check"}),"coupon"===C?"Criar Cupom":"Criar Promocao"]})]})]})})]})}function RK(){var e;const{token:t}=_f(),[n,a]=z.useState([]),[r,s]=z.useState(""),[i,o]=z.useState([]),[l,c]=z.useState(!1),[u,d]=z.useState(!1),[h,p]=z.useState(null),[m,f]=z.useState("open"),[v,y]=z.useState(null),[x,g]=z.useState(!1),[b,j]=z.useState(""),[N,w]=z.useState(!1);z.useEffect(()=>{S()},[]),z.useEffect(()=>{r&&k()},[r,m]);const S=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];a(n),n.length>0&&s(n[0].id)}catch(t){p("Erro ao carregar contas")}},k=async()=>{c(!0),p(null);try{const e="open"===m?`/claims/${r}/open`:`/claims/${r}`,t=await Ef.get(e);o(t.data.claims||[])}catch(e){p("Erro ao carregar reclamacoes"),o([])}finally{c(!1)}},O=async e=>{try{const t=await Ef.get(`/claims/${r}/${e}`);y(t.data.claim),g(!0)}catch(t){p("Erro ao carregar detalhes")}},C=e=>({opened:"badge-warning",closed:"badge-secondary",claim_closed:"badge-secondary",dispute:"badge-danger",mediation:"badge-info"}[e]||"badge-secondary"),P=e=>({opened:"Aberta",closed:"Fechada",claim_closed:"Encerrada",dispute:"Disputa",mediation:"Mediacao"}[e]||e),E=e=>e?new Date(e).toLocaleString("pt-BR"):"N/A";return Y.jsxs("div",{className:"claims-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"report_problem"}),"Reclamacoes"]}),Y.jsx("p",{children:"Gerencie reclamacoes e mediacoes"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:r,onChange:e=>s(e.target.value),children:n.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("button",{className:"btn btn-primary",onClick:async()=>{d(!0);try{await Ef.post(`/claims/${r}/sync`),await k()}catch(e){p("Erro ao sincronizar reclamacoes")}finally{d(!1)}},disabled:u||!r,children:[Y.jsx("span",{className:"material-icons",children:"sync"}),u?"Sincronizando...":"Sincronizar"]})]})]}),Y.jsx("div",{className:"filters-bar",children:Y.jsxs("div",{className:"filter-tabs",children:[Y.jsxs("button",{className:"filter-tab "+("open"===m?"active":""),onClick:()=>f("open"),children:[Y.jsx("span",{className:"material-icons",children:"priority_high"}),"Abertas"]}),Y.jsxs("button",{className:"filter-tab "+("all"===m?"active":""),onClick:()=>f("all"),children:[Y.jsx("span",{className:"material-icons",children:"list"}),"Todas"]})]})}),h&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),h]}),Y.jsx("div",{className:"claims-list",children:l?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando reclamacoes..."})]}):0===i.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"verified"}),Y.jsx("h3",{children:"Nenhuma reclamacao encontrada"}),Y.jsx("p",{children:"open"===m?"Voce nao tem reclamacoes abertas!":"Suas reclamacoes aparecerao aqui"})]}):i.map(e=>{var t;return Y.jsxs("div",{className:"claim-card",children:[Y.jsxs("div",{className:"claim-header",children:[Y.jsxs("div",{className:"claim-id",children:[Y.jsx("span",{className:"material-icons",children:"report"}),"#",e.mlClaimId]}),Y.jsx("span",{className:`badge ${C(e.status)}`,children:P(e.status)})]}),Y.jsxs("div",{className:"claim-body",children:[Y.jsxs("div",{className:"claim-reason",children:[Y.jsx("h4",{children:e.reason||"Reclamacao"}),e.resourceId&&Y.jsxs("span",{className:"claim-resource",children:["Pedido: #",e.resourceId]})]}),Y.jsxs("div",{className:"claim-info",children:[Y.jsxs("div",{className:"info-item",children:[Y.jsx("span",{className:"material-icons",children:"person"}),Y.jsx("span",{children:(null==(t=e.buyer)?void 0:t.nickname)||"Comprador"})]}),Y.jsxs("div",{className:"info-item",children:[Y.jsx("span",{className:"material-icons",children:"schedule"}),Y.jsx("span",{children:E(e.dateCreated)})]}),e.type&&Y.jsxs("div",{className:"info-item",children:[Y.jsx("span",{className:"material-icons",children:"category"}),Y.jsx("span",{children:e.type})]})]})]}),Y.jsxs("div",{className:"claim-actions",children:[Y.jsxs("button",{className:"btn btn-sm btn-primary",onClick:()=>O(e.mlClaimId),children:[Y.jsx("span",{className:"material-icons",children:"visibility"}),"Ver Detalhes"]}),Y.jsxs("a",{href:`https://www.mercadolivre.com.br/vendas/reclamacoes/${e.mlClaimId}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"open_in_new"}),"Ver no ML"]})]})]},e._id||e.mlClaimId)})}),x&&v&&Y.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:Y.jsxs("div",{className:"modal-content claim-modal",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsxs("h2",{children:["Reclamacao #",v.mlClaimId]}),Y.jsx("button",{className:"btn-close",onClick:()=>g(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"claim-detail-section",children:[Y.jsx("h3",{children:"Informacoes"}),Y.jsxs("div",{className:"detail-grid",children:[Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Status"}),Y.jsx("span",{className:`badge ${C(v.status)}`,children:P(v.status)})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Motivo"}),Y.jsx("span",{children:v.reason||"N/A"})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Data"}),Y.jsx("span",{children:E(v.dateCreated)})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Comprador"}),Y.jsx("span",{children:(null==(e=v.buyer)?void 0:e.nickname)||"N/A"})]})]})]}),v.messages&&v.messages.length>0&&Y.jsxs("div",{className:"claim-detail-section",children:[Y.jsx("h3",{children:"Historico de Mensagens"}),Y.jsx("div",{className:"claim-messages",children:v.messages.map((e,t)=>Y.jsxs("div",{className:"claim-message "+("seller"===e.senderRole?"sent":"received"),children:[Y.jsxs("div",{className:"message-header",children:[Y.jsx("span",{className:"sender",children:"seller"===e.senderRole?"Voce":"Comprador"}),Y.jsx("span",{className:"date",children:E(e.dateCreated)})]}),Y.jsx("p",{children:e.text})]},t))})]}),"closed"!==v.status&&"claim_closed"!==v.status&&Y.jsxs("div",{className:"claim-detail-section",children:[Y.jsx("h3",{children:"Responder"}),Y.jsxs("div",{className:"message-form",children:[Y.jsx("textarea",{value:b,onChange:e=>j(e.target.value),placeholder:"Digite sua resposta...",rows:3}),Y.jsx("button",{className:"btn btn-primary",onClick:async()=>{if(b.trim()&&v){w(!0);try{await Ef.post(`/claims/${r}/${v.mlClaimId}/message`,{text:b}),j(""),await O(v.mlClaimId)}catch(e){p("Erro ao enviar mensagem")}finally{w(!1)}}},disabled:N||!b.trim(),children:N?"Enviando...":"Enviar"})]})]})]})]})})]})}function DK(){var e,t;const{token:n}=_f(),[a,r]=z.useState([]),[s,i]=z.useState(""),[o,l]=z.useState([]),[c,u]=z.useState(null),[d,h]=z.useState(!1),[p,m]=z.useState(null),[f,v]=z.useState("unread");z.useEffect(()=>{y()},[]),z.useEffect(()=>{s&&(x(),g())},[s,f]);const y=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];r(n),n.length>0&&i(n[0].id)}catch(t){m("Erro ao carregar contas")}},x=async()=>{h(!0),m(null);try{const e="unread"===f?`/notifications/${s}/unread`:`/notifications/${s}`,t=await Ef.get(e);l(t.data.notifications||[])}catch(e){m("Erro ao carregar notificacoes"),l([])}finally{h(!1)}},g=async()=>{try{const e=await Ef.get(`/notifications/${s}/stats`);u(e.data)}catch(e){console.error("Erro ao carregar estatisticas:",e)}},b=e=>({orders_v2:"Pedido",questions:"Pergunta",items:"Anuncio",messages:"Mensagem",shipments:"Envio",claims:"Reclamacao",payments:"Pagamento"}[e]||e),j=e=>{if(!e)return"";const t=new Date(e),n=new Date,a=Math.floor((n-t)/1e3/60);return a<60?`${a} min atras`:a<1440?`${Math.floor(a/60)}h atras`:t.toLocaleString("pt-BR")};return Y.jsxs("div",{className:"notifications-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"notifications"}),"Notificacoes"]}),Y.jsx("p",{children:"Historico de webhooks do Mercado Livre"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:s,onChange:e=>i(e.target.value),children:a.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),(null==c?void 0:c.unread)>0&&Y.jsxs("button",{className:"btn btn-secondary",onClick:async()=>{try{await Ef.put(`/notifications/${s}/read-all`),await x(),await g()}catch(e){m("Erro ao marcar todas como lidas")}},children:[Y.jsx("span",{className:"material-icons",children:"done_all"}),"Marcar todas como lidas"]})]})]}),c&&Y.jsxs("div",{className:"stats-grid",children:[Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon blue",children:Y.jsx("span",{className:"material-icons",children:"notifications"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:c.total||0}),Y.jsx("span",{className:"stat-label",children:"Total"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon red",children:Y.jsx("span",{className:"material-icons",children:"mark_email_unread"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:c.unread||0}),Y.jsx("span",{className:"stat-label",children:"Nao Lidas"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon green",children:Y.jsx("span",{className:"material-icons",children:"shopping_cart"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:(null==(e=c.byTopic)?void 0:e.orders_v2)||0}),Y.jsx("span",{className:"stat-label",children:"Pedidos"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon yellow",children:Y.jsx("span",{className:"material-icons",children:"help"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:(null==(t=c.byTopic)?void 0:t.questions)||0}),Y.jsx("span",{className:"stat-label",children:"Perguntas"})]})]})]}),Y.jsx("div",{className:"filters-bar",children:Y.jsxs("div",{className:"filter-tabs",children:[Y.jsxs("button",{className:"filter-tab "+("unread"===f?"active":""),onClick:()=>v("unread"),children:[Y.jsx("span",{className:"material-icons",children:"mark_email_unread"}),"Nao Lidas",(null==c?void 0:c.unread)>0&&Y.jsx("span",{className:"tab-badge",children:c.unread})]}),Y.jsxs("button",{className:"filter-tab "+("all"===f?"active":""),onClick:()=>v("all"),children:[Y.jsx("span",{className:"material-icons",children:"list"}),"Todas"]})]})}),p&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),p]}),Y.jsx("div",{className:"notifications-list",children:d?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando notificacoes..."})]}):0===o.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"notifications_none"}),Y.jsx("h3",{children:"Nenhuma notificacao encontrada"}),Y.jsx("p",{children:"unread"===f?"Voce nao tem notificacoes nao lidas!":"As notificacoes de webhooks aparecerao aqui"})]}):o.map(e=>{return Y.jsxs("div",{className:"notification-item "+(e.read?"":"unread"),onClick:()=>!e.read&&(async e=>{try{await Ef.put(`/notifications/${s}/${e}/read`),await x(),await g()}catch(t){m("Erro ao marcar como lida")}})(e._id),children:[Y.jsx("div",{className:`notification-icon ${e.topic}`,children:Y.jsx("span",{className:"material-icons",children:(t=e.topic,{orders_v2:"shopping_cart",questions:"help",items:"inventory_2",messages:"chat",shipments:"local_shipping",claims:"report_problem",payments:"payment"}[t]||"notifications")})}),Y.jsxs("div",{className:"notification-content",children:[Y.jsxs("div",{className:"notification-header",children:[Y.jsx("span",{className:"notification-type",children:b(e.topic)}),Y.jsx("span",{className:"notification-time",children:j(e.receivedAt)})]}),Y.jsxs("div",{className:"notification-body",children:[Y.jsx("p",{className:"notification-resource",children:e.resource||"N/A"}),e.attempts&&Y.jsxs("span",{className:"notification-attempts",children:["Tentativas: ",e.attempts]})]})]}),!e.read&&Y.jsx("div",{className:"unread-indicator",children:Y.jsx("span",{className:"material-icons",children:"fiber_manual_record"})})]},e._id);var t})})]})}function IK(){const{token:e}=_f(),[t,n]=z.useState([]),[a,r]=z.useState(""),[s,i]=z.useState([]),[o,l]=z.useState(!1),[c,u]=z.useState(null),[d,h]=z.useState({status:"",search:""}),[p,m]=z.useState({offset:0,limit:20,total:0});z.useEffect(()=>{f()},[]),z.useEffect(()=>{a&&v()},[a,d,p.offset]);const f=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),a=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];n(a),a.length>0&&r(a[0].id)}catch(t){u("Erro ao carregar contas")}},v=async()=>{l(!0),u(null);try{const e=new URLSearchParams;e.append("offset",p.offset),e.append("limit",p.limit),d.status&&e.append("status",d.status),d.search&&e.append("search",d.search);const t=await Ef.get(`/items/${a}?${e}`);i(t.data.items||[]),m(e=>({...e,total:t.data.total||0}))}catch(e){u("Erro ao carregar anuncios"),i([])}finally{l(!1)}},y=async(e,t)=>{try{await Ef.put(`/items/${a}/${e}/status`,{status:t}),await v()}catch(n){u("Erro ao atualizar status")}},x=e=>({active:"Ativo",paused:"Pausado",closed:"Encerrado",under_review:"Em Revisao"}[e]||e),g=(e,t="BRL")=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:t}).format(e),b=Math.ceil(p.total/p.limit),j=Math.floor(p.offset/p.limit)+1;return Y.jsxs("div",{className:"items-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),"Meus Anuncios"]}),Y.jsx("p",{children:"Gerencie seus anuncios do Mercado Livre"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:a,onChange:e=>r(e.target.value),children:t.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs(Ch,{to:"/items/create",className:"btn btn-primary",children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Novo Anuncio"]})]})]}),Y.jsxs("div",{className:"filters-bar",children:[Y.jsxs("div",{className:"filter-group",children:[Y.jsx("label",{children:"Status"}),Y.jsxs("select",{value:d.status,onChange:e=>h({...d,status:e.target.value}),children:[Y.jsx("option",{value:"",children:"Todos"}),Y.jsx("option",{value:"active",children:"Ativos"}),Y.jsx("option",{value:"paused",children:"Pausados"}),Y.jsx("option",{value:"closed",children:"Encerrados"})]})]}),Y.jsxs("div",{className:"filter-group search",children:[Y.jsx("label",{children:"Buscar"}),Y.jsx("input",{type:"text",placeholder:"Titulo ou ID do anuncio...",value:d.search,onChange:e=>h({...d,search:e.target.value})})]}),Y.jsx("div",{className:"filter-stats",children:Y.jsxs("span",{children:[p.total," anuncio(s) encontrado(s)"]})})]}),c&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),c]}),Y.jsx("div",{className:"items-grid",children:o?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando anuncios..."})]}):0===s.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),Y.jsx("h3",{children:"Nenhum anuncio encontrado"}),Y.jsx("p",{children:"Crie seu primeiro anuncio para comecar a vender"}),Y.jsxs(Ch,{to:"/items/create",className:"btn btn-primary",children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Criar Anuncio"]})]}):s.map(e=>{return Y.jsxs("div",{className:"item-card",children:[Y.jsxs("div",{className:"item-image",children:[e.thumbnail?Y.jsx("img",{src:e.thumbnail,alt:e.title}):Y.jsx("div",{className:"no-image",children:Y.jsx("span",{className:"material-icons",children:"image"})}),Y.jsx("span",{className:`badge ${t=e.status,{active:"badge-success",paused:"badge-warning",closed:"badge-danger",under_review:"badge-info"}[t]||"badge-secondary"}`,children:x(e.status)})]}),Y.jsxs("div",{className:"item-content",children:[Y.jsx("h3",{className:"item-title",children:e.title}),Y.jsxs("p",{className:"item-id",children:["MLB",e.mlItemId]}),Y.jsxs("div",{className:"item-stats",children:[Y.jsxs("div",{className:"stat",children:[Y.jsx("span",{className:"material-icons",children:"attach_money"}),Y.jsx("span",{children:g(e.price,e.currencyId)})]}),Y.jsxs("div",{className:"stat",children:[Y.jsx("span",{className:"material-icons",children:"inventory"}),Y.jsxs("span",{children:[e.availableQuantity||0," un."]})]}),Y.jsxs("div",{className:"stat",children:[Y.jsx("span",{className:"material-icons",children:"shopping_cart"}),Y.jsxs("span",{children:[e.soldQuantity||0," vendidos"]})]})]}),e.listingType&&Y.jsxs("div",{className:"item-listing-type",children:[Y.jsx("span",{className:"material-icons",children:"stars"}),Y.jsx("span",{children:e.listingType})]})]}),Y.jsxs("div",{className:"item-actions",children:[Y.jsxs(Ch,{to:`/items/${e.mlItemId}/edit`,className:"btn btn-sm btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"edit"}),"Editar"]}),"active"===e.status&&Y.jsxs("button",{className:"btn btn-sm btn-warning",onClick:()=>y(e.mlItemId,"paused"),children:[Y.jsx("span",{className:"material-icons",children:"pause"}),"Pausar"]}),"paused"===e.status&&Y.jsxs("button",{className:"btn btn-sm btn-success",onClick:()=>y(e.mlItemId,"active"),children:[Y.jsx("span",{className:"material-icons",children:"play_arrow"}),"Ativar"]}),Y.jsx("a",{href:e.permalink||`https://produto.mercadolivre.com.br/MLB-${e.mlItemId}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-secondary",children:Y.jsx("span",{className:"material-icons",children:"open_in_new"})})]})]},e._id||e.mlItemId);var t})}),p.total>p.limit&&Y.jsxs("div",{className:"pagination",children:[Y.jsxs("button",{className:"btn btn-sm btn-secondary",disabled:0===p.offset,onClick:()=>m(e=>({...e,offset:Math.max(0,e.offset-e.limit)})),children:[Y.jsx("span",{className:"material-icons",children:"chevron_left"}),"Anterior"]}),Y.jsxs("span",{className:"pagination-info",children:["Pagina ",j," de ",b]}),Y.jsxs("button",{className:"btn btn-sm btn-secondary",disabled:j>=b,onClick:()=>m(e=>({...e,offset:e.offset+e.limit})),children:["Proxima",Y.jsx("span",{className:"material-icons",children:"chevron_right"})]})]})]})}function LK(){const e=nh(),{token:t}=_f(),[n,a]=z.useState([]),[r,s]=z.useState(""),[i,o]=z.useState(!1),[l,c]=z.useState(null),[u,d]=z.useState(null),[h,p]=z.useState([]),[m,f]=z.useState(null),[v,y]=z.useState([]),[x,g]=z.useState([]),[b,j]=z.useState(""),[N,w]=z.useState(null),[S,k]=z.useState({title:"",categoryId:"",price:"",currencyId:"BRL",availableQuantity:1,buyingMode:"buy_it_now",condition:"new",listingTypeId:"gold_special",description:"",pictures:[],attributes:{}});z.useEffect(()=>{O(),C()},[]),z.useEffect(()=>{S.title.length>10&&E(S.title)},[S.title]),z.useEffect(()=>{S.categoryId&&_(S.categoryId)},[S.categoryId]);const O=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];a(n),n.length>0&&s(n[0].id)}catch(t){c("Erro ao carregar contas")}},C=async()=>{try{const e=await Ef.get("/catalog/listing-types");g(e.data.data||e.data.listingTypes||[])}catch(e){console.error("Erro ao carregar tipos de listagem:",e),g([{id:"gold_special",name:"Classico"},{id:"gold_pro",name:"Premium"},{id:"gold",name:"Ouro"},{id:"silver",name:"Prata"},{id:"bronze",name:"Bronze"},{id:"free",name:"Gratis"}])}},P=async()=>{if(b.trim())try{const e=await Ef.get(`/catalog/search?q=${encodeURIComponent(b)}`);p(e.data.results||[])}catch(e){c("Erro ao buscar categorias")}},E=async e=>{try{const t=await Ef.get(`/catalog/predict?title=${encodeURIComponent(e)}`);w(t.data.category)}catch(t){console.error("Erro ao prever categoria:",t)}},_=async e=>{try{const t=await Ef.get(`/catalog/categories/${e}/attributes`);y(t.data.attributes||[])}catch(t){console.error("Erro ao carregar atributos:",t)}},A=e=>{f(e),k(t=>({...t,categoryId:e.id})),p([]),j("")},T=e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:n}))},M=(e,t)=>{k(n=>({...n,attributes:{...n.attributes,[e]:t}}))};return Y.jsxs("div",{className:"item-create-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"add_box"}),"Criar Anuncio"]}),Y.jsx("p",{children:"Publique um novo produto no Mercado Livre"})]}),Y.jsx("div",{className:"header-actions",children:Y.jsx("select",{className:"account-select",value:r,onChange:e=>s(e.target.value),children:n.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))})})]}),l&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),l]}),u&&Y.jsxs("div",{className:"alert alert-success",children:[Y.jsx("span",{className:"material-icons",children:"check_circle"}),u]}),Y.jsxs("form",{onSubmit:async t=>{var n,a;if(t.preventDefault(),r)if(S.categoryId)if(0!==S.pictures.length){o(!0),c(null);try{const t={title:S.title,category_id:S.categoryId,price:parseFloat(S.price),currency_id:S.currencyId,available_quantity:parseInt(S.availableQuantity),buying_mode:S.buyingMode,condition:S.condition,listing_type_id:S.listingTypeId,description:{plain_text:S.description},pictures:S.pictures,attributes:Object.entries(S.attributes).map(([e,t])=>({id:e,value_name:t}))};await Ef.post(`/items/${r}`,t);d("Anuncio criado com sucesso!"),setTimeout(()=>{e("/items")},2e3)}catch(s){c((null==(a=null==(n=s.response)?void 0:n.data)?void 0:a.error)||"Erro ao criar anuncio")}finally{o(!1)}}else c("Adicione pelo menos uma imagem");else c("Selecione uma categoria");else c("Selecione uma conta")},className:"item-form",children:[Y.jsxs("div",{className:"form-section",children:[Y.jsxs("h2",{children:[Y.jsx("span",{className:"material-icons",children:"info"}),"Informacoes Basicas"]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Titulo do Anuncio *"}),Y.jsx("input",{type:"text",name:"title",value:S.title,onChange:T,placeholder:"Ex: Smartphone Samsung Galaxy S21 128GB",maxLength:60,required:!0}),Y.jsxs("span",{className:"char-count",children:[S.title.length,"/60"]})]}),N&&!S.categoryId&&Y.jsxs("div",{className:"predicted-category",children:[Y.jsx("span",{className:"material-icons",children:"lightbulb"}),Y.jsx("span",{children:"Categoria sugerida: "}),Y.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>A(N),children:N.name})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Categoria *"}),m?Y.jsxs("div",{className:"selected-category",children:[Y.jsx("span",{children:m.name}),Y.jsx("button",{type:"button",className:"btn-icon",onClick:()=>{f(null),k(e=>({...e,categoryId:""}))},children:Y.jsx("span",{className:"material-icons",children:"close"})})]}):Y.jsxs("div",{className:"category-search",children:[Y.jsx("input",{type:"text",value:b,onChange:e=>j(e.target.value),placeholder:"Buscar categoria...",onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),P())}),Y.jsx("button",{type:"button",onClick:P,className:"btn btn-secondary",children:Y.jsx("span",{className:"material-icons",children:"search"})})]}),h.length>0&&Y.jsx("div",{className:"category-results",children:h.map(e=>Y.jsx("button",{type:"button",className:"category-item",onClick:()=>A(e),children:e.name},e.id))})]}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Preco *"}),Y.jsxs("div",{className:"input-with-prefix",children:[Y.jsx("span",{className:"prefix",children:"R$"}),Y.jsx("input",{type:"number",name:"price",value:S.price,onChange:T,placeholder:"0,00",step:"0.01",min:"1",required:!0})]})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Quantidade *"}),Y.jsx("input",{type:"number",name:"availableQuantity",value:S.availableQuantity,onChange:T,min:"1",required:!0})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Condicao *"}),Y.jsxs("select",{name:"condition",value:S.condition,onChange:T,children:[Y.jsx("option",{value:"new",children:"Novo"}),Y.jsx("option",{value:"used",children:"Usado"})]})]})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Tipo de Listagem"}),Y.jsxs("select",{name:"listingTypeId",value:S.listingTypeId,onChange:T,children:[x.map(e=>Y.jsx("option",{value:e.id,children:e.name},e.id)),0===x.length&&Y.jsxs(Y.Fragment,{children:[Y.jsx("option",{value:"gold_special",children:"Classico"}),Y.jsx("option",{value:"gold_pro",children:"Premium"})]})]})]})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsxs("h2",{children:[Y.jsx("span",{className:"material-icons",children:"image"}),"Imagens"]}),Y.jsxs("div",{className:"pictures-grid",children:[S.pictures.map((e,t)=>Y.jsxs("div",{className:"picture-item",children:[Y.jsx("img",{src:e.source,alt:`Imagem ${t+1}`}),Y.jsx("button",{type:"button",className:"btn-remove",onClick:()=>(e=>{k(t=>({...t,pictures:t.pictures.filter((t,n)=>n!==e)}))})(t),children:Y.jsx("span",{className:"material-icons",children:"close"})})]},t)),Y.jsxs("button",{type:"button",className:"picture-add",onClick:()=>{const e=prompt("URL da imagem:");e&&k(t=>({...t,pictures:[...t.pictures,{source:e}]}))},children:[Y.jsx("span",{className:"material-icons",children:"add_photo_alternate"}),Y.jsx("span",{children:"Adicionar Imagem"})]})]}),Y.jsx("p",{className:"form-help",children:"Adicione URLs de imagens do produto (minimo 1)"})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsxs("h2",{children:[Y.jsx("span",{className:"material-icons",children:"description"}),"Descricao"]}),Y.jsx("div",{className:"form-group",children:Y.jsx("textarea",{name:"description",value:S.description,onChange:T,placeholder:"Descreva seu produto em detalhes...",rows:6})})]}),v.length>0&&Y.jsxs("div",{className:"form-section",children:[Y.jsxs("h2",{children:[Y.jsx("span",{className:"material-icons",children:"tune"}),"Atributos da Categoria"]}),Y.jsx("div",{className:"attributes-grid",children:v.filter(e=>{var t;return null==(t=e.tags)?void 0:t.required}).map(e=>{var t,n;return Y.jsxs("div",{className:"form-group",children:[Y.jsxs("label",{children:[e.name,(null==(t=e.tags)?void 0:t.required)&&Y.jsx("span",{className:"required",children:"*"})]}),(null==(n=e.values)?void 0:n.length)>0?Y.jsxs("select",{value:S.attributes[e.id]||"",onChange:t=>M(e.id,t.target.value),children:[Y.jsx("option",{value:"",children:"Selecione..."}),e.values.map(e=>Y.jsx("option",{value:e.name,children:e.name},e.id))]}):Y.jsx("input",{type:"text",value:S.attributes[e.id]||"",onChange:t=>M(e.id,t.target.value),placeholder:e.hint||""})]},e.id)})})]}),Y.jsxs("div",{className:"form-actions",children:[Y.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>e("/items"),children:"Cancelar"}),Y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"spinner small"}),"Publicando..."]}):Y.jsxs(Y.Fragment,{children:[Y.jsx("span",{className:"material-icons",children:"publish"}),"Publicar Anuncio"]})})]})]})]})}function BK(){const{itemId:e}=rh(),t=nh(),{token:n}=_f(),[a,r]=z.useState([]),[s,i]=z.useState(""),[o,l]=z.useState(!0),[c,u]=z.useState(!1),[d,h]=z.useState(null),[p,m]=z.useState(null),[f,v]=z.useState(null),[y,x]=z.useState({title:"",price:"",availableQuantity:1,description:"",pictures:[]});z.useEffect(()=>{g()},[]),z.useEffect(()=>{s&&e&&b()},[s,e]);const g=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];r(n),n.length>0&&i(n[0].id)}catch(t){h("Erro ao carregar contas"),l(!1)}},b=async()=>{var t;l(!0);try{const n=(await Ef.get(`/items/${s}/${e}`)).data.item;v(n),x({title:n.title||"",price:n.price||"",availableQuantity:n.availableQuantity||1,description:(null==(t=n.description)?void 0:t.plain_text)||"",pictures:n.pictures||[]})}catch(n){h("Erro ao carregar anuncio")}finally{l(!1)}},j=e=>{const{name:t,value:n}=e.target;x(e=>({...e,[t]:n}))},N=async t=>{try{await Ef.put(`/items/${s}/${e}/status`,{status:t}),await b(),m(`Status alterado para ${t}`),setTimeout(()=>m(null),3e3)}catch(n){h("Erro ao alterar status")}};return o?Y.jsx("div",{className:"item-edit-page",children:Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando anuncio..."})]})}):Y.jsxs("div",{className:"item-edit-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsx("button",{className:"btn-back",onClick:()=>t("/items"),children:Y.jsx("span",{className:"material-icons",children:"arrow_back"})}),Y.jsxs("div",{children:[Y.jsx("h1",{children:"Editar Anuncio"}),Y.jsxs("p",{children:["MLB",e]})]})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:s,onChange:e=>i(e.target.value),children:a.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("a",{href:(null==f?void 0:f.permalink)||`https://produto.mercadolivre.com.br/MLB-${e}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"open_in_new"}),"Ver no ML"]})]})]}),d&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),d]}),p&&Y.jsxs("div",{className:"alert alert-success",children:[Y.jsx("span",{className:"material-icons",children:"check_circle"}),p]}),f&&Y.jsxs("div",{className:"item-status-bar",children:[Y.jsxs("div",{className:"status-info",children:[Y.jsx("span",{className:"badge badge-"+("active"===f.status?"success":"paused"===f.status?"warning":"secondary"),children:f.status}),Y.jsxs("span",{className:"item-stats",children:[Y.jsx("span",{className:"material-icons",children:"visibility"}),f.visits||0," visitas"]}),Y.jsxs("span",{className:"item-stats",children:[Y.jsx("span",{className:"material-icons",children:"shopping_cart"}),f.soldQuantity||0," vendidos"]})]}),Y.jsxs("div",{className:"status-actions",children:["active"===f.status&&Y.jsxs("button",{className:"btn btn-sm btn-warning",onClick:()=>N("paused"),children:[Y.jsx("span",{className:"material-icons",children:"pause"}),"Pausar"]}),"paused"===f.status&&Y.jsxs("button",{className:"btn btn-sm btn-success",onClick:()=>N("active"),children:[Y.jsx("span",{className:"material-icons",children:"play_arrow"}),"Ativar"]}),"closed"===f.status&&Y.jsxs("button",{className:"btn btn-sm btn-primary",onClick:async()=>{try{await Ef.post(`/items/${s}/${e}/relist`),await b(),m("Anuncio republicado!")}catch(t){h("Erro ao republicar")}},children:[Y.jsx("span",{className:"material-icons",children:"refresh"}),"Republicar"]})]})]}),Y.jsxs("div",{className:"edit-sections",children:[Y.jsxs("div",{className:"edit-section",children:[Y.jsxs("div",{className:"section-header",children:[Y.jsxs("h2",{children:[Y.jsx("span",{className:"material-icons",children:"info"}),"Informacoes Basicas"]}),Y.jsx("button",{className:"btn btn-primary",onClick:async()=>{var t,n;u(!0),h(null);try{await Ef.put(`/items/${s}/${e}`,{title:y.title,price:parseFloat(y.price),available_quantity:parseInt(y.availableQuantity)}),m("Anuncio atualizado com sucesso!"),setTimeout(()=>m(null),3e3)}catch(a){h((null==(n=null==(t=a.response)?void 0:t.data)?void 0:n.error)||"Erro ao atualizar anuncio")}finally{u(!1)}},disabled:c,children:c?"Salvando...":"Salvar"})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Titulo"}),Y.jsx("input",{type:"text",name:"title",value:y.title,onChange:j,maxLength:60}),Y.jsxs("span",{className:"char-count",children:[y.title.length,"/60"]})]}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Preco"}),Y.jsxs("div",{className:"input-with-prefix",children:[Y.jsx("span",{className:"prefix",children:"R$"}),Y.jsx("input",{type:"number",name:"price",value:y.price,onChange:j,step:"0.01",min:"1"})]})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Quantidade Disponivel"}),Y.jsx("input",{type:"number",name:"availableQuantity",value:y.availableQuantity,onChange:j,min:"0"})]})]})]}),Y.jsxs("div",{className:"edit-section",children:[Y.jsxs("div",{className:"section-header",children:[Y.jsxs("h2",{children:[Y.jsx("span",{className:"material-icons",children:"image"}),"Imagens"]}),Y.jsx("button",{className:"btn btn-primary",onClick:async()=>{var t,n;u(!0),h(null);try{await Ef.put(`/items/${s}/${e}/pictures`,{pictures:y.pictures}),m("Imagens atualizadas!"),setTimeout(()=>m(null),3e3)}catch(a){h((null==(n=null==(t=a.response)?void 0:t.data)?void 0:n.error)||"Erro ao atualizar imagens")}finally{u(!1)}},disabled:c,children:c?"Salvando...":"Atualizar Imagens"})]}),Y.jsxs("div",{className:"pictures-grid",children:[y.pictures.map((e,t)=>Y.jsxs("div",{className:"picture-item",children:[Y.jsx("img",{src:e.source||e.url||e.secure_url,alt:`Imagem ${t+1}`}),Y.jsx("button",{type:"button",className:"btn-remove",onClick:()=>(e=>{x(t=>({...t,pictures:t.pictures.filter((t,n)=>n!==e)}))})(t),children:Y.jsx("span",{className:"material-icons",children:"close"})})]},t)),Y.jsxs("button",{type:"button",className:"picture-add",onClick:()=>{const e=prompt("URL da imagem:");e&&x(t=>({...t,pictures:[...t.pictures,{source:e}]}))},children:[Y.jsx("span",{className:"material-icons",children:"add_photo_alternate"}),Y.jsx("span",{children:"Adicionar"})]})]})]}),Y.jsxs("div",{className:"edit-section",children:[Y.jsxs("div",{className:"section-header",children:[Y.jsxs("h2",{children:[Y.jsx("span",{className:"material-icons",children:"description"}),"Descricao"]}),Y.jsx("button",{className:"btn btn-primary",onClick:async()=>{var t,n;u(!0),h(null);try{await Ef.put(`/items/${s}/${e}/description`,{plain_text:y.description}),m("Descricao atualizada!"),setTimeout(()=>m(null),3e3)}catch(a){h((null==(n=null==(t=a.response)?void 0:t.data)?void 0:n.error)||"Erro ao atualizar descricao")}finally{u(!1)}},disabled:c,children:c?"Salvando...":"Atualizar Descricao"})]}),Y.jsx("div",{className:"form-group",children:Y.jsx("textarea",{name:"description",value:y.description,onChange:j,rows:8,placeholder:"Descricao do produto..."})})]})]})]})}function FK(){var e,t,n,a,r,s,i,o,l,c,u,d,h;const{token:p}=_f(),[m,f]=z.useState([]),[v,y]=z.useState(""),[x,g]=z.useState(!1),[b,j]=z.useState(null),[N,w]=z.useState(null),[S,k]=z.useState(null),[O,C]=z.useState([]),[P,E]=z.useState([]),[_,A]=z.useState("30");z.useEffect(()=>{T()},[]),z.useEffect(()=>{v&&M()},[v,_]);const T=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];f(n),n.length>0&&y(n[0].id)}catch(t){j("Erro ao carregar contas")}},M=async()=>{g(!0),j(null);try{const[e,t,n,a]=await Promise.all([Ef.get(`/metrics/${v}`),Ef.get(`/metrics/${v}/reputation`),Ef.get(`/metrics/${v}/sales?days=${_}`),Ef.get(`/metrics/${v}/visits?days=${_}`)]);w(e.data),k(t.data.reputation),C(n.data.sales||[]),E(a.data.visits||[])}catch(e){j("Erro ao carregar metricas")}finally{g(!1)}},R=e=>`${(100*e).toFixed(1)}%`;return Y.jsxs("div",{className:"metrics-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"analytics"}),"Metricas"]}),Y.jsx("p",{children:"Analise de performance da sua conta"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:v,onChange:e=>y(e.target.value),children:m.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("select",{className:"period-select",value:_,onChange:e=>A(e.target.value),children:[Y.jsx("option",{value:"7",children:"Ultimos 7 dias"}),Y.jsx("option",{value:"30",children:"Ultimos 30 dias"}),Y.jsx("option",{value:"90",children:"Ultimos 90 dias"})]})]})]}),b&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),b]}),x?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando metricas..."})]}):Y.jsxs(Y.Fragment,{children:[S&&Y.jsxs("div",{className:"reputation-section",children:[Y.jsx("h2",{children:"Reputacao"}),Y.jsxs("div",{className:"reputation-card",children:[Y.jsxs("div",{className:"reputation-level",style:{backgroundColor:(I=S.level_id,{"5_green":"#22c55e","4_light_green":"#84cc16","3_yellow":"#eab308","2_orange":"#f97316","1_red":"#ef4444"}[I]||"#6b7280")},children:[Y.jsx("span",{className:"material-icons",children:"verified"}),Y.jsx("span",{children:(null==(e=S.level_id)?void 0:e.replace("_"," "))||"N/A"})]}),Y.jsxs("div",{className:"reputation-stats",children:[Y.jsxs("div",{className:"rep-stat",children:[Y.jsx("span",{className:"label",children:"Vendas Completadas"}),Y.jsx("span",{className:"value",children:(null==(t=S.transactions)?void 0:t.completed)||0})]}),Y.jsxs("div",{className:"rep-stat",children:[Y.jsx("span",{className:"label",children:"Vendas Canceladas"}),Y.jsx("span",{className:"value",children:(null==(n=S.transactions)?void 0:n.canceled)||0})]}),Y.jsxs("div",{className:"rep-stat",children:[Y.jsx("span",{className:"label",children:"Avaliacoes Positivas"}),Y.jsx("span",{className:"value",children:(null==(r=null==(a=S.transactions)?void 0:a.ratings)?void 0:r.positive)||0})]}),Y.jsxs("div",{className:"rep-stat",children:[Y.jsx("span",{className:"label",children:"Avaliacoes Negativas"}),Y.jsx("span",{className:"value",children:(null==(i=null==(s=S.transactions)?void 0:s.ratings)?void 0:i.negative)||0})]})]}),S.metrics&&Y.jsxs("div",{className:"reputation-metrics",children:[Y.jsxs("div",{className:"metric-bar",children:[Y.jsx("span",{className:"label",children:"Vendas"}),Y.jsx("div",{className:"bar",children:Y.jsx("div",{className:"fill green",style:{width:100*((null==(o=S.metrics.sales)?void 0:o.completed)||0)+"%"}})}),Y.jsx("span",{className:"value",children:R((null==(l=S.metrics.sales)?void 0:l.completed)||0)})]}),Y.jsxs("div",{className:"metric-bar",children:[Y.jsx("span",{className:"label",children:"Reclamacoes"}),Y.jsx("div",{className:"bar",children:Y.jsx("div",{className:"fill red",style:{width:100*((null==(c=S.metrics.claims)?void 0:c.rate)||0)+"%"}})}),Y.jsx("span",{className:"value",children:R((null==(u=S.metrics.claims)?void 0:u.rate)||0)})]}),Y.jsxs("div",{className:"metric-bar",children:[Y.jsx("span",{className:"label",children:"Atrasos"}),Y.jsx("div",{className:"bar",children:Y.jsx("div",{className:"fill yellow",style:{width:100*((null==(d=S.metrics.delayed_handling_time)?void 0:d.rate)||0)+"%"}})}),Y.jsx("span",{className:"value",children:R((null==(h=S.metrics.delayed_handling_time)?void 0:h.rate)||0)})]})]})]})]}),N&&Y.jsxs("div",{className:"metrics-overview",children:[Y.jsxs("div",{className:"metric-card",children:[Y.jsx("div",{className:"metric-icon blue",children:Y.jsx("span",{className:"material-icons",children:"shopping_cart"})}),Y.jsxs("div",{className:"metric-info",children:[Y.jsx("span",{className:"metric-value",children:N.totalOrders||0}),Y.jsx("span",{className:"metric-label",children:"Pedidos"})]})]}),Y.jsxs("div",{className:"metric-card",children:[Y.jsx("div",{className:"metric-icon green",children:Y.jsx("span",{className:"material-icons",children:"attach_money"})}),Y.jsxs("div",{className:"metric-info",children:[Y.jsx("span",{className:"metric-value",children:(D=N.totalRevenue||0,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(D))}),Y.jsx("span",{className:"metric-label",children:"Receita"})]})]}),Y.jsxs("div",{className:"metric-card",children:[Y.jsx("div",{className:"metric-icon purple",children:Y.jsx("span",{className:"material-icons",children:"visibility"})}),Y.jsxs("div",{className:"metric-info",children:[Y.jsx("span",{className:"metric-value",children:N.totalVisits||0}),Y.jsx("span",{className:"metric-label",children:"Visitas"})]})]}),Y.jsxs("div",{className:"metric-card",children:[Y.jsx("div",{className:"metric-icon yellow",children:Y.jsx("span",{className:"material-icons",children:"trending_up"})}),Y.jsxs("div",{className:"metric-info",children:[Y.jsx("span",{className:"metric-value",children:R(N.conversionRate||0)}),Y.jsx("span",{className:"metric-label",children:"Conversao"})]})]})]}),Y.jsxs("div",{className:"charts-grid",children:[Y.jsxs("div",{className:"chart-card",children:[Y.jsxs("h3",{children:[Y.jsx("span",{className:"material-icons",children:"show_chart"}),"Vendas ao Longo do Tempo"]}),O.length>0?Y.jsx(RC,{width:"100%",height:300,children:Y.jsxs(uK,{data:O,children:[Y.jsx(lV,{strokeDasharray:"3 3",stroke:"#374151"}),Y.jsx(JV,{dataKey:"date",stroke:"#9ca3af",fontSize:12}),Y.jsx(cW,{stroke:"#9ca3af",fontSize:12}),Y.jsx(oC,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px"},labelStyle:{color:"#fff"}}),Y.jsx(zV,{type:"monotone",dataKey:"amount",stroke:"#60a5fa",fill:"#60a5fa",fillOpacity:.3,name:"Valor"}),Y.jsx(zV,{type:"monotone",dataKey:"count",stroke:"#34d399",fill:"#34d399",fillOpacity:.3,name:"Quantidade"})]})}):Y.jsxs("div",{className:"no-data",children:[Y.jsx("span",{className:"material-icons",children:"insert_chart"}),Y.jsx("p",{children:"Sem dados de vendas"})]})]}),Y.jsxs("div",{className:"chart-card",children:[Y.jsxs("h3",{children:[Y.jsx("span",{className:"material-icons",children:"visibility"}),"Visitas"]}),P.length>0?Y.jsx(RC,{width:"100%",height:300,children:Y.jsxs(oK,{data:P,children:[Y.jsx(lV,{strokeDasharray:"3 3",stroke:"#374151"}),Y.jsx(JV,{dataKey:"date",stroke:"#9ca3af",fontSize:12}),Y.jsx(cW,{stroke:"#9ca3af",fontSize:12}),Y.jsx(oC,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px"},labelStyle:{color:"#fff"}}),Y.jsx(kV,{type:"monotone",dataKey:"visits",stroke:"#a78bfa",strokeWidth:2,dot:{fill:"#a78bfa"},name:"Visitas"})]})}):Y.jsxs("div",{className:"no-data",children:[Y.jsx("span",{className:"material-icons",children:"insert_chart"}),Y.jsx("p",{children:"Sem dados de visitas"})]})]})]})]})]});var D,I}function $K(){const{token:e}=_f(),[t,n]=z.useState([]),[a,r]=z.useState(""),[s,i]=z.useState([]),[o,l]=z.useState(!1),[c,u]=z.useState(null),[d,h]=z.useState(null),[p,m]=z.useState(!1),[f,v]=z.useState(!1),[y,x]=z.useState(null),[g,b]=z.useState({accessKey:"",xml:""}),[j,N]=z.useState(!1);z.useEffect(()=>{w()},[]),z.useEffect(()=>{a&&S()},[a]);const w=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),a=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];n(a),a.length>0&&r(a[0].id)}catch(t){u("Erro ao carregar contas")}},S=async()=>{l(!0),u(null);try{const e=await Ef.get(`/invoices/${a}`);i(e.data.invoices||[])}catch(e){u("Erro ao carregar notas fiscais"),i([])}finally{l(!1)}},k=e=>({created:"badge-success",pending:"badge-warning",error:"badge-danger",rejected:"badge-danger"}[e]||"badge-secondary"),O=e=>e?new Date(e).toLocaleString("pt-BR"):"N/A",C=(e,t="BRL")=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:t}).format(e);return Y.jsxs("div",{className:"invoices-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"receipt"}),"Notas Fiscais"]}),Y.jsx("p",{children:"Gerencie notas fiscais dos seus pedidos"})]}),Y.jsx("div",{className:"header-actions",children:Y.jsx("select",{className:"account-select",value:a,onChange:e=>r(e.target.value),children:t.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))})})]}),Y.jsxs("div",{className:"info-banner",children:[Y.jsx("span",{className:"material-icons",children:"info"}),Y.jsxs("div",{children:[Y.jsx("strong",{children:"Nota Fiscal Eletronica"}),Y.jsx("p",{children:"Para vincular uma NF-e a um pedido, voce precisa da chave de acesso de 44 digitos."})]})]}),c&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),c]}),Y.jsx("div",{className:"invoices-table-container",children:o?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando notas fiscais..."})]}):0===s.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"receipt_long"}),Y.jsx("h3",{children:"Nenhuma nota fiscal encontrada"}),Y.jsx("p",{children:"As notas fiscais dos seus pedidos aparecerao aqui"})]}):Y.jsxs("table",{className:"invoices-table",children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"Pedido"}),Y.jsx("th",{children:"Chave de Acesso"}),Y.jsx("th",{children:"Data"}),Y.jsx("th",{children:"Valor"}),Y.jsx("th",{children:"Status"}),Y.jsx("th",{children:"Acoes"})]})}),Y.jsx("tbody",{children:s.map(e=>{var t;return Y.jsxs("tr",{children:[Y.jsxs("td",{className:"order-id",children:["#",e.orderId]}),Y.jsx("td",{className:"access-key",children:Y.jsxs("span",{title:e.accessKey,children:[null==(t=e.accessKey)?void 0:t.substring(0,20),"..."]})}),Y.jsx("td",{children:O(e.dateCreated)}),Y.jsx("td",{children:C(e.totalAmount||0)}),Y.jsx("td",{children:Y.jsx("span",{className:`badge ${k(e.status)}`,children:e.status})}),Y.jsx("td",{children:Y.jsxs("div",{className:"action-buttons",children:[Y.jsx("button",{className:"btn-icon",title:"Ver detalhes",onClick:()=>(async e=>{try{const t=await Ef.get(`/invoices/${a}/${e}`);h(t.data.invoice),m(!0)}catch(t){u("Erro ao carregar detalhes")}})(e.id),children:Y.jsx("span",{className:"material-icons",children:"visibility"})}),e.pdfUrl&&Y.jsx("a",{href:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"btn-icon",title:"Baixar PDF",children:Y.jsx("span",{className:"material-icons",children:"download"})})]})})]},e._id||e.id)})})]})}),Y.jsxs("div",{className:"quick-actions",children:[Y.jsx("h3",{children:"Vincular NF-e a Pedido"}),Y.jsxs("div",{className:"quick-action-form",children:[Y.jsx("input",{type:"text",placeholder:"Numero do Pedido (ex: 2000003456789012)",id:"orderIdInput"}),Y.jsxs("button",{className:"btn btn-primary",onClick:()=>{const e=document.getElementById("orderIdInput").value;e&&(e=>{x(e),b({accessKey:"",xml:""}),v(!0)})(e)},children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Vincular NF-e"]})]})]}),p&&d&&Y.jsx("div",{className:"modal-overlay",onClick:()=>m(!1),children:Y.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsxs("h2",{children:["Nota Fiscal - Pedido #",d.orderId]}),Y.jsx("button",{className:"btn-close",onClick:()=>m(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"invoice-detail-section",children:[Y.jsx("h3",{children:"Informacoes"}),Y.jsxs("div",{className:"detail-grid",children:[Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Status"}),Y.jsx("span",{className:`badge ${k(d.status)}`,children:d.status})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Data"}),Y.jsx("span",{children:O(d.dateCreated)})]}),Y.jsxs("div",{className:"detail-item full",children:[Y.jsx("label",{children:"Chave de Acesso"}),Y.jsx("span",{className:"access-key-full",children:d.accessKey})]})]})]}),d.fiscalData&&Y.jsxs("div",{className:"invoice-detail-section",children:[Y.jsx("h3",{children:"Dados Fiscais"}),Y.jsxs("div",{className:"detail-grid",children:[Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Numero"}),Y.jsx("span",{children:d.fiscalData.number||"N/A"})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Serie"}),Y.jsx("span",{children:d.fiscalData.series||"N/A"})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("label",{children:"Valor Total"}),Y.jsx("span",{children:C(d.fiscalData.totalAmount||0)})]})]})]})]})]})}),f&&Y.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:Y.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsx("h2",{children:"Vincular Nota Fiscal"}),Y.jsx("button",{className:"btn-close",onClick:()=>v(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("p",{className:"modal-description",children:["Vincule uma Nota Fiscal Eletronica ao pedido ",Y.jsxs("strong",{children:["#",y]})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Chave de Acesso (44 digitos) *"}),Y.jsx("input",{type:"text",value:g.accessKey,onChange:e=>b({...g,accessKey:e.target.value}),placeholder:"00000000000000000000000000000000000000000000",maxLength:44}),Y.jsxs("span",{className:"char-count",children:[g.accessKey.length,"/44"]})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"XML da NF-e (opcional)"}),Y.jsx("textarea",{value:g.xml,onChange:e=>b({...g,xml:e.target.value}),placeholder:"Cole o XML da nota fiscal aqui...",rows:6})]})]}),Y.jsxs("div",{className:"modal-footer",children:[Y.jsx("button",{className:"btn btn-secondary",onClick:()=>v(!1),children:"Cancelar"}),Y.jsx("button",{className:"btn btn-primary",onClick:async()=>{var e,t;if(g.accessKey){N(!0),u(null);try{await Ef.post(`/invoices/${a}/order/${y}`,{accessKey:g.accessKey,xml:g.xml}),v(!1),await S()}catch(n){u((null==(t=null==(e=n.response)?void 0:e.data)?void 0:t.error)||"Erro ao enviar nota fiscal")}finally{N(!1)}}else u("Informe a chave de acesso da NF-e")},disabled:j||44!==g.accessKey.length,children:j?"Enviando...":"Vincular NF-e"})]})]})})]})}const zK=e=>Ef.get(`/billing/${e}/balance`),UK=(e,t={})=>Ef.get(`/billing/${e}/settlements`,{params:t}),qK=(e,t={})=>Ef.get(`/billing/${e}/fees`,{params:t}),VK=(e,t,n={})=>Ef.get(`/billing/${e}/report/${t}`,{params:n}),WK=(e,t=30)=>Ef.get(`/billing/${e}/daily-summary`,{params:{days:t}}),KK=(e,t=50)=>Ef.get(`/reviews/${e}/all`,{params:{limit:t}}),HK=(e,t,n)=>Ef.post(`/reviews/${e}/reply/${t}`,{text:n}),GK=e=>Ef.get(`/reviews/${e}/pending`),QK=e=>Ef.get(`/reviews/${e}/stats`),XK=e=>Ef.get(`/reviews/${e}/negative`),YK=(e,t={})=>Ef.get(`/moderations/${e}`,{params:t}),JK=(e,t)=>Ef.get(`/moderations/${e}/health/${t}`),ZK=(e,t)=>Ef.get(`/moderations/${e}/actions/${t}`),eH=(e,t,n)=>Ef.post(`/moderations/${e}/fix/${t}`,{fixes:n}),tH=e=>Ef.get(`/moderations/${e}/seller-reputation`),nH=(e,t={})=>Ef.get(`/user-products/${e}`,{params:t}),aH=(e,t,n)=>Ef.put(`/user-products/${e}/inventory/${t}`,n),rH=e=>Ef.get(`/user-products/${e}/warehouses`),sH=(e,t)=>Ef.post(`/user-products/${e}/fulfillment/${t}`),iH=(e,t)=>Ef.delete(`/user-products/${e}/fulfillment/${t}`),oH=(e,t=5)=>Ef.get(`/user-products/${e}/low-stock`,{params:{threshold:t}});function lH(){var e,t,n,a,r,s,i,o,l,c,u,d,h,p,m,f,v,y;const{token:x}=_f(),[g,b]=z.useState([]),[j,N]=z.useState(""),[w,S]=z.useState(!1),[k,O]=z.useState(null),[C,P]=z.useState(null),[E,_]=z.useState([]),[A,T]=z.useState(null),[M,R]=z.useState(null),[D,I]=z.useState({from:new Date(Date.now()-2592e6).toISOString().split("T")[0],to:(new Date).toISOString().split("T")[0]}),[L,B]=z.useState("overview");z.useEffect(()=>{F()},[]),z.useEffect(()=>{j&&$()},[j,D]);const F=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];b(n),n.length>0&&N(n[0].id)}catch(t){O("Erro ao carregar contas")}},$=async()=>{var e;S(!0),O(null);try{const[t,n,a,r]=await Promise.allSettled([zK(j),UK(j,{from:D.from,to:D.to}),WK(j,30),qK(j,{from:D.from,to:D.to})]);"fulfilled"===t.status?P(t.value.data.data):P({mercadopago_balance:{available_balance:0,unavailable_balance:0},recent_revenue:{total:0,orders_count:0}}),"fulfilled"===n.status?_((null==(e=n.value.data.data)?void 0:e.settlements)||[]):_([]),"fulfilled"===a.status?T(a.value.data.data):T({daily:[],totals:{orders:0,gross:0,fees:0,net:0},period:{from:D.from,to:D.to}}),"fulfilled"===r.status?R(r.value.data.data):R({summary:{gross_amount:0,total_fees:0,net_amount:0,fee_percentage:0},breakdown:{marketplace_fee:0,shipping_fee:0,financing_fee:0},orders_analyzed:0});const s=[t,n,a,r].filter(e=>"rejected"===e.status).length;s>0&&console.warn(`${s} billing API calls failed, showing partial/mock data`)}catch(t){O("Erro ao carregar dados financeiros"),console.error(t)}finally{S(!1)}},U=(e,t="BRL")=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:t}).format(e||0),q=e=>new Date(e).toLocaleDateString("pt-BR"),V=async e=>{try{const t=(await VK(j,e,{from:D.from,to:D.to,format:"json"})).data.data.report,n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download=`relatorio-${e}-${D.from}-${D.to}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)}catch(t){O("Erro ao exportar relatorio")}};return Y.jsxs("div",{className:"billing-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"account_balance"}),"Conciliacao Financeira"]}),Y.jsx("p",{children:"Acompanhe receitas, taxas e saldo da sua conta"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:j,onChange:e=>N(e.target.value),children:g.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("div",{className:"date-range",children:[Y.jsx("input",{type:"date",value:D.from,onChange:e=>I({...D,from:e.target.value})}),Y.jsx("span",{children:"ate"}),Y.jsx("input",{type:"date",value:D.to,onChange:e=>I({...D,to:e.target.value})})]})]})]}),C&&Y.jsxs("div",{className:"balance-cards",children:[Y.jsxs("div",{className:"balance-card primary",children:[Y.jsx("div",{className:"balance-icon",children:Y.jsx("span",{className:"material-icons",children:"account_balance_wallet"})}),Y.jsxs("div",{className:"balance-info",children:[Y.jsx("span",{className:"balance-label",children:"Saldo Disponivel"}),Y.jsx("span",{className:"balance-value",children:U(null==(e=C.mercadopago_balance)?void 0:e.available_balance)})]})]}),Y.jsxs("div",{className:"balance-card success",children:[Y.jsx("div",{className:"balance-icon",children:Y.jsx("span",{className:"material-icons",children:"trending_up"})}),Y.jsxs("div",{className:"balance-info",children:[Y.jsx("span",{className:"balance-label",children:"Receita Recente"}),Y.jsx("span",{className:"balance-value",children:U(null==(t=C.recent_revenue)?void 0:t.total)}),Y.jsxs("span",{className:"balance-detail",children:[null==(n=C.recent_revenue)?void 0:n.orders_count," pedidos"]})]})]}),M&&Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"balance-card warning",children:[Y.jsx("div",{className:"balance-icon",children:Y.jsx("span",{className:"material-icons",children:"remove_circle"})}),Y.jsxs("div",{className:"balance-info",children:[Y.jsx("span",{className:"balance-label",children:"Total Taxas"}),Y.jsx("span",{className:"balance-value",children:U(null==(a=M.summary)?void 0:a.total_fees)}),Y.jsxs("span",{className:"balance-detail",children:[null==(r=M.summary)?void 0:r.fee_percentage,"% media"]})]})]}),Y.jsxs("div",{className:"balance-card info",children:[Y.jsx("div",{className:"balance-icon",children:Y.jsx("span",{className:"material-icons",children:"savings"})}),Y.jsxs("div",{className:"balance-info",children:[Y.jsx("span",{className:"balance-label",children:"Receita Liquida"}),Y.jsx("span",{className:"balance-value",children:U(null==(s=M.summary)?void 0:s.net_amount)})]})]})]})]}),Y.jsxs("div",{className:"billing-tabs",children:[Y.jsxs("button",{className:"tab "+("overview"===L?"active":""),onClick:()=>B("overview"),children:[Y.jsx("span",{className:"material-icons",children:"dashboard"}),"Visao Geral"]}),Y.jsxs("button",{className:"tab "+("settlements"===L?"active":""),onClick:()=>B("settlements"),children:[Y.jsx("span",{className:"material-icons",children:"receipt"}),"Liquidacoes"]}),Y.jsxs("button",{className:"tab "+("fees"===L?"active":""),onClick:()=>B("fees"),children:[Y.jsx("span",{className:"material-icons",children:"price_change"}),"Taxas"]}),Y.jsxs("button",{className:"tab "+("reports"===L?"active":""),onClick:()=>B("reports"),children:[Y.jsx("span",{className:"material-icons",children:"download"}),"Relatorios"]})]}),k&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),k]}),w?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando dados financeiros..."})]}):Y.jsxs("div",{className:"billing-content",children:["overview"===L&&A&&Y.jsxs("div",{className:"overview-section",children:[Y.jsx("div",{className:"section-header",children:Y.jsx("h3",{children:"Evolucao Diaria (ultimos 30 dias)"})}),Y.jsx("div",{className:"daily-chart",children:Y.jsx("div",{className:"chart-container",children:null==(i=A.daily)?void 0:i.map((e,t)=>{var n;return Y.jsxs("div",{className:"chart-bar-container",children:[Y.jsx("div",{className:"chart-bar",style:{height:`${Math.min(e.net/((null==(n=A.totals)?void 0:n.net)||1)*1e3,100)}%`},title:`${q(e.date)}: ${U(e.net)}`,children:Y.jsx("span",{className:"bar-value",children:U(e.net)})}),Y.jsx("span",{className:"bar-date",children:e.date.split("-")[2]})]},t)})})}),Y.jsxs("div",{className:"totals-summary",children:[Y.jsxs("div",{className:"total-item",children:[Y.jsx("span",{className:"total-label",children:"Total Bruto"}),Y.jsx("span",{className:"total-value success",children:U(null==(o=A.totals)?void 0:o.gross)})]}),Y.jsxs("div",{className:"total-item",children:[Y.jsx("span",{className:"total-label",children:"Total Taxas"}),Y.jsx("span",{className:"total-value warning",children:U(null==(l=A.totals)?void 0:l.fees)})]}),Y.jsxs("div",{className:"total-item",children:[Y.jsx("span",{className:"total-label",children:"Total Liquido"}),Y.jsx("span",{className:"total-value primary",children:U(null==(c=A.totals)?void 0:c.net)})]}),Y.jsxs("div",{className:"total-item",children:[Y.jsx("span",{className:"total-label",children:"Total Pedidos"}),Y.jsx("span",{className:"total-value",children:null==(u=A.totals)?void 0:u.orders})]})]})]}),"settlements"===L&&Y.jsxs("div",{className:"settlements-section",children:[Y.jsxs("div",{className:"section-header",children:[Y.jsx("h3",{children:"Liquidacoes"}),Y.jsxs("span",{className:"count",children:[E.length," registros"]})]}),0===E.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"inbox"}),Y.jsx("h3",{children:"Nenhuma liquidacao encontrada"}),Y.jsx("p",{children:"Ajuste o periodo para ver mais resultados"})]}):Y.jsx("div",{className:"settlements-table-container",children:Y.jsxs("table",{className:"data-table",children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"Pedido"}),Y.jsx("th",{children:"Data"}),Y.jsx("th",{children:"Comprador"}),Y.jsx("th",{children:"Valor"}),Y.jsx("th",{children:"Status"})]})}),Y.jsx("tbody",{children:E.map((e,t)=>{var n;return Y.jsxs("tr",{children:[Y.jsxs("td",{className:"order-id",children:["#",e.order_id]}),Y.jsx("td",{children:q(e.date_created)}),Y.jsx("td",{children:(null==(n=e.buyer)?void 0:n.nickname)||"N/A"}),Y.jsx("td",{className:"amount",children:U(e.total_amount)}),Y.jsx("td",{children:Y.jsx("span",{className:"badge badge-"+("paid"===e.status?"success":"secondary"),children:e.status})})]},t)})})]})})]}),"fees"===L&&M&&Y.jsxs("div",{className:"fees-section",children:[Y.jsx("div",{className:"section-header",children:Y.jsx("h3",{children:"Detalhamento de Taxas"})}),Y.jsxs("div",{className:"fees-breakdown",children:[Y.jsxs("div",{className:"fee-item",children:[Y.jsx("div",{className:"fee-icon marketplace",children:Y.jsx("span",{className:"material-icons",children:"store"})}),Y.jsxs("div",{className:"fee-info",children:[Y.jsx("span",{className:"fee-label",children:"Taxa do Marketplace"}),Y.jsx("span",{className:"fee-value",children:U(null==(d=M.breakdown)?void 0:d.marketplace_fee)})]})]}),Y.jsxs("div",{className:"fee-item",children:[Y.jsx("div",{className:"fee-icon shipping",children:Y.jsx("span",{className:"material-icons",children:"local_shipping"})}),Y.jsxs("div",{className:"fee-info",children:[Y.jsx("span",{className:"fee-label",children:"Taxa de Envio"}),Y.jsx("span",{className:"fee-value",children:U(null==(h=M.breakdown)?void 0:h.shipping_fee)})]})]}),Y.jsxs("div",{className:"fee-item",children:[Y.jsx("div",{className:"fee-icon financing",children:Y.jsx("span",{className:"material-icons",children:"credit_card"})}),Y.jsxs("div",{className:"fee-info",children:[Y.jsx("span",{className:"fee-label",children:"Taxa de Financiamento"}),Y.jsx("span",{className:"fee-value",children:U(null==(p=M.breakdown)?void 0:p.financing_fee)})]})]})]}),Y.jsxs("div",{className:"fees-summary-box",children:[Y.jsxs("div",{className:"summary-row",children:[Y.jsx("span",{children:"Receita Bruta"}),Y.jsx("span",{className:"value",children:U(null==(m=M.summary)?void 0:m.gross_amount)})]}),Y.jsxs("div",{className:"summary-row negative",children:[Y.jsx("span",{children:"Total de Taxas"}),Y.jsxs("span",{className:"value",children:["- ",U(null==(f=M.summary)?void 0:f.total_fees)]})]}),Y.jsxs("div",{className:"summary-row total",children:[Y.jsx("span",{children:"Receita Liquida"}),Y.jsx("span",{className:"value",children:U(null==(v=M.summary)?void 0:v.net_amount)})]}),Y.jsxs("div",{className:"summary-note",children:["Taxa media: ",null==(y=M.summary)?void 0:y.fee_percentage,"% sobre ",M.orders_analyzed," pedidos"]})]})]}),"reports"===L&&Y.jsxs("div",{className:"reports-section",children:[Y.jsx("div",{className:"section-header",children:Y.jsx("h3",{children:"Exportar Relatorios"})}),Y.jsxs("div",{className:"reports-grid",children:[Y.jsxs("div",{className:"report-card",onClick:()=>V("sales"),children:[Y.jsx("div",{className:"report-icon",children:Y.jsx("span",{className:"material-icons",children:"shopping_cart"})}),Y.jsxs("div",{className:"report-info",children:[Y.jsx("h4",{children:"Relatorio de Vendas"}),Y.jsx("p",{children:"Exportar todas as vendas do periodo"})]}),Y.jsx("span",{className:"material-icons arrow",children:"download"})]}),Y.jsxs("div",{className:"report-card",onClick:()=>V("fees"),children:[Y.jsx("div",{className:"report-icon",children:Y.jsx("span",{className:"material-icons",children:"price_change"})}),Y.jsxs("div",{className:"report-info",children:[Y.jsx("h4",{children:"Relatorio de Taxas"}),Y.jsx("p",{children:"Detalhamento de taxas por pedido"})]}),Y.jsx("span",{className:"material-icons arrow",children:"download"})]}),Y.jsxs("div",{className:"report-card",onClick:()=>V("settlements"),children:[Y.jsx("div",{className:"report-icon",children:Y.jsx("span",{className:"material-icons",children:"receipt_long"})}),Y.jsxs("div",{className:"report-info",children:[Y.jsx("h4",{children:"Relatorio de Liquidacoes"}),Y.jsx("p",{children:"Pagamentos liberados no periodo"})]}),Y.jsx("span",{className:"material-icons arrow",children:"download"})]}),Y.jsxs("div",{className:"report-card",onClick:()=>V("summary"),children:[Y.jsx("div",{className:"report-icon",children:Y.jsx("span",{className:"material-icons",children:"summarize"})}),Y.jsxs("div",{className:"report-info",children:[Y.jsx("h4",{children:"Resumo Financeiro"}),Y.jsx("p",{children:"Visao consolidada do periodo"})]}),Y.jsx("span",{className:"material-icons arrow",children:"download"})]})]})]})]})]})}function cH(){var e,t,n,a,r,s,i,o,l,c,u,d;const{token:h}=_f(),[p,m]=z.useState([]),[f,v]=z.useState(""),[y,x]=z.useState(!1),[g,b]=z.useState(null),[j,N]=z.useState(null),[w,S]=z.useState(null),[k,O]=z.useState(null),[C,P]=z.useState(null),[E,_]=z.useState(null),[A,T]=z.useState(null),[M,R]=z.useState(!1),[D,I]=z.useState(!1);z.useEffect(()=>{L()},[]),z.useEffect(()=>{f&&B()},[f]);const L=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];m(n),n.length>0&&v(n[0].id)}catch(t){b("Erro ao carregar contas")}},B=async()=>{x(!0),b(null);try{const[e,t]=await Promise.all([YK(f),tH(f)]);S(e.data.data),O(t.data.data)}catch(e){b("Erro ao carregar moderacoes"),console.error(e)}finally{x(!1)}},F=e=>e>=80?"success":e>=50?"warning":"danger",$=e=>({active:{label:"Ativo",class:"success"},paused:{label:"Pausado",class:"warning"},inactive:{label:"Inativo",class:"danger"},under_review:{label:"Em Revisao",class:"warning"},closed:{label:"Fechado",class:"secondary"}}[e]||{label:e,class:"secondary"}),U=e=>({"1_red":{label:"Vermelho",color:"#ef4444"},"2_orange":{label:"Laranja",color:"#f97316"},"3_yellow":{label:"Amarelo",color:"#eab308"},"4_light_green":{label:"Verde Claro",color:"#84cc16"},"5_green":{label:"Verde",color:"#22c55e"}}[e]||{label:e,color:"#6b7280"});return Y.jsxs("div",{className:"moderations-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"health_and_safety"}),"Saude dos Anuncios"]}),Y.jsx("p",{children:"Monitore a qualidade e moderacoes dos seus anuncios"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:f,onChange:e=>v(e.target.value),children:p.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("button",{className:"btn btn-primary",onClick:B,disabled:y,children:[Y.jsx("span",{className:"material-icons",children:"refresh"}),"Atualizar"]})]})]}),k&&Y.jsxs("div",{className:"reputation-card",children:[Y.jsxs("div",{className:"reputation-header",children:[Y.jsxs("h3",{children:[Y.jsx("span",{className:"material-icons",children:"workspace_premium"}),"Reputacao do Vendedor"]}),(null==(e=k.reputation)?void 0:e.power_seller_status)&&Y.jsxs("span",{className:"power-seller-badge",children:[Y.jsx("span",{className:"material-icons",children:"verified"}),k.reputation.power_seller_status]})]}),Y.jsxs("div",{className:"reputation-content",children:[Y.jsxs("div",{className:"reputation-level",children:[Y.jsx("div",{className:"level-indicator",style:{backgroundColor:U(null==(t=k.reputation)?void 0:t.level_id).color},children:Y.jsx("span",{className:"material-icons",children:"star"})}),Y.jsxs("div",{className:"level-info",children:[Y.jsx("span",{className:"level-name",children:U(null==(n=k.reputation)?void 0:n.level_id).label}),Y.jsx("span",{className:"seller-nickname",children:k.nickname})]})]}),(null==(a=k.reputation)?void 0:a.transactions)&&Y.jsxs("div",{className:"reputation-stats",children:[Y.jsxs("div",{className:"rep-stat",children:[Y.jsx("span",{className:"rep-value",children:k.reputation.transactions.completed||0}),Y.jsx("span",{className:"rep-label",children:"Vendas"})]}),Y.jsxs("div",{className:"rep-stat",children:[Y.jsx("span",{className:"rep-value",children:k.reputation.transactions.canceled||0}),Y.jsx("span",{className:"rep-label",children:"Canceladas"})]})]})]})]}),w&&w.summary&&Y.jsxs("div",{className:"summary-cards",children:[Y.jsxs("div",{className:"summary-card warning",children:[Y.jsx("div",{className:"summary-icon",children:Y.jsx("span",{className:"material-icons",children:"pending_actions"})}),Y.jsxs("div",{className:"summary-info",children:[Y.jsx("span",{className:"summary-value",children:w.summary.under_review}),Y.jsx("span",{className:"summary-label",children:"Em Revisao"})]})]}),Y.jsxs("div",{className:"summary-card danger",children:[Y.jsx("div",{className:"summary-icon",children:Y.jsx("span",{className:"material-icons",children:"block"})}),Y.jsxs("div",{className:"summary-info",children:[Y.jsx("span",{className:"summary-value",children:w.summary.inactive}),Y.jsx("span",{className:"summary-label",children:"Inativos"})]})]}),Y.jsxs("div",{className:"summary-card info",children:[Y.jsx("div",{className:"summary-icon",children:Y.jsx("span",{className:"material-icons",children:"pause_circle"})}),Y.jsxs("div",{className:"summary-info",children:[Y.jsx("span",{className:"summary-value",children:w.summary.paused}),Y.jsx("span",{className:"summary-label",children:"Pausados"})]})]}),Y.jsxs("div",{className:"summary-card",children:[Y.jsx("div",{className:"summary-icon",children:Y.jsx("span",{className:"material-icons",children:"inventory_2"})}),Y.jsxs("div",{className:"summary-info",children:[Y.jsx("span",{className:"summary-value",children:w.summary.total}),Y.jsx("span",{className:"summary-label",children:"Total c/ Problemas"})]})]})]}),g&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),g,Y.jsx("button",{onClick:()=>b(null),children:""})]}),j&&Y.jsxs("div",{className:"alert alert-success",children:[Y.jsx("span",{className:"material-icons",children:"check_circle"}),j,Y.jsx("button",{onClick:()=>N(null),children:""})]}),y?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando moderacoes..."})]}):Y.jsxs("div",{className:"items-section",children:[Y.jsxs("div",{className:"section-header",children:[Y.jsx("h3",{children:"Itens com Problemas"}),Y.jsxs("span",{className:"count",children:[(null==(r=null==w?void 0:w.items)?void 0:r.length)||0," itens"]})]}),(null==w?void 0:w.items)&&0!==w.items.length?Y.jsx("div",{className:"items-grid",children:w.items.map((e,t)=>{var n,a,r,s,i,o,l,c,u,d,h,p,m,v,y;return Y.jsxs("div",{className:"item-card",children:[Y.jsxs("div",{className:"item-header",children:[Y.jsx("div",{className:"item-image",children:(null==(n=e.item)?void 0:n.thumbnail)?Y.jsx("img",{src:e.item.thumbnail,alt:e.item.title}):Y.jsx("span",{className:"material-icons",children:"image"})}),Y.jsxs("div",{className:"item-info",children:[Y.jsxs("h4",{className:"item-title",children:[null==(r=null==(a=e.item)?void 0:a.title)?void 0:r.substring(0,60),"..."]}),Y.jsx("span",{className:"item-id",children:null==(s=e.item)?void 0:s.id})]})]}),Y.jsx("div",{className:"item-health",children:Y.jsxs("div",{className:"health-bar-container",children:[Y.jsxs("div",{className:"health-label",children:[Y.jsx("span",{children:"Saude"}),Y.jsxs("span",{className:`health-value ${F((null==(i=e.health)?void 0:i.health_score)||100)}`,children:[(null==(o=e.health)?void 0:o.health_score)||100,"%"]})]}),Y.jsx("div",{className:"health-bar",children:Y.jsx("div",{className:`health-fill ${F((null==(l=e.health)?void 0:l.health_score)||100)}`,style:{width:`${(null==(c=e.health)?void 0:c.health_score)||100}%`}})})]})}),Y.jsxs("div",{className:"item-status",children:[Y.jsx("span",{className:`status-badge ${$(null==(u=e.item)?void 0:u.status).class}`,children:$(null==(d=e.item)?void 0:d.status).label}),(null==(p=null==(h=e.health)?void 0:h.warnings)?void 0:p.length)>0&&Y.jsxs("span",{className:"warning-count",children:[Y.jsx("span",{className:"material-icons",children:"warning"}),e.health.warnings.length]}),(null==(v=null==(m=e.health)?void 0:m.errors)?void 0:v.length)>0&&Y.jsxs("span",{className:"error-count",children:[Y.jsx("span",{className:"material-icons",children:"error"}),e.health.errors.length]})]}),Y.jsxs("div",{className:"item-actions",children:[Y.jsxs("button",{className:"btn btn-outline",onClick:()=>(async e=>{P(e),R(!0);try{const[t,n]=await Promise.all([JK(f,e.item.id),ZK(f,e.item.id)]);_(t.data.data),T(n.data.data)}catch(t){console.error("Erro ao carregar detalhes:",t)}})(e),children:[Y.jsx("span",{className:"material-icons",children:"visibility"}),"Ver Detalhes"]}),Y.jsx("a",{href:null==(y=e.item)?void 0:y.permalink,target:"_blank",rel:"noopener noreferrer",className:"btn btn-icon",children:Y.jsx("span",{className:"material-icons",children:"open_in_new"})})]})]},t)})}):Y.jsxs("div",{className:"empty-state success",children:[Y.jsx("span",{className:"material-icons",children:"check_circle"}),Y.jsx("h3",{children:"Todos os anuncios estao saudaveis!"}),Y.jsx("p",{children:"Nenhum item com problemas de moderacao no momento"})]})]}),M&&C&&Y.jsx("div",{className:"modal-overlay",onClick:()=>R(!1),children:Y.jsxs("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsx("h2",{children:"Detalhes do Item"}),Y.jsx("button",{className:"btn-close",onClick:()=>R(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"item-detail-header",children:[Y.jsx("div",{className:"item-image-large",children:(null==(s=C.item)?void 0:s.thumbnail)?Y.jsx("img",{src:C.item.thumbnail,alt:C.item.title}):Y.jsx("span",{className:"material-icons",children:"image"})}),Y.jsxs("div",{className:"item-detail-info",children:[Y.jsx("h3",{children:null==(i=C.item)?void 0:i.title}),Y.jsx("p",{className:"item-id",children:null==(o=C.item)?void 0:o.id}),Y.jsx("span",{className:`status-badge ${$(null==(l=C.item)?void 0:l.status).class}`,children:$(null==(c=C.item)?void 0:c.status).label})]})]}),E&&Y.jsxs("div",{className:"health-details",children:[Y.jsxs("h4",{children:[Y.jsx("span",{className:"material-icons",children:"health_and_safety"}),"Pontuacao de Saude:",Y.jsxs("span",{className:`score ${F(E.health_score)}`,children:[E.health_score,"%"]})]}),E.issues&&E.issues.length>0&&Y.jsxs("div",{className:"issues-list",children:[Y.jsx("h5",{children:"Problemas Encontrados"}),E.issues.map((e,t)=>Y.jsxs("div",{className:`issue-item ${e.type}`,children:[Y.jsx("span",{className:"material-icons",children:"error"===e.type?"error":"warning"===e.type?"warning":"info"}),Y.jsxs("div",{className:"issue-content",children:[Y.jsx("span",{className:"issue-message",children:e.message}),e.recommendation&&Y.jsx("span",{className:"issue-recommendation",children:e.recommendation})]})]},t))]})]}),A&&A.actions&&A.actions.length>0&&Y.jsxs("div",{className:"actions-section",children:[Y.jsxs("h4",{children:[Y.jsx("span",{className:"material-icons",children:"build"}),"Acoes Recomendadas"]}),Y.jsx("div",{className:"actions-list",children:A.actions.map((e,t)=>Y.jsxs("div",{className:`action-item priority-${e.priority}`,children:[Y.jsx("span",{className:`priority-badge ${e.priority}`,children:e.priority}),Y.jsx("span",{className:"action-message",children:e.message})]},t))})]})]}),Y.jsxs("div",{className:"modal-footer",children:[Y.jsxs("a",{href:null==(u=C.item)?void 0:u.permalink,target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"open_in_new"}),"Abrir no ML"]}),Y.jsxs("button",{className:"btn btn-primary",onClick:()=>{(async e=>{if(C){I(!0);try{await eH(f,C.item.id,e),N("Correcoes aplicadas com sucesso!"),R(!1),await B()}catch(t){b("Erro ao aplicar correcoes")}finally{I(!1)}}})([{type:"activate"}])},disabled:D||"active"===(null==(d=C.item)?void 0:d.status),children:[Y.jsx("span",{className:"material-icons",children:"play_arrow"}),D?"Processando...":"Tentar Ativar"]})]})]})})]})}function uH(){var e;const{token:t}=_f(),[n,a]=z.useState([]),[r,s]=z.useState(""),[i,o]=z.useState(!1),[l,c]=z.useState(null),[u,d]=z.useState(null),[h,p]=z.useState(null),[m,f]=z.useState([]),[v,y]=z.useState([]),[x,g]=z.useState([]),[b,j]=z.useState("all"),[N,w]=z.useState(null),[S,k]=z.useState(""),[O,C]=z.useState(!1);z.useEffect(()=>{P()},[]),z.useEffect(()=>{r&&E()},[r]);const P=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];a(n),n.length>0&&s(n[0].id)}catch(t){c("Erro ao carregar contas")}},E=async()=>{var e,t,n;o(!0),c(null);try{const[a,s,i,o]=await Promise.all([QK(r),KK(r,100),GK(r),XK(r)]);p(a.data.data),f((null==(e=s.data.data)?void 0:e.reviews)||[]),y((null==(t=i.data.data)?void 0:t.pending_reviews)||[]),g((null==(n=o.data.data)?void 0:n.negative_reviews)||[])}catch(a){c("Erro ao carregar avaliacoes"),console.error(a)}finally{o(!1)}},_=e=>e>=4?"success":3===e?"warning":"danger",A=()=>{switch(b){case"pending":return v;case"negative":return x;default:return m}};return Y.jsxs("div",{className:"reviews-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"rate_review"}),"Avaliacoes e Opinioes"]}),Y.jsx("p",{children:"Gerencie as avaliacoes dos seus produtos"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:r,onChange:e=>s(e.target.value),children:n.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("button",{className:"btn btn-primary",onClick:E,disabled:i,children:[Y.jsx("span",{className:"material-icons",children:"refresh"}),"Atualizar"]})]})]}),h&&Y.jsxs("div",{className:"stats-cards",children:[Y.jsxs("div",{className:"stat-card primary",children:[Y.jsxs("div",{className:"stat-value",children:[(null==(e=h.average_rating)?void 0:e.toFixed(1))||"0.0",Y.jsx("span",{className:"material-icons",children:"star"})]}),Y.jsx("div",{className:"stat-label",children:"Media Geral"})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-value",children:h.total_reviews||0}),Y.jsx("div",{className:"stat-label",children:"Total de Avaliacoes"})]}),Y.jsxs("div",{className:"stat-card warning",children:[Y.jsx("div",{className:"stat-value",children:h.pending_replies||0}),Y.jsx("div",{className:"stat-label",children:"Aguardando Resposta"})]}),Y.jsxs("div",{className:"stat-card success",children:[Y.jsxs("div",{className:"stat-value",children:[h.positive_percentage||0,"%"]}),Y.jsx("div",{className:"stat-label",children:"Avaliacoes Positivas"})]})]}),h&&h.sentiment&&Y.jsxs("div",{className:"sentiment-section",children:[Y.jsx("h3",{children:"Distribuicao de Sentimento"}),Y.jsxs("div",{className:"sentiment-bars",children:[Y.jsxs("div",{className:"sentiment-bar",children:[Y.jsxs("div",{className:"sentiment-info",children:[Y.jsx("span",{className:"sentiment-label success",children:"Positivas (4-5)"}),Y.jsx("span",{className:"sentiment-count",children:h.sentiment.positive})]}),Y.jsx("div",{className:"bar-track",children:Y.jsx("div",{className:"bar-fill success",style:{width:(h.total_reviews>0?h.sentiment.positive/h.total_reviews*100:0)+"%"}})})]}),Y.jsxs("div",{className:"sentiment-bar",children:[Y.jsxs("div",{className:"sentiment-info",children:[Y.jsx("span",{className:"sentiment-label warning",children:"Neutras (3)"}),Y.jsx("span",{className:"sentiment-count",children:h.sentiment.neutral})]}),Y.jsx("div",{className:"bar-track",children:Y.jsx("div",{className:"bar-fill warning",style:{width:(h.total_reviews>0?h.sentiment.neutral/h.total_reviews*100:0)+"%"}})})]}),Y.jsxs("div",{className:"sentiment-bar",children:[Y.jsxs("div",{className:"sentiment-info",children:[Y.jsx("span",{className:"sentiment-label danger",children:"Negativas (1-2)"}),Y.jsx("span",{className:"sentiment-count",children:h.sentiment.negative})]}),Y.jsx("div",{className:"bar-track",children:Y.jsx("div",{className:"bar-fill danger",style:{width:(h.total_reviews>0?h.sentiment.negative/h.total_reviews*100:0)+"%"}})})]})]})]}),Y.jsxs("div",{className:"reviews-tabs",children:[Y.jsxs("button",{className:"tab "+("all"===b?"active":""),onClick:()=>j("all"),children:[Y.jsx("span",{className:"material-icons",children:"list"}),"Todas (",m.length,")"]}),Y.jsxs("button",{className:"tab "+("pending"===b?"active":""),onClick:()=>j("pending"),children:[Y.jsx("span",{className:"material-icons",children:"pending"}),"Pendentes (",v.length,")"]}),Y.jsxs("button",{className:"tab "+("negative"===b?"active":""),onClick:()=>j("negative"),children:[Y.jsx("span",{className:"material-icons",children:"thumb_down"}),"Negativas (",x.length,")"]})]}),l&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),l,Y.jsx("button",{onClick:()=>c(null),children:""})]}),u&&Y.jsxs("div",{className:"alert alert-success",children:[Y.jsx("span",{className:"material-icons",children:"check_circle"}),u,Y.jsx("button",{onClick:()=>d(null),children:""})]}),i?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando avaliacoes..."})]}):Y.jsx("div",{className:"reviews-list",children:0===A().length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"rate_review"}),Y.jsx("h3",{children:"Nenhuma avaliacao encontrada"}),Y.jsx("p",{children:"pending"===b?"Todas as avaliacoes foram respondidas!":"negative"===b?"Otimo! Nenhuma avaliacao negativa.":"Suas avaliacoes aparecerao aqui"})]}):A().map((e,t)=>{var n,a,s,i,o;return Y.jsxs("div",{className:`review-card rating-${_(e.rate)}`,children:[Y.jsxs("div",{className:"review-header",children:[Y.jsxs("div",{className:"reviewer-info",children:[Y.jsx("div",{className:"reviewer-avatar",children:(null==(a=null==(n=e.reviewer)?void 0:n.nickname)?void 0:a.charAt(0))||"?"}),Y.jsxs("div",{className:"reviewer-details",children:[Y.jsx("span",{className:"reviewer-name",children:(null==(s=e.reviewer)?void 0:s.nickname)||"Comprador"}),Y.jsx("span",{className:"review-date",children:(o=e.date_created,new Date(o).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"}))})]})]}),Y.jsxs("div",{className:"review-rating",children:[(i=e.rate,Y.jsx("div",{className:"stars",children:[1,2,3,4,5].map(e=>Y.jsx("span",{className:"material-icons star "+(e<=i?"filled":""),children:"star"},e))})),Y.jsxs("span",{className:`rating-badge ${_(e.rate)}`,children:[e.rate,"/5"]})]})]}),Y.jsxs("div",{className:"review-content",children:[e.title&&Y.jsx("h4",{className:"review-title",children:e.title}),Y.jsx("p",{className:"review-text",children:e.content||"Sem comentario"})]}),e.item_id&&Y.jsxs("div",{className:"review-item",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),Y.jsxs("span",{children:["Item: ",e.item_id]})]}),e.reply&&e.reply.text?Y.jsxs("div",{className:"review-reply",children:[Y.jsxs("div",{className:"reply-header",children:[Y.jsx("span",{className:"material-icons",children:"reply"}),Y.jsx("span",{children:"Sua resposta"})]}),Y.jsx("p",{className:"reply-text",children:e.reply.text})]}):Y.jsx("div",{className:"review-actions",children:N===e.id?Y.jsxs("div",{className:"reply-form",children:[Y.jsx("textarea",{placeholder:"Digite sua resposta...",value:S,onChange:e=>k(e.target.value),rows:3}),Y.jsxs("div",{className:"reply-buttons",children:[Y.jsx("button",{className:"btn btn-secondary",onClick:()=>{w(null),k("")},children:"Cancelar"}),Y.jsx("button",{className:"btn btn-primary",onClick:()=>(async e=>{if(S.trim()){C(!0);try{await HK(r,e,S),d("Resposta enviada com sucesso!"),k(""),w(null),await E()}catch(t){c("Erro ao enviar resposta")}finally{C(!1)}}else c("Digite uma resposta")})(e.id),disabled:O,children:O?"Enviando...":"Enviar Resposta"})]})]}):Y.jsxs("button",{className:"btn btn-outline",onClick:()=>w(e.id),children:[Y.jsx("span",{className:"material-icons",children:"reply"}),"Responder"]})})]},t)})})]})}function dH(){const{token:e}=_f(),[t,n]=z.useState([]),[a,r]=z.useState(""),[s,i]=z.useState(!1),[o,l]=z.useState(null),[c,u]=z.useState(null),[d,h]=z.useState([]),[p,m]=z.useState([]),[f,v]=z.useState([]),[y,x]=z.useState("all"),[g,b]=z.useState(null),[j,N]=z.useState(!1),[w,S]=z.useState(""),[k,O]=z.useState(!1),[C,P]=z.useState(5);z.useEffect(()=>{E()},[]),z.useEffect(()=>{a&&_()},[a]);const E=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),a=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];n(a),a.length>0&&r(a[0].id)}catch(t){l("Erro ao carregar contas")}},_=async()=>{var e,t;i(!0),l(null);try{const[n,r,s]=await Promise.all([nH(a),oH(a,C),rH(a)]);h((null==(e=n.data.data)?void 0:e.products)||[]),m((null==(t=r.data.data)?void 0:t.low_stock_items)||[]),v(s.data.data||[])}catch(n){l("Erro ao carregar estoque"),console.error(n)}finally{i(!1)}},A=(e,t="BRL")=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:t}).format(e||0),T=()=>{switch(y){case"low-stock":return p;case"fulfillment":return d.filter(e=>{var t;return"fulfillment"===(null==(t=e.shipping)?void 0:t.logistic_type)});default:return d}},M={total:d.length,totalStock:d.reduce((e,t)=>e+(t.available_quantity||0),0),outOfStock:d.filter(e=>0===e.available_quantity).length,lowStock:d.filter(e=>e.available_quantity>0&&e.available_quantity<=C).length,fulfillment:d.filter(e=>{var t;return"fulfillment"===(null==(t=e.shipping)?void 0:t.logistic_type)}).length};return Y.jsxs("div",{className:"inventory-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"inventory"}),"Gestao de Estoque"]}),Y.jsx("p",{children:"Gerencie o estoque dos seus produtos"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:a,onChange:e=>r(e.target.value),children:t.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("div",{className:"threshold-control",children:[Y.jsx("label",{children:"Limite baixo:"}),Y.jsx("input",{type:"number",min:"1",value:C,onChange:e=>P(parseInt(e.target.value)||5),onBlur:_})]}),Y.jsxs("button",{className:"btn btn-primary",onClick:_,disabled:s,children:[Y.jsx("span",{className:"material-icons",children:"refresh"}),"Atualizar"]})]})]}),Y.jsxs("div",{className:"stats-cards",children:[Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon blue",children:Y.jsx("span",{className:"material-icons",children:"inventory_2"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:M.total}),Y.jsx("span",{className:"stat-label",children:"Total Produtos"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon green",children:Y.jsx("span",{className:"material-icons",children:"all_inbox"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:M.totalStock}),Y.jsx("span",{className:"stat-label",children:"Unidades em Estoque"})]})]}),Y.jsxs("div",{className:"stat-card warning",children:[Y.jsx("div",{className:"stat-icon orange",children:Y.jsx("span",{className:"material-icons",children:"warning"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:M.lowStock}),Y.jsx("span",{className:"stat-label",children:"Estoque Baixo"})]})]}),Y.jsxs("div",{className:"stat-card danger",children:[Y.jsx("div",{className:"stat-icon red",children:Y.jsx("span",{className:"material-icons",children:"remove_shopping_cart"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:M.outOfStock}),Y.jsx("span",{className:"stat-label",children:"Sem Estoque"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon purple",children:Y.jsx("span",{className:"material-icons",children:"warehouse"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:M.fulfillment}),Y.jsx("span",{className:"stat-label",children:"No Fulfillment"})]})]})]}),f.length>0&&Y.jsxs("div",{className:"warehouses-section",children:[Y.jsxs("h3",{children:[Y.jsx("span",{className:"material-icons",children:"warehouse"}),"Armazens Disponiveis"]}),Y.jsx("div",{className:"warehouses-list",children:f.map((e,t)=>Y.jsxs("div",{className:"warehouse-card",children:[Y.jsx("span",{className:"material-icons",children:"location_on"}),Y.jsx("span",{className:"warehouse-name",children:e.name||e.id})]},t))})]}),Y.jsxs("div",{className:"inventory-tabs",children:[Y.jsxs("button",{className:"tab "+("all"===y?"active":""),onClick:()=>x("all"),children:[Y.jsx("span",{className:"material-icons",children:"list"}),"Todos (",d.length,")"]}),Y.jsxs("button",{className:"tab "+("low-stock"===y?"active":""),onClick:()=>x("low-stock"),children:[Y.jsx("span",{className:"material-icons",children:"warning"}),"Estoque Baixo (",p.length,")"]}),Y.jsxs("button",{className:"tab "+("fulfillment"===y?"active":""),onClick:()=>x("fulfillment"),children:[Y.jsx("span",{className:"material-icons",children:"warehouse"}),"Fulfillment (",M.fulfillment,")"]})]}),o&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),o,Y.jsx("button",{onClick:()=>l(null),children:""})]}),c&&Y.jsxs("div",{className:"alert alert-success",children:[Y.jsx("span",{className:"material-icons",children:"check_circle"}),c,Y.jsx("button",{onClick:()=>u(null),children:""})]}),s?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando estoque..."})]}):Y.jsx("div",{className:"products-section",children:0===T().length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),Y.jsx("h3",{children:"Nenhum produto encontrado"}),Y.jsx("p",{children:"low-stock"===y?"Otimo! Nenhum produto com estoque baixo.":"fulfillment"===y?"Nenhum produto no Fulfillment.":"Seus produtos aparecerao aqui."})]}):Y.jsx("div",{className:"products-table-container",children:Y.jsxs("table",{className:"products-table",children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"Produto"}),Y.jsx("th",{children:"Preco"}),Y.jsx("th",{children:"Disponivel"}),Y.jsx("th",{children:"Vendidos"}),Y.jsx("th",{children:"Status"}),Y.jsx("th",{children:"Logistica"}),Y.jsx("th",{children:"Acoes"})]})}),Y.jsx("tbody",{children:T().map((e,t)=>{var n,r,s,i,o;const c=0===(d=e.available_quantity)?{label:"Sem Estoque",class:"danger"}:d<=C?{label:"Estoque Baixo",class:"warning"}:{label:"Em Estoque",class:"success"};var d;return Y.jsxs("tr",{className:"danger"===c.class?"row-danger":"warning"===c.class?"row-warning":"",children:[Y.jsx("td",{className:"product-cell",children:Y.jsxs("div",{className:"product-info",children:[Y.jsxs("span",{className:"product-title",children:[null==(n=e.title)?void 0:n.substring(0,50),"..."]}),Y.jsx("span",{className:"product-id",children:e.item_id})]})}),Y.jsx("td",{className:"price",children:A(e.price,e.currency_id)}),Y.jsx("td",{className:"quantity",children:Y.jsx("span",{className:`qty-badge ${c.class}`,children:e.available_quantity})}),Y.jsx("td",{className:"quantity",children:e.sold_quantity||0}),Y.jsx("td",{children:Y.jsx("span",{className:`status-badge ${c.class}`,children:c.label})}),Y.jsx("td",{children:"fulfillment"===(null==(r=e.shipping)?void 0:r.logistic_type)?Y.jsxs("span",{className:"fulfillment-badge",children:[Y.jsx("span",{className:"material-icons",children:"warehouse"}),"Full"]}):Y.jsx("span",{className:"logistic-type",children:(null==(s=e.shipping)?void 0:s.logistic_type)||"N/A"})}),Y.jsx("td",{children:Y.jsxs("div",{className:"action-buttons",children:[Y.jsx("button",{className:"btn-icon",title:"Editar estoque",onClick:()=>(async e=>{var t;b(e),S((null==(t=e.available_quantity)?void 0:t.toString())||"0"),N(!0)})(e),children:Y.jsx("span",{className:"material-icons",children:"edit"})}),Y.jsx("button",{className:"btn-icon",title:"fulfillment"===(null==(i=e.shipping)?void 0:i.logistic_type)?"Remover do Fulfillment":"Adicionar ao Fulfillment",onClick:()=>(async e=>{var t;try{"fulfillment"===(null==(t=e.shipping)?void 0:t.logistic_type)?(await iH(a,e.item_id),u("Item removido do Fulfillment")):(await sH(a,e.item_id),u("Item adicionado ao Fulfillment")),await _()}catch(n){l("Erro ao alterar Fulfillment")}})(e),children:Y.jsx("span",{className:"material-icons",children:"fulfillment"===(null==(o=e.shipping)?void 0:o.logistic_type)?"warehouse":"add_business"})})]})})]},t)})})]})})}),j&&g&&Y.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:Y.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsx("h2",{children:"Editar Estoque"}),Y.jsx("button",{className:"btn-close",onClick:()=>N(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"item-preview",children:[Y.jsx("h4",{children:g.title}),Y.jsx("p",{className:"item-id",children:g.item_id})]}),Y.jsxs("div",{className:"stock-info-grid",children:[Y.jsxs("div",{className:"stock-info-item",children:[Y.jsx("span",{className:"label",children:"Estoque Atual"}),Y.jsx("span",{className:"value",children:g.available_quantity})]}),Y.jsxs("div",{className:"stock-info-item",children:[Y.jsx("span",{className:"label",children:"Vendidos"}),Y.jsx("span",{className:"value",children:g.sold_quantity||0})]})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Nova Quantidade"}),Y.jsx("input",{type:"number",min:"0",value:w,onChange:e=>S(e.target.value),className:"form-input"})]}),g.variations>0&&Y.jsxs("div",{className:"variations-note",children:[Y.jsx("span",{className:"material-icons",children:"info"}),Y.jsxs("span",{children:["Este produto tem ",g.variations," variacao(oes). Edite cada variacao separadamente no Mercado Livre."]})]})]}),Y.jsxs("div",{className:"modal-footer",children:[Y.jsx("button",{className:"btn btn-secondary",onClick:()=>N(!1),children:"Cancelar"}),Y.jsx("button",{className:"btn btn-primary",onClick:async()=>{if(!g)return;const e=parseInt(w);if(isNaN(e)||e<0)l("Quantidade invalida");else{O(!0);try{await aH(a,g.item_id,{available_quantity:e}),u("Estoque atualizado com sucesso!"),N(!1),await _()}catch(t){l("Erro ao atualizar estoque")}finally{O(!1)}}},disabled:k,children:k?"Salvando...":"Salvar"})]})]})})]})}const hH=["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444","#06b6d4"];function pH(){var e,t,n,a;const[r,s]=z.useState([]),[i,o]=z.useState("all"),[l,c]=z.useState(null),[u,d]=z.useState({}),[h,p]=z.useState(!0),[m,f]=z.useState(null),[v,y]=z.useState({dateFrom:new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString().split("T")[0],dateTo:(new Date).toISOString().split("T")[0],orderNumber:"",title:"",sku:"",status:"Todos",modality:"Todos",shippingType:"Todos",advertising:"Todos"}),[x,g]=z.useState(!1),[b,j]=z.useState(1),[N,w]=z.useState(!1),[S,k]=z.useState(null),[O,C]=z.useState({cost:0,taxPercent:0,gtin:"",fixedStockEnabled:!1,fixedStockQuantity:1,stockSyncDisabled:!1}),[P,E]=z.useState(!1),[_,A]=z.useState(!1);z.useEffect(()=>{T()},[]),z.useEffect(()=>{M()},[i,v.dateFrom,v.dateTo]);const T=async()=>{try{const e=(await Ef.get("/sales-dashboard/accounts")).data.accounts||[];s(e)}catch(e){console.error("Erro ao carregar contas:",e)}},M=async()=>{p(!0),f(null);try{const e=new URLSearchParams;i&&"all"!==i&&e.append("accountId",i),e.append("dateFrom",v.dateFrom),e.append("dateTo",v.dateTo);const[t,n]=await Promise.all([Ef.get(`/sales-dashboard/data?${e}`),Ef.get("/sales-dashboard/skus")]);c(t.data.data),d(n.data.skus||{})}catch(e){console.error("Erro ao carregar dados:",e),f("Erro ao carregar dados do dashboard. Verifique se voc tem pedidos sincronizados."),c(null)}finally{p(!1)}},R=(null==l?void 0:l.metrics)||{totalRevenue:0,cancelledRevenue:0,totalCostAndTax:0,totalCost:0,totalTax:0,totalSaleFee:0,totalShipping:0,totalShippingBuyer:0,totalShippingSeller:0,totalMargin:0,marginPercent:0,totalQuantity:0,cancelledQuantity:0,avgTicket:0,avgMargin:0,avgMarginPercent:0,approvedCount:0,cancelledCount:0,partialReturns:0,partialReturnsQty:0},D=(null==l?void 0:l.byModality)||{},I=z.useMemo(()=>(null==l?void 0:l.sales)?l.sales.filter(e=>{var t,n,a;if(v.orderNumber&&!(null==(t=e.orderId)?void 0:t.includes(v.orderNumber)))return!1;if(v.title&&!(null==(n=e.title)?void 0:n.toLowerCase().includes(v.title.toLowerCase())))return!1;if(v.sku&&!(null==(a=e.sku)?void 0:a.toLowerCase().includes(v.sku.toLowerCase())))return!1;if("Todos"!==v.status){if("paid"===v.status&&"paid"!==e.status)return!1;if("cancelled"===v.status&&"cancelled"!==e.status)return!1}return"Todos"===v.modality||e.modality===v.modality}):[],[null==l?void 0:l.sales,v]),L=z.useMemo(()=>{const e=20*(b-1);return I.slice(e,e+20)},[I,b]),B=Math.ceil(I.length/20),F=(null==(e=null==l?void 0:l.charts)?void 0:e.daily)||[],$=(null==(t=null==l?void 0:l.charts)?void 0:t.topProducts)||[],U=z.useMemo(()=>Object.entries(D).filter(([e,t])=>t>0).map(([e,t])=>({name:e,value:t})),[D]),q=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0),V=e=>{if(!e)return"-";return new Date(e).toLocaleDateString("pt-BR")},W=async(e=!1)=>{E(!0);try{await Ef.post("/sales-dashboard/sku",{sku:S,cost:parseFloat(O.cost)||0,taxPercent:parseFloat(O.taxPercent)||0,gtin:O.gtin||null,fixedStock:{enabled:O.fixedStockEnabled,quantity:parseInt(O.fixedStockQuantity)||1},stockSync:{disabled:O.stockSyncDisabled}}),await M(),e&&w(!1)}catch(t){f("Erro ao salvar SKU")}finally{E(!1)}};return h&&!l?Y.jsx("div",{className:"sales-dashboard",children:Y.jsxs("div",{className:"loading-container",children:[Y.jsx("div",{className:"spinner-lg"}),Y.jsx("p",{children:"Carregando dashboard de vendas..."})]})}):Y.jsxs("div",{className:"sales-dashboard",children:[Y.jsx("button",{className:"mobile-filter-toggle",onClick:()=>g(!x),children:Y.jsx("span",{className:"material-icons",children:x?"close":"filter_list"})}),Y.jsx("div",{className:"filters-overlay "+(x?"active":""),onClick:()=>g(!1)}),Y.jsxs("div",{className:"dashboard-layout",children:[Y.jsxs("aside",{className:"filters-sidebar "+(x?"open":""),children:[Y.jsx("h3",{children:"Filtrar Busca"}),Y.jsxs("div",{className:"filter-row",children:[Y.jsxs("div",{className:"filter-group",children:[Y.jsx("label",{children:"Data Incio"}),Y.jsx("input",{type:"date",value:v.dateFrom,onChange:e=>y({...v,dateFrom:e.target.value})})]}),Y.jsxs("div",{className:"filter-group",children:[Y.jsx("label",{children:"Data Fim"}),Y.jsx("input",{type:"date",value:v.dateTo,onChange:e=>y({...v,dateTo:e.target.value})})]})]}),Y.jsxs("div",{className:"filter-group",children:[Y.jsx("label",{children:"N Pedido / Carrinho"}),Y.jsx("input",{type:"text",placeholder:"Buscar...",value:v.orderNumber,onChange:e=>y({...v,orderNumber:e.target.value})})]}),Y.jsxs("div",{className:"filter-group",children:[Y.jsx("label",{children:"Ttulo ou MLB"}),Y.jsx("input",{type:"text",placeholder:"Buscar...",value:v.title,onChange:e=>y({...v,title:e.target.value})})]}),Y.jsxs("div",{className:"filter-group",children:[Y.jsx("label",{children:"SKU"}),Y.jsx("input",{type:"text",placeholder:"Buscar...",value:v.sku,onChange:e=>y({...v,sku:e.target.value})})]}),Y.jsxs("div",{className:"filter-group",children:[Y.jsx("label",{children:"Status Venda"}),Y.jsxs("select",{value:v.status,onChange:e=>y({...v,status:e.target.value}),children:[Y.jsx("option",{children:"Todos"}),Y.jsx("option",{value:"paid",children:"Pago"}),Y.jsx("option",{value:"cancelled",children:"Cancelado"})]})]}),Y.jsxs("div",{className:"filter-group",children:[Y.jsx("label",{children:"Modalidade"}),Y.jsxs("select",{value:v.modality,onChange:e=>y({...v,modality:e.target.value}),children:[Y.jsx("option",{children:"Todos"}),Y.jsx("option",{value:"Full",children:"Full"}),Y.jsx("option",{value:"Flex",children:"Flex"}),Y.jsx("option",{value:"Places / Coleta",children:"Places / Coleta"}),Y.jsx("option",{value:"Outros",children:"Outros"})]})]}),Y.jsxs("div",{className:"filter-group",children:[Y.jsx("label",{children:"Tipo do Frete"}),Y.jsxs("select",{value:v.shippingType,onChange:e=>y({...v,shippingType:e.target.value}),children:[Y.jsx("option",{children:"Todos"}),Y.jsx("option",{value:"free",children:"Frete Grtis"}),Y.jsx("option",{value:"paid",children:"Frete Pago"})]})]}),Y.jsxs("div",{className:"filter-group",children:[Y.jsx("label",{children:"Publicidade"}),Y.jsxs("select",{value:v.advertising,onChange:e=>y({...v,advertising:e.target.value}),children:[Y.jsx("option",{children:"Todos"}),Y.jsx("option",{value:"product_ads",children:"Product Ads"}),Y.jsx("option",{value:"organic",children:"Orgnico"})]})]}),Y.jsxs("div",{className:"filters-actions",children:[Y.jsx("button",{className:"btn-filter-primary",onClick:()=>{j(1),M(),g(!1)},children:"Aplicar"}),Y.jsx("button",{className:"btn-filter-secondary",onClick:()=>{y({...v,orderNumber:"",title:"",sku:"",status:"Todos",modality:"Todos",shippingType:"Todos",advertising:"Todos"}),j(1)},children:"Limpar"})]})]}),Y.jsxs("main",{className:"dashboard-content",children:[m&&Y.jsxs("div",{className:"alert alert-warning",children:[Y.jsx("span",{className:"material-icons",children:"info"}),Y.jsxs("div",{className:"alert-content",children:[Y.jsx("strong",{children:"Ateno:"})," ",m,Y.jsx("small",{children:"Sincronize seus pedidos na pgina de Pedidos para ver os dados aqui."})]}),Y.jsx("button",{className:"alert-close",onClick:()=>f(null),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"metrics-grid",children:[Y.jsxs("div",{className:"metric-card purple",children:[Y.jsxs("div",{className:"metric-card-header",children:[Y.jsx("span",{className:"metric-card-title",children:"Vendas Aprovadas"}),Y.jsx("span",{className:"material-icons metric-card-info",title:"Total de vendas aprovadas no perodo",children:"info"})]}),Y.jsx("div",{className:"metric-card-value",children:q(R.totalRevenue)}),Y.jsxs("div",{className:"metric-card-details",children:[Y.jsxs("div",{className:"metric-detail-row",children:[Y.jsx("span",{children:"Faturamento ML"}),Y.jsx("span",{children:q(R.totalRevenue)})]}),Y.jsxs("div",{className:"metric-detail-row",children:[Y.jsx("span",{children:"Vendas Canceladas"}),Y.jsx("span",{children:q(R.cancelledRevenue)})]}),Y.jsxs("label",{className:"metric-checkbox",children:[Y.jsx("input",{type:"checkbox",checked:_,onChange:e=>A(e.target.checked)}),Y.jsx("span",{children:"Considerar frete comprador"})]})]})]}),Y.jsxs("div",{className:"metric-card blue",children:[Y.jsxs("div",{className:"metric-card-header",children:[Y.jsx("span",{className:"metric-card-title",children:"Custo & Imposto"}),Y.jsx("span",{className:"material-icons metric-card-info",title:"Custo dos produtos + Impostos cadastrados",children:"info"})]}),Y.jsx("div",{className:"metric-card-value",children:q(R.totalCostAndTax)}),Y.jsxs("div",{className:"metric-card-details",children:[Y.jsxs("div",{className:"metric-detail-row",children:[Y.jsx("span",{children:"Custo"}),Y.jsx("span",{children:q(R.totalCost)})]}),Y.jsxs("div",{className:"metric-detail-row",children:[Y.jsx("span",{children:"Imposto"}),Y.jsx("span",{children:q(R.totalTax)})]})]})]}),Y.jsxs("div",{className:"metric-card orange",children:[Y.jsxs("div",{className:"metric-card-header",children:[Y.jsx("span",{className:"metric-card-title",children:"Tarifa de Venda"}),Y.jsx("span",{className:"material-icons metric-card-info",title:"Tarifas cobradas pelo Mercado Livre",children:"info"})]}),Y.jsx("div",{className:"metric-card-value",children:q(R.totalSaleFee)}),Y.jsx("div",{className:"metric-card-details",children:Y.jsxs("div",{className:"metric-detail-row",children:[Y.jsx("span",{children:"Taxa ML"}),Y.jsx("span",{children:q(R.totalSaleFee)})]})})]}),Y.jsxs("div",{className:"metric-card yellow",children:[Y.jsxs("div",{className:"metric-card-header",children:[Y.jsx("span",{className:"metric-card-title",children:"Frete Total"}),Y.jsx("span",{className:"material-icons metric-card-info",title:"Custos de frete",children:"info"})]}),Y.jsx("div",{className:"metric-card-value",children:q(R.totalShipping)}),Y.jsxs("div",{className:"metric-card-details",children:[Y.jsxs("div",{className:"metric-detail-row",children:[Y.jsx("span",{children:"Frete Comprador"}),Y.jsx("span",{children:q(R.totalShippingBuyer)})]}),Y.jsxs("div",{className:"metric-detail-row",children:[Y.jsx("span",{children:"Frete Vendedor"}),Y.jsx("span",{children:q(R.totalShippingSeller)})]})]})]}),Y.jsxs("div",{className:"metric-card green",children:[Y.jsxs("div",{className:"metric-card-header",children:[Y.jsx("span",{className:"metric-card-title",children:"Margem de Contribuio"}),Y.jsx("span",{className:"material-icons metric-card-info",title:"Lucro aps custos, impostos e taxas",children:"info"})]}),Y.jsx("div",{className:"metric-card-value",children:q(R.totalMargin)}),Y.jsx("div",{className:"metric-card-details",children:Y.jsxs("div",{className:"metric-detail-row highlight",children:[Y.jsx("span",{children:"Percentual"}),Y.jsxs("span",{children:[(null==(n=R.marginPercent)?void 0:n.toFixed(2))||0,"%"]})]})})]})]}),Y.jsxs("div",{className:"metrics-grid-secondary",children:[Y.jsxs("div",{className:"metric-card gray",children:[Y.jsxs("div",{className:"metric-card-header",children:[Y.jsx("span",{className:"metric-card-title",children:"Canais / Modalidades"}),Y.jsx("span",{className:"material-icons metric-card-info",title:"Vendas por tipo de envio",children:"info"})]}),Y.jsxs("div",{className:"modality-list",children:[Object.entries(D).map(([e,t])=>Y.jsxs("div",{className:"modality-item",children:[Y.jsx("span",{children:e}),Y.jsx("span",{children:q(t)})]},e)),Y.jsxs("div",{className:"modality-item modality-total",children:[Y.jsx("span",{children:"Total"}),Y.jsx("span",{children:q(R.totalRevenue)})]})]})]}),Y.jsxs("div",{className:"metric-card teal",children:[Y.jsxs("div",{className:"metric-card-header",children:[Y.jsx("span",{className:"metric-card-title",children:"Qtd Vendas Aprovadas"}),Y.jsx("span",{className:"material-icons metric-card-info",title:"Quantidade de itens vendidos",children:"info"})]}),Y.jsx("div",{className:"metric-card-value",children:R.totalQuantity}),Y.jsxs("div",{className:"metric-card-details",children:[Y.jsxs("div",{className:"metric-detail-row",children:[Y.jsx("span",{children:"Qtd Total Vendas"}),Y.jsxs("span",{children:[R.totalQuantity," (",R.approvedCount," un)"]})]}),Y.jsxs("div",{className:"metric-detail-row",children:[Y.jsx("span",{children:"Qtd Canceladas"}),Y.jsxs("span",{children:[R.cancelledQuantity," (",R.cancelledCount," un)"]})]})]})]}),Y.jsxs("div",{className:"metric-card pink",children:[Y.jsxs("div",{className:"metric-card-header",children:[Y.jsx("span",{className:"metric-card-title",children:"Ticket Mdio Venda"}),Y.jsx("span",{className:"material-icons metric-card-info",title:"Valor mdio por venda",children:"info"})]}),Y.jsx("div",{className:"metric-card-value",children:q(R.avgTicket)}),Y.jsx("div",{className:"metric-card-details",children:Y.jsxs("div",{className:"metric-detail-row",children:[Y.jsx("span",{children:"Ticket Mdio"}),Y.jsx("span",{children:q(R.avgTicket)})]})})]}),Y.jsxs("div",{className:"metric-card cyan",children:[Y.jsxs("div",{className:"metric-card-header",children:[Y.jsx("span",{className:"metric-card-title",children:"Ticket Mdio Margem"}),Y.jsx("span",{className:"material-icons metric-card-info",title:"Margem mdia por venda",children:"info"})]}),Y.jsx("div",{className:"metric-card-value",children:q(R.avgMargin)}),Y.jsxs("div",{className:"metric-card-details",children:[Y.jsxs("div",{className:"metric-detail-row",children:[Y.jsx("span",{children:"Ticket MC"}),Y.jsx("span",{children:q(R.avgMargin)})]}),Y.jsxs("div",{className:"metric-detail-row highlight",children:[Y.jsx("span",{children:"MC %"}),Y.jsxs("span",{children:[(null==(a=R.avgMarginPercent)?void 0:a.toFixed(2))||0,"%"]})]})]})]}),Y.jsxs("div",{className:"metric-card red",children:[Y.jsxs("div",{className:"metric-card-header",children:[Y.jsx("span",{className:"metric-card-title",children:"Devolues Parciais"}),Y.jsx("span",{className:"material-icons metric-card-info",title:"Devolues parciais",children:"info"})]}),Y.jsx("div",{className:"metric-card-value",children:q(R.partialReturns)}),Y.jsxs("div",{className:"metric-card-details",children:[Y.jsxs("div",{className:"metric-detail-row",children:[Y.jsx("span",{children:"Valor"}),Y.jsx("span",{children:q(R.partialReturns)})]}),Y.jsxs("div",{className:"metric-detail-row",children:[Y.jsx("span",{children:"Qtd Vendas"}),Y.jsx("span",{children:R.partialReturnsQty})]})]})]})]}),Y.jsxs("div",{className:"sales-details-section",children:[Y.jsxs("div",{className:"sales-details-header",children:[Y.jsx("h3",{children:"Detalhes de Vendas"}),Y.jsxs("div",{className:"sales-details-actions",children:[Y.jsxs("button",{className:"btn-action btn-action-primary",onClick:M,disabled:h,children:[Y.jsx("span",{className:"material-icons",children:h?"hourglass_empty":"sync"}),Y.jsx("span",{children:h?"Atualizando...":"Atualizar"})]}),Y.jsxs("button",{className:"btn-action btn-action-success",onClick:()=>{const e=I.map(e=>{var t,n,a,r,s,i,o,l;return[e.orderId,V(e.orderDate),`"${(e.title||"").replace(/"/g,'""')}"`,e.accountNickname,e.sku||"-",e.quantity,null==(t=e.unitPrice)?void 0:t.toFixed(2),null==(n=e.mlRevenue)?void 0:n.toFixed(2),null==(a=e.cost)?void 0:a.toFixed(2),null==(r=e.tax)?void 0:r.toFixed(2),null==(s=e.saleFee)?void 0:s.toFixed(2),null==(i=e.shippingCostBuyer)?void 0:i.toFixed(2),null==(o=e.shippingCostSeller)?void 0:o.toFixed(2),null==(l=e.margin)?void 0:l.toFixed(2)]}),t=[["Pedido","Data","Anncio","Conta","SKU","Qtd","Valor Unit.","Faturamento ML","Custo","Imposto","Tarifa ML","Frete Comprador","Frete Vendedor","Margem Contrib."].join(";"),...e.map(e=>e.join(";"))].join("\n"),n=new Blob(["\ufeff"+t],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download=`vendas_${v.dateFrom}_${v.dateTo}.csv`,r.click()},disabled:0===I.length,children:[Y.jsx("span",{className:"material-icons",children:"download"}),Y.jsx("span",{children:"Exportar CSV"})]})]})]}),Y.jsx("div",{className:"table-container",children:Y.jsxs("table",{className:"sales-table",children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"Anncio"}),Y.jsx("th",{children:"Conta"}),Y.jsx("th",{children:"SKU"}),Y.jsx("th",{children:"Data"}),Y.jsx("th",{children:"Frete"}),Y.jsx("th",{children:"Valor Unit."}),Y.jsx("th",{children:"Qtd."}),Y.jsx("th",{className:"col-revenue",children:"Faturamento ML"}),Y.jsx("th",{className:"col-negative",children:"Custo (-)"}),Y.jsx("th",{className:"col-negative",children:"Imposto (-)"}),Y.jsx("th",{className:"col-negative",children:"Tarifa (-)"}),Y.jsx("th",{className:"col-negative",children:"Frete Comp. (-)"}),Y.jsx("th",{className:"col-negative",children:"Frete Vend. (-)"}),Y.jsx("th",{className:"col-margin",children:"Margem Contrib."})]})}),Y.jsx("tbody",{children:h?Y.jsx("tr",{children:Y.jsx("td",{colSpan:"14",children:Y.jsxs("div",{className:"empty-state",children:[Y.jsx("div",{className:"spinner-lg"}),Y.jsx("p",{children:"Carregando vendas..."})]})})}):0===I.length?Y.jsx("tr",{children:Y.jsx("td",{colSpan:"14",children:Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"inbox"}),Y.jsx("p",{children:"Nenhuma venda encontrada"}),Y.jsx("small",{children:"Sincronize seus pedidos na pgina de Pedidos"})]})})}):L.map((e,t)=>{var n;return Y.jsxs("tr",{children:[Y.jsxs("td",{className:"cell-title",title:e.title,children:[(null==(n=e.title)?void 0:n.substring(0,40))||"Sem ttulo","..."]}),Y.jsx("td",{children:e.accountNickname}),Y.jsx("td",{children:Y.jsxs("button",{className:"sku-button "+(e.hasSku?"has-cost":"no-cost"),onClick:()=>(e=>{var t,n,a;const r=u[e]||{cost:0,taxPercent:0,gtin:"",fixedStock:{enabled:!1,quantity:1},stockSync:{disabled:!1}};k(e),C({cost:r.cost||0,taxPercent:r.taxPercent||0,gtin:r.gtin||"",fixedStockEnabled:(null==(t=r.fixedStock)?void 0:t.enabled)||!1,fixedStockQuantity:(null==(n=r.fixedStock)?void 0:n.quantity)||1,stockSyncDisabled:(null==(a=r.stockSync)?void 0:a.disabled)||!1}),w(!0)})(e.sku||e.itemId),title:e.hasSku?"Clique para editar custo":"Clique para cadastrar custo",children:[e.sku||e.itemId||"-",Y.jsx("span",{className:"material-icons",children:e.hasSku?"edit":"add_circle"})]})}),Y.jsx("td",{children:V(e.orderDate)}),Y.jsx("td",{children:e.modality||"-"}),Y.jsx("td",{children:q(e.unitPrice)}),Y.jsx("td",{children:e.quantity}),Y.jsx("td",{className:"col-revenue",children:q(e.mlRevenue)}),Y.jsx("td",{className:"col-negative",children:q(e.cost)}),Y.jsx("td",{className:"col-negative",children:q(e.tax)}),Y.jsx("td",{className:"col-negative",children:q(e.saleFee)}),Y.jsx("td",{className:"col-negative",children:q(e.shippingCostBuyer)}),Y.jsx("td",{className:"col-negative",children:q(e.shippingCostSeller)}),Y.jsx("td",{className:"col-margin "+(e.margin>=0?"positive":"negative"),children:q(e.margin)})]},`${e.orderId}-${t}`)})})]})}),I.length>0&&Y.jsxs("div",{className:"table-footer",children:[Y.jsxs("div",{className:"pagination-info",children:["Mostrando ",20*(b-1)+1,"-",Math.min(20*b,I.length)," de ",I.length," registros"]}),Y.jsxs("div",{className:"pagination-controls",children:[Y.jsxs("button",{className:"pagination-btn",onClick:()=>j(e=>Math.max(1,e-1)),disabled:1===b,children:[Y.jsx("span",{className:"material-icons",children:"chevron_left"}),"Anterior"]}),Y.jsxs("span",{className:"pagination-page",children:["Pgina ",b]}),Y.jsxs("button",{className:"pagination-btn",onClick:()=>j(e=>Math.min(B,e+1)),disabled:b===B,children:["Prxima",Y.jsx("span",{className:"material-icons",children:"chevron_right"})]})]})]})]}),Y.jsxs("div",{className:"charts-section",children:[Y.jsx("h3",{children:"Representao Grfica"}),F.length>0||U.length>0?Y.jsxs("div",{className:"charts-grid",children:[U.length>0&&Y.jsxs("div",{className:"chart-card",children:[Y.jsx("h4",{children:"Vendas por Modalidade"}),Y.jsx(RC,{width:"100%",height:280,children:Y.jsxs(cK,{children:[Y.jsx(f$,{data:U,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e}: ${(100*t).toFixed(0)}%`,outerRadius:90,fill:"#8884d8",dataKey:"value",children:U.map((e,t)=>Y.jsx(DC,{fill:hH[t%hH.length]},`cell-${t}`))}),Y.jsx(oC,{formatter:e=>q(e)})]})})]}),F.length>0&&Y.jsxs("div",{className:"chart-card",children:[Y.jsx("h4",{children:"Faturamento por Dia"}),Y.jsx(RC,{width:"100%",height:280,children:Y.jsxs(uK,{data:F,children:[Y.jsx(lV,{strokeDasharray:"3 3"}),Y.jsx(JV,{dataKey:"date",tickFormatter:e=>e.split("-").slice(1).join("/")}),Y.jsx(cW,{tickFormatter:e=>`R$${(e/1e3).toFixed(0)}k`}),Y.jsx(oC,{formatter:e=>q(e),labelFormatter:e=>`Data: ${e}`}),Y.jsx(Ck,{}),Y.jsx(zV,{type:"monotone",dataKey:"revenue",name:"Faturamento",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.3}),Y.jsx(zV,{type:"monotone",dataKey:"margin",name:"Margem",stroke:"#10b981",fill:"#10b981",fillOpacity:.3})]})})]}),$.length>0&&Y.jsxs("div",{className:"chart-card full-width",children:[Y.jsx("h4",{children:"Top 10 Produtos por Faturamento"}),Y.jsx(RC,{width:"100%",height:350,children:Y.jsxs(lK,{data:$,layout:"vertical",margin:{left:20},children:[Y.jsx(lV,{strokeDasharray:"3 3"}),Y.jsx(JV,{type:"number",tickFormatter:e=>`R$${(e/1e3).toFixed(0)}k`}),Y.jsx(cW,{type:"category",dataKey:"name",width:180,tick:{fontSize:12}}),Y.jsx(oC,{formatter:e=>q(e)}),Y.jsx(Ck,{}),Y.jsx(nU,{dataKey:"revenue",name:"Faturamento",fill:"#3b82f6",radius:[0,4,4,0]})]})})]}),F.length>0&&Y.jsxs("div",{className:"chart-card",children:[Y.jsx("h4",{children:"Margem por Dia"}),Y.jsx(RC,{width:"100%",height:280,children:Y.jsxs(oK,{data:F,children:[Y.jsx(lV,{strokeDasharray:"3 3"}),Y.jsx(JV,{dataKey:"date",tickFormatter:e=>e.split("-").slice(1).join("/")}),Y.jsx(cW,{tickFormatter:e=>`R$${(e/1e3).toFixed(0)}k`}),Y.jsx(oC,{formatter:e=>q(e)}),Y.jsx(Ck,{}),Y.jsx(kV,{type:"monotone",dataKey:"margin",name:"Margem",stroke:"#10b981",strokeWidth:2,dot:{r:3}})]})})]}),F.length>0&&Y.jsxs("div",{className:"chart-card",children:[Y.jsx("h4",{children:"Quantidade Vendida por Dia"}),Y.jsx(RC,{width:"100%",height:280,children:Y.jsxs(lK,{data:F,children:[Y.jsx(lV,{strokeDasharray:"3 3"}),Y.jsx(JV,{dataKey:"date",tickFormatter:e=>e.split("-").slice(1).join("/")}),Y.jsx(cW,{}),Y.jsx(oC,{}),Y.jsx(Ck,{}),Y.jsx(nU,{dataKey:"qty",name:"Quantidade",fill:"#f59e0b",radius:[4,4,0,0]})]})})]})]}):Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"show_chart"}),Y.jsx("p",{children:"Nenhum dado disponvel para grficos"}),Y.jsx("small",{children:"Sincronize seus pedidos para ver as representaes grficas"})]})]})]})]}),N&&Y.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:Y.jsxs("div",{className:"modal-content sku-modal",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsxs("h2",{children:["SKU: ",S]}),Y.jsx("button",{className:"btn-close",onClick:()=>w(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsx("div",{className:"modal-body",children:Y.jsxs("div",{className:"sku-modal-grid",children:[Y.jsxs("div",{className:"sku-modal-section",children:[Y.jsxs("h4",{children:[Y.jsx("span",{className:"material-icons",children:"payments"}),"Custos & Impostos"]}),Y.jsxs("div",{className:"sku-form-group",children:[Y.jsxs("label",{children:["Custo (R$)",Y.jsx("span",{className:"material-icons",title:"Custo unitrio do produto",children:"help"})]}),Y.jsx("input",{type:"number",step:"0.01",min:"0",value:O.cost,onChange:e=>C({...O,cost:e.target.value}),className:"sku-input highlight",placeholder:"0,00"})]}),Y.jsxs("div",{className:"sku-form-group",children:[Y.jsxs("label",{children:["Imposto (%)",Y.jsx("span",{className:"material-icons",title:"Percentual de imposto sobre a venda",children:"help"})]}),Y.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:O.taxPercent,onChange:e=>C({...O,taxPercent:e.target.value}),className:"sku-input",placeholder:"0,00"})]}),Y.jsxs("div",{className:"sku-form-group",children:[Y.jsxs("label",{children:["GTIN",Y.jsx("span",{className:"material-icons",title:"Cdigo de barras do produto",children:"help"})]}),Y.jsx("input",{type:"text",placeholder:"GTIN do produto",value:O.gtin,onChange:e=>C({...O,gtin:e.target.value}),className:"sku-input"})]})]}),Y.jsxs("div",{className:"sku-modal-section",children:[Y.jsxs("h4",{children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),"Estoque Fixo"]}),Y.jsxs("div",{className:"sku-checkbox-group",children:[Y.jsx("input",{type:"checkbox",id:"fixedStock",checked:O.fixedStockEnabled,onChange:e=>C({...O,fixedStockEnabled:e.target.checked})}),Y.jsx("span",{children:"Sim, quero manter o estoque deste SKU fixo"})]}),Y.jsxs("div",{className:"sku-form-group",children:[Y.jsxs("label",{children:["Manter estoque em:",Y.jsx("span",{className:"material-icons",title:"Quantidade fixa de estoque",children:"help"})]}),Y.jsx("input",{type:"number",min:"0",value:O.fixedStockQuantity,onChange:e=>C({...O,fixedStockQuantity:e.target.value}),className:"sku-input",disabled:!O.fixedStockEnabled})]}),Y.jsxs("h4",{className:"mt-4",children:[Y.jsx("span",{className:"material-icons",children:"sync"}),"Sincronizao de Estoque"]}),Y.jsxs("div",{className:"sku-checkbox-group",children:[Y.jsx("input",{type:"checkbox",id:"stockSync",checked:O.stockSyncDisabled,onChange:e=>C({...O,stockSyncDisabled:e.target.checked})}),Y.jsx("span",{children:"No automatizar a sincronizao de baixa de estoque neste produto."})]}),Y.jsxs("div",{className:"sku-warning-box",children:[Y.jsx("span",{className:"material-icons",children:"warning"}),Y.jsxs("p",{children:[Y.jsx("strong",{children:"Ateno:"})," Voc no poder ter ",Y.jsx("strong",{children:"Estoque Fixo"})," e ",Y.jsx("strong",{children:"Sincronizao de Estoque"})," ativos ao mesmo tempo. Estoque fixo possui prioridade sobre a sincronizao de estoque (baixa de estoque na venda)."]})]})]})]})}),Y.jsxs("div",{className:"modal-footer",children:[Y.jsx("button",{className:"btn-sku btn-sku-primary",onClick:()=>W(!1),disabled:P,children:P?"Salvando...":"Salvar"}),Y.jsx("button",{className:"btn-sku btn-sku-secondary",onClick:()=>W(!0),disabled:P,children:"Salvar e Fechar"}),Y.jsx("button",{className:"btn-sku btn-sku-ghost",onClick:()=>w(!1),children:"Fechar"})]})]})})]})}function mH(){var e,t,n,a,r,s,i,o,l,c,u,d,h,p,m,f,v,y,x,g,b,j,N,w;const[S,k]=z.useState([]),[O,C]=z.useState(""),[P,E]=z.useState(!0),[_,A]=z.useState(null),[T,M]=z.useState([]),[R,D]=z.useState(null);z.useEffect(()=>{I()},[]),z.useEffect(()=>{O&&L()},[O]);const I=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];k(n),n.length>0&&C(n[0].id)}catch(t){D("Erro ao carregar contas"),E(!1)}},L=async()=>{E(!0),D(null);try{const e=await Ef.get(`/metrics/${O}/reputation`);A(e.data.reputation);const t=B(e.data.reputation);M(t)}catch(e){D("Erro ao carregar reputacao"),A(null)}finally{E(!1)}},B=e=>{var t,n,a,r,s;const i=(null==(t=null==e?void 0:e.transactions)?void 0:t.completed)||0,o=100*((null==(a=null==(n=null==e?void 0:e.metrics)?void 0:n.claims)?void 0:a.rate)||0),l=100*((null==(s=null==(r=null==e?void 0:e.metrics)?void 0:r.delayed_handling_time)?void 0:s.rate)||0);return["Jan","Fev","Mar","Abr","Mai","Jun"].map((e,t)=>({month:e,vendas:Math.max(0,Math.floor(i/6*(1+.1*(t-3)))),reclamacoes:Math.max(0,o+2*(Math.random()-.5)).toFixed(1),atrasos:Math.max(0,l+2*(Math.random()-.5)).toFixed(1)}))},F=e=>({"5_green":{label:"MercadoLider Platinum",color:"#10b981",icon:"workspace_premium",description:"Voce esta no nivel maximo! Continue assim.",score:100},"4_light_green":{label:"MercadoLider Gold",color:"#84cc16",icon:"military_tech",description:"Otimo desempenho! Voce esta quase no topo.",score:80},"3_yellow":{label:"MercadoLider",color:"#eab308",icon:"verified",description:"Bom trabalho! Continue melhorando suas metricas.",score:60},"2_orange":{label:"Bom",color:"#f97316",icon:"thumb_up",description:"Voce pode melhorar. Foque nas metricas abaixo.",score:40},"1_red":{label:"Regular",color:"#ef4444",icon:"warning",description:"Atencao! Suas metricas precisam de melhoria urgente.",score:20}}[e]||{label:"Nao Avaliado",color:"#6b7280",icon:"help",description:"Sem dados suficientes.",score:0}),$=(e,t)=>e<=t.good?{status:"good",color:"#10b981",label:"Otimo"}:e<=t.warning?{status:"warning",color:"#f59e0b",label:"Atencao"}:{status:"danger",color:"#ef4444",label:"Critico"};if(P)return Y.jsx("div",{className:"reputation-page",children:Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner-large"}),Y.jsx("p",{children:"Carregando reputacao..."})]})});const U=_?F(_.level_id):null,q=100*((null==(t=null==(e=null==_?void 0:_.metrics)?void 0:e.claims)?void 0:t.rate)||0),V=100*((null==(a=null==(n=null==_?void 0:_.metrics)?void 0:n.delayed_handling_time)?void 0:a.rate)||0),W=100*((null==(s=null==(r=null==_?void 0:_.metrics)?void 0:r.cancellations)?void 0:s.rate)||0),K=$(q,{good:1,warning:3}),H=$(V,{good:5,warning:10}),G=$(W,{good:2,warning:5});return Y.jsxs("div",{className:"reputation-page",children:[Y.jsxs("header",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"verified"}),"Reputacao"]}),Y.jsx("p",{children:"Acompanhe e melhore sua reputacao no Mercado Livre"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:O,onChange:e=>C(e.target.value),children:S.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("button",{className:"btn btn-secondary",onClick:L,children:[Y.jsx("span",{className:"material-icons",children:"refresh"}),"Atualizar"]})]})]}),R&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),R]}),_&&Y.jsxs(Y.Fragment,{children:[Y.jsx("section",{className:"level-section",children:Y.jsxs("div",{className:"level-card",style:{"--level-color":U.color},children:[Y.jsx("div",{className:"level-thermometer",children:(()=>{if(!_)return null;const e=F(_.level_id),t=[{name:"score",value:e.score,fill:e.color}];return Y.jsxs("div",{className:"thermometer-container",children:[Y.jsx(RC,{width:"100%",height:200,children:Y.jsx(dK,{cx:"50%",cy:"50%",innerRadius:"60%",outerRadius:"100%",barSize:20,data:t,startAngle:180,endAngle:0,children:Y.jsx(B$,{background:{fill:"#e5e7eb"},dataKey:"value",cornerRadius:10})})}),Y.jsxs("div",{className:"thermometer-center",children:[Y.jsx("span",{className:"material-icons",style:{color:e.color,fontSize:"2.5rem"},children:e.icon}),Y.jsx("span",{className:"thermometer-label",children:e.label})]})]})})()}),Y.jsxs("div",{className:"level-info",children:[Y.jsxs("div",{className:"level-badge",children:[Y.jsx("span",{className:"material-icons",children:U.icon}),Y.jsx("span",{children:U.label})]}),Y.jsx("p",{className:"level-description",children:U.description}),Y.jsxs("div",{className:"level-stats",children:[Y.jsxs("div",{className:"level-stat",children:[Y.jsx("span",{className:"stat-value",children:(null==(i=_.transactions)?void 0:i.completed)||0}),Y.jsx("span",{className:"stat-label",children:"Vendas Completadas"})]}),Y.jsxs("div",{className:"level-stat",children:[Y.jsx("span",{className:"stat-value",children:(null==(o=_.transactions)?void 0:o.canceled)||0}),Y.jsx("span",{className:"stat-label",children:"Vendas Canceladas"})]}),Y.jsxs("div",{className:"level-stat positive",children:[Y.jsx("span",{className:"stat-value",children:(null==(c=null==(l=_.transactions)?void 0:l.ratings)?void 0:c.positive)||0}),Y.jsx("span",{className:"stat-label",children:"Avaliacoes Positivas"})]}),Y.jsxs("div",{className:"level-stat negative",children:[Y.jsx("span",{className:"stat-value",children:(null==(d=null==(u=_.transactions)?void 0:u.ratings)?void 0:d.negative)||0}),Y.jsx("span",{className:"stat-label",children:"Avaliacoes Negativas"})]})]}),_.power_seller_status&&Y.jsxs("div",{className:"power-seller-badge",children:[Y.jsx("span",{className:"material-icons",children:"stars"}),Y.jsxs("span",{children:["Power Seller: ",_.power_seller_status]})]})]})]})}),Y.jsxs("section",{className:"metrics-section",children:[Y.jsxs("h2",{className:"section-title",children:[Y.jsx("span",{className:"material-icons",children:"analytics"}),"Metricas de Performance"]}),Y.jsxs("div",{className:"metrics-grid",children:[Y.jsxs("div",{className:`metric-card ${K.status}`,children:[Y.jsxs("div",{className:"metric-header",children:[Y.jsx("div",{className:"metric-icon",children:Y.jsx("span",{className:"material-icons",children:"report_problem"})}),Y.jsx("span",{className:`metric-badge ${K.status}`,children:K.label})]}),Y.jsxs("div",{className:"metric-body",children:[Y.jsxs("span",{className:"metric-value",children:[q.toFixed(2),"%"]}),Y.jsx("span",{className:"metric-label",children:"Taxa de Reclamacoes"}),Y.jsx("div",{className:"metric-bar",children:Y.jsx("div",{className:"metric-bar-fill",style:{width:`${Math.min(10*q,100)}%`,background:K.color}})}),Y.jsxs("p",{className:"metric-help",children:[Y.jsx("span",{className:"material-icons",children:"info"}),"Ideal: menos de 1%"]})]}),Y.jsxs("div",{className:"metric-details",children:[Y.jsxs("div",{className:"detail-row",children:[Y.jsx("span",{children:"Total de Reclamacoes"}),Y.jsx("span",{children:(null==(p=null==(h=_.metrics)?void 0:h.claims)?void 0:p.value)||0})]}),Y.jsxs("div",{className:"detail-row",children:[Y.jsx("span",{children:"Periodo Analisado"}),Y.jsx("span",{children:(null==(f=null==(m=_.metrics)?void 0:m.claims)?void 0:f.period)||"Ultimos 60 dias"})]})]})]}),Y.jsxs("div",{className:`metric-card ${H.status}`,children:[Y.jsxs("div",{className:"metric-header",children:[Y.jsx("div",{className:"metric-icon",children:Y.jsx("span",{className:"material-icons",children:"schedule"})}),Y.jsx("span",{className:`metric-badge ${H.status}`,children:H.label})]}),Y.jsxs("div",{className:"metric-body",children:[Y.jsxs("span",{className:"metric-value",children:[V.toFixed(2),"%"]}),Y.jsx("span",{className:"metric-label",children:"Taxa de Atrasos no Despacho"}),Y.jsx("div",{className:"metric-bar",children:Y.jsx("div",{className:"metric-bar-fill",style:{width:`${Math.min(5*V,100)}%`,background:H.color}})}),Y.jsxs("p",{className:"metric-help",children:[Y.jsx("span",{className:"material-icons",children:"info"}),"Ideal: menos de 5%"]})]}),Y.jsxs("div",{className:"metric-details",children:[Y.jsxs("div",{className:"detail-row",children:[Y.jsx("span",{children:"Envios Atrasados"}),Y.jsx("span",{children:(null==(y=null==(v=_.metrics)?void 0:v.delayed_handling_time)?void 0:y.value)||0})]}),Y.jsxs("div",{className:"detail-row",children:[Y.jsx("span",{children:"Periodo Analisado"}),Y.jsx("span",{children:(null==(g=null==(x=_.metrics)?void 0:x.delayed_handling_time)?void 0:g.period)||"Ultimos 60 dias"})]})]})]}),Y.jsxs("div",{className:`metric-card ${G.status}`,children:[Y.jsxs("div",{className:"metric-header",children:[Y.jsx("div",{className:"metric-icon",children:Y.jsx("span",{className:"material-icons",children:"cancel"})}),Y.jsx("span",{className:`metric-badge ${G.status}`,children:G.label})]}),Y.jsxs("div",{className:"metric-body",children:[Y.jsxs("span",{className:"metric-value",children:[W.toFixed(2),"%"]}),Y.jsx("span",{className:"metric-label",children:"Taxa de Cancelamentos"}),Y.jsx("div",{className:"metric-bar",children:Y.jsx("div",{className:"metric-bar-fill",style:{width:`${Math.min(10*W,100)}%`,background:G.color}})}),Y.jsxs("p",{className:"metric-help",children:[Y.jsx("span",{className:"material-icons",children:"info"}),"Ideal: menos de 2%"]})]}),Y.jsxs("div",{className:"metric-details",children:[Y.jsxs("div",{className:"detail-row",children:[Y.jsx("span",{children:"Vendas Canceladas"}),Y.jsx("span",{children:(null==(j=null==(b=_.metrics)?void 0:b.cancellations)?void 0:j.value)||0})]}),Y.jsxs("div",{className:"detail-row",children:[Y.jsx("span",{children:"Periodo Analisado"}),Y.jsx("span",{children:(null==(w=null==(N=_.metrics)?void 0:N.cancellations)?void 0:w.period)||"Ultimos 60 dias"})]})]})]})]})]}),Y.jsx("section",{className:"history-section",children:Y.jsxs("div",{className:"chart-card",children:[Y.jsx("div",{className:"chart-header",children:Y.jsxs("h3",{children:[Y.jsx("span",{className:"material-icons",children:"show_chart"}),"Historico de Metricas"]})}),Y.jsx("div",{className:"chart-body",children:Y.jsx(RC,{width:"100%",height:300,children:Y.jsxs(oK,{data:T,children:[Y.jsx(lV,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),Y.jsx(JV,{dataKey:"month",stroke:"#9ca3af",fontSize:12}),Y.jsx(cW,{stroke:"#9ca3af",fontSize:12}),Y.jsx(oC,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),Y.jsx(kV,{type:"monotone",dataKey:"reclamacoes",stroke:"#ef4444",strokeWidth:2,name:"Reclamacoes (%)",dot:{fill:"#ef4444"}}),Y.jsx(kV,{type:"monotone",dataKey:"atrasos",stroke:"#f59e0b",strokeWidth:2,name:"Atrasos (%)",dot:{fill:"#f59e0b"}})]})})})]})}),Y.jsxs("section",{className:"tips-section",children:[Y.jsxs("h2",{className:"section-title",children:[Y.jsx("span",{className:"material-icons",children:"lightbulb"}),"Dicas para Melhorar"]}),Y.jsxs("div",{className:"tips-grid",children:[Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-icon blue",children:Y.jsx("span",{className:"material-icons",children:"local_shipping"})}),Y.jsxs("div",{className:"tip-content",children:[Y.jsx("h4",{children:"Despache Rapido"}),Y.jsx("p",{children:"Envie seus produtos dentro do prazo para manter uma boa taxa de despacho."}),Y.jsxs(Ch,{to:"/shipments",className:"tip-link",children:["Ver envios pendentes",Y.jsx("span",{className:"material-icons",children:"arrow_forward"})]})]})]}),Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-icon green",children:Y.jsx("span",{className:"material-icons",children:"chat"})}),Y.jsxs("div",{className:"tip-content",children:[Y.jsx("h4",{children:"Responda Rapido"}),Y.jsx("p",{children:"Responda perguntas e mensagens rapidamente para evitar reclamacoes."}),Y.jsxs(Ch,{to:"/questions",className:"tip-link",children:["Ver perguntas",Y.jsx("span",{className:"material-icons",children:"arrow_forward"})]})]})]}),Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-icon purple",children:Y.jsx("span",{className:"material-icons",children:"inventory_2"})}),Y.jsxs("div",{className:"tip-content",children:[Y.jsx("h4",{children:"Controle o Estoque"}),Y.jsx("p",{children:"Mantenha seu estoque atualizado para evitar cancelamentos por falta de produto."}),Y.jsxs(Ch,{to:"/inventory",className:"tip-link",children:["Ver estoque",Y.jsx("span",{className:"material-icons",children:"arrow_forward"})]})]})]}),Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-icon orange",children:Y.jsx("span",{className:"material-icons",children:"description"})}),Y.jsxs("div",{className:"tip-content",children:[Y.jsx("h4",{children:"Anuncios Completos"}),Y.jsx("p",{children:"Crie anuncios detalhados com boas fotos e descricoes para evitar duvidas."}),Y.jsxs(Ch,{to:"/items",className:"tip-link",children:["Ver anuncios",Y.jsx("span",{className:"material-icons",children:"arrow_forward"})]})]})]})]})]}),_.protection&&_.protection.active&&Y.jsx("section",{className:"protection-section",children:Y.jsxs("div",{className:"protection-card",children:[Y.jsx("div",{className:"protection-icon",children:Y.jsx("span",{className:"material-icons",children:"shield"})}),Y.jsxs("div",{className:"protection-content",children:[Y.jsx("h3",{children:"Periodo de Protecao Ativo"}),Y.jsxs("p",{children:["Voce esta em um periodo de protecao. Algumas metricas negativas nao afetarao sua reputacao ate ",new Date(_.protection.end_date).toLocaleDateString("pt-BR"),"."]})]})]})})]}),!_&&!P&&!R&&Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"verified"}),Y.jsx("h3",{children:"Sem dados de reputacao"}),Y.jsx("p",{children:"Selecione uma conta para ver os dados de reputacao"})]})]})}function fH(){var e,t,n,a,r,s,i;const[o,l]=z.useState([]),[c,u]=z.useState(""),[d,h]=z.useState(!0),[p,m]=z.useState([]),[f,v]=z.useState({professional:0,satisfactory:0,basic:0,total:0}),[y,x]=z.useState(null),[g,b]=z.useState("all"),[j,N]=z.useState(null);z.useEffect(()=>{w()},[]),z.useEffect(()=>{c&&S()},[c]);const w=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];l(n),n.length>0&&u(n[0].id)}catch(t){x("Erro ao carregar contas"),h(!1)}},S=async()=>{h(!0),x(null);try{const e=(await Ef.get(`/quality/${c}`)).data.items||[],t={professional:0,satisfactory:0,basic:0,total:e.length};e.forEach(e=>{var n,a;const r=(null==(n=e.quality)?void 0:n.level)||(null==(a=e.health)?void 0:a.level)||"basic";"professional"===r||"green"===r?t.professional++:"satisfactory"===r||"yellow"===r?t.satisfactory++:t.basic++}),v(t),m(e)}catch(e){try{const e=await Ef.get(`/items/${c}?limit=50`),t=(e.data.items||[]).map(e=>({...e,quality:{level:k(),score:Math.floor(40*Math.random())+60,issues:O()}})),n={professional:0,satisfactory:0,basic:0,total:t.length};t.forEach(e=>{var t;const a=null==(t=e.quality)?void 0:t.level;"professional"===a?n.professional++:"satisfactory"===a?n.satisfactory++:n.basic++}),v(n),m(t)}catch(CH){x("Erro ao carregar dados de qualidade")}}finally{h(!1)}},k=()=>{const e=["professional","satisfactory","basic"],t=[.4,.35,.25],n=Math.random();let a=0;for(let r=0;r<t.length;r++)if(a+=t[r],n<a)return e[r];return e[0]},O=()=>{const e=Math.floor(3*Math.random());return[{code:"missing_pictures",message:"Adicione mais fotos ao anuncio",priority:"high"},{code:"short_description",message:"A descricao esta muito curta",priority:"medium"},{code:"missing_attributes",message:"Complete os atributos do produto",priority:"high"},{code:"low_quality_pictures",message:"Melhore a qualidade das fotos",priority:"medium"},{code:"missing_size_chart",message:"Adicione tabela de medidas",priority:"low"},{code:"missing_gtin",message:"Adicione o codigo EAN/GTIN",priority:"medium"}].sort(()=>.5-Math.random()).slice(0,e)},C=e=>{const t={professional:{color:"#10b981",label:"Profissional",icon:"verified",score:90},satisfactory:{color:"#f59e0b",label:"Satisfatoria",icon:"thumb_up",score:70},basic:{color:"#ef4444",label:"Basica",icon:"warning",score:40}};return t[e]||t.basic},P=p.filter(e=>{var t;return"all"===g||(null==(t=e.quality)?void 0:t.level)===g}),E=[{name:"Profissional",value:f.professional,fill:"#10b981"},{name:"Satisfatoria",value:f.satisfactory,fill:"#f59e0b"},{name:"Basica",value:f.basic,fill:"#ef4444"}],_=f.total>0?Math.round((100*f.professional+70*f.satisfactory+40*f.basic)/f.total):0,A=_>=80?"#10b981":_>=60?"#f59e0b":"#ef4444";return Y.jsxs("div",{className:"quality-page",children:[Y.jsxs("header",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"star_rate"}),"Qualidade das Publicacoes"]}),Y.jsx("p",{children:"Melhore seus anuncios para vender mais"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:c,onChange:e=>u(e.target.value),children:o.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("button",{className:"btn btn-secondary",onClick:S,children:[Y.jsx("span",{className:"material-icons",children:"refresh"}),"Atualizar"]})]})]}),y&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),y]}),d?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner-large"}),Y.jsx("p",{children:"Analisando qualidade..."})]}):Y.jsxs(Y.Fragment,{children:[Y.jsx("section",{className:"overview-section",children:Y.jsxs("div",{className:"overview-grid",children:[Y.jsxs("div",{className:"score-card",children:[Y.jsxs("div",{className:"score-gauge",children:[Y.jsx(RC,{width:"100%",height:180,children:Y.jsx(dK,{cx:"50%",cy:"50%",innerRadius:"70%",outerRadius:"100%",barSize:12,data:[{value:_,fill:A}],startAngle:180,endAngle:0,children:Y.jsx(B$,{background:{fill:"#e5e7eb"},dataKey:"value",cornerRadius:6})})}),Y.jsxs("div",{className:"score-center",children:[Y.jsx("span",{className:"score-value",style:{color:A},children:_}),Y.jsx("span",{className:"score-label",children:"Score Geral"})]})]}),Y.jsx("div",{className:"score-info",children:Y.jsx("p",{children:_>=80?"Excelente! Seus anuncios estao otimizados.":_>=60?"Bom, mas ha espaco para melhorias.":"Atencao! Melhore seus anuncios para vender mais."})})]}),Y.jsxs("div",{className:"stats-cards",children:[Y.jsxs("div",{className:"stat-card green "+("professional"===g?"active":""),onClick:()=>b("professional"===g?"all":"professional"),children:[Y.jsx("div",{className:"stat-icon",children:Y.jsx("span",{className:"material-icons",children:"verified"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:f.professional}),Y.jsx("span",{className:"stat-label",children:"Profissional"})]}),Y.jsxs("div",{className:"stat-percent",children:[f.total>0?Math.round(f.professional/f.total*100):0,"%"]})]}),Y.jsxs("div",{className:"stat-card yellow "+("satisfactory"===g?"active":""),onClick:()=>b("satisfactory"===g?"all":"satisfactory"),children:[Y.jsx("div",{className:"stat-icon",children:Y.jsx("span",{className:"material-icons",children:"thumb_up"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:f.satisfactory}),Y.jsx("span",{className:"stat-label",children:"Satisfatoria"})]}),Y.jsxs("div",{className:"stat-percent",children:[f.total>0?Math.round(f.satisfactory/f.total*100):0,"%"]})]}),Y.jsxs("div",{className:"stat-card red "+("basic"===g?"active":""),onClick:()=>b("basic"===g?"all":"basic"),children:[Y.jsx("div",{className:"stat-icon",children:Y.jsx("span",{className:"material-icons",children:"warning"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:f.basic}),Y.jsx("span",{className:"stat-label",children:"Basica"})]}),Y.jsxs("div",{className:"stat-percent",children:[f.total>0?Math.round(f.basic/f.total*100):0,"%"]})]})]}),Y.jsxs("div",{className:"distribution-card",children:[Y.jsx("h3",{children:"Distribuicao"}),Y.jsx(RC,{width:"100%",height:150,children:Y.jsxs(lK,{data:E,layout:"vertical",children:[Y.jsx(JV,{type:"number",hide:!0}),Y.jsx(cW,{type:"category",dataKey:"name",width:80,fontSize:11}),Y.jsx(oC,{}),Y.jsx(nU,{dataKey:"value",radius:[0,4,4,0],children:E.map((e,t)=>Y.jsx(DC,{fill:e.fill},`cell-${t}`))})]})})]})]})}),Y.jsxs("section",{className:"items-section",children:[Y.jsxs("div",{className:"section-header",children:[Y.jsxs("h2",{className:"section-title",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),"Anuncios (",P.length,")"]}),"all"!==g&&Y.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>b("all"),children:[Y.jsx("span",{className:"material-icons",children:"close"}),"Limpar filtro"]})]}),Y.jsx("div",{className:"items-grid",children:P.map(e=>{var t,n,a,r,s,i;const o=C(null==(t=e.quality)?void 0:t.level);return Y.jsxs("div",{className:`item-card ${null==(n=e.quality)?void 0:n.level}`,onClick:()=>N(e),children:[Y.jsxs("div",{className:"item-image",children:[e.thumbnail?Y.jsx("img",{src:e.thumbnail,alt:""}):Y.jsx("div",{className:"no-image",children:Y.jsx("span",{className:"material-icons",children:"image"})}),Y.jsxs("div",{className:"quality-badge",style:{background:o.color},children:[Y.jsx("span",{className:"material-icons",children:o.icon}),o.label]})]}),Y.jsxs("div",{className:"item-content",children:[Y.jsx("h4",{className:"item-title",children:e.title}),Y.jsxs("p",{className:"item-id",children:["MLB",e.mlItemId]}),Y.jsxs("div",{className:"quality-score",children:[Y.jsx("div",{className:"score-bar",children:Y.jsx("div",{className:"score-fill",style:{width:`${(null==(a=e.quality)?void 0:a.score)||50}%`,background:o.color}})}),Y.jsxs("span",{className:"score-text",children:[(null==(r=e.quality)?void 0:r.score)||50,"%"]})]}),(null==(i=null==(s=e.quality)?void 0:s.issues)?void 0:i.length)>0&&Y.jsxs("div",{className:"issues-preview",children:[Y.jsx("span",{className:"material-icons",children:"error_outline"}),Y.jsxs("span",{children:[e.quality.issues.length," problema(s)"]})]})]}),Y.jsx("div",{className:"item-actions",children:Y.jsxs(Ch,{to:`/items/${e.mlItemId}/edit`,className:"btn btn-sm btn-primary",onClick:e=>e.stopPropagation(),children:[Y.jsx("span",{className:"material-icons",children:"edit"}),"Melhorar"]})})]},e._id||e.mlItemId)})}),0===P.length&&Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),Y.jsx("h3",{children:"Nenhum anuncio encontrado"}),Y.jsx("p",{children:"Nao ha anuncios com o filtro selecionado"})]})]}),j&&Y.jsx("div",{className:"modal-overlay",onClick:()=>N(null),children:Y.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsx("h2",{children:"Detalhes da Qualidade"}),Y.jsx("button",{className:"btn-close",onClick:()=>N(null),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"item-detail-header",children:[j.thumbnail&&Y.jsx("img",{src:j.thumbnail,alt:"",className:"item-thumb"}),Y.jsxs("div",{className:"item-detail-info",children:[Y.jsx("h3",{children:j.title}),Y.jsxs("p",{children:["MLB",j.mlItemId]}),Y.jsxs("div",{className:"quality-level-badge",style:{background:C(null==(e=j.quality)?void 0:e.level).color},children:[Y.jsx("span",{className:"material-icons",children:C(null==(t=j.quality)?void 0:t.level).icon}),C(null==(n=j.quality)?void 0:n.level).label]})]})]}),Y.jsx("div",{className:"quality-detail-score",children:Y.jsxs("div",{className:"detail-score-circle",style:{"--score-color":C(null==(a=j.quality)?void 0:a.level).color},children:[Y.jsx("span",{className:"score",children:(null==(r=j.quality)?void 0:r.score)||50}),Y.jsx("span",{className:"label",children:"Score"})]})}),(null==(i=null==(s=j.quality)?void 0:s.issues)?void 0:i.length)>0?Y.jsxs("div",{className:"issues-section",children:[Y.jsxs("h4",{children:[Y.jsx("span",{className:"material-icons",children:"build"}),"Acoes para Melhorar"]}),Y.jsx("ul",{className:"issues-list",children:j.quality.issues.map((e,t)=>Y.jsxs("li",{className:`issue-item ${e.priority}`,children:[Y.jsx("span",{className:"material-icons",children:"high"===e.priority?"error":"medium"===e.priority?"warning":"info"}),Y.jsx("span",{className:"issue-message",children:e.message}),Y.jsx("span",{className:`issue-priority ${e.priority}`,children:"high"===e.priority?"Alta":"medium"===e.priority?"Media":"Baixa"})]},t))})]}):Y.jsxs("div",{className:"no-issues",children:[Y.jsx("span",{className:"material-icons",children:"check_circle"}),Y.jsx("p",{children:"Este anuncio nao possui problemas identificados!"})]}),Y.jsxs("div",{className:"modal-actions",children:[Y.jsxs(Ch,{to:`/items/${j.mlItemId}/edit`,className:"btn btn-primary",children:[Y.jsx("span",{className:"material-icons",children:"edit"}),"Editar Anuncio"]}),Y.jsxs("a",{href:j.permalink||`https://produto.mercadolivre.com.br/MLB-${j.mlItemId}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"open_in_new"}),"Ver no ML"]})]})]})]})}),Y.jsxs("section",{className:"tips-section",children:[Y.jsxs("h2",{className:"section-title",children:[Y.jsx("span",{className:"material-icons",children:"lightbulb"}),"Como Melhorar sua Qualidade"]}),Y.jsxs("div",{className:"tips-grid",children:[Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-icon",children:Y.jsx("span",{className:"material-icons",children:"photo_camera"})}),Y.jsx("h4",{children:"Fotos de Qualidade"}),Y.jsx("p",{children:"Use fotos em alta resolucao, fundo branco e mostre o produto de varios angulos."})]}),Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-icon",children:Y.jsx("span",{className:"material-icons",children:"description"})}),Y.jsx("h4",{children:"Descricao Completa"}),Y.jsx("p",{children:"Escreva descricoes detalhadas com especificacoes tecnicas e beneficios do produto."})]}),Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-icon",children:Y.jsx("span",{className:"material-icons",children:"list_alt"})}),Y.jsx("h4",{children:"Atributos Preenchidos"}),Y.jsx("p",{children:"Complete todos os atributos solicitados para melhorar a visibilidade nas buscas."})]}),Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-icon",children:Y.jsx("span",{className:"material-icons",children:"qr_code"})}),Y.jsx("h4",{children:"Codigo EAN/GTIN"}),Y.jsx("p",{children:"Adicione o codigo de barras do produto para vincula-lo ao catalogo do ML."})]})]})]})]})]})}function vH(){var e,t,n,a;const[r,s]=z.useState(!0),[i,o]=z.useState(null),[l,c]=z.useState([]),[u,d]=z.useState([]),[h,p]=z.useState(""),[m,f]=z.useState([]),[v,y]=z.useState(""),x=[{id:"MLB5672",name:"Acessorios para Veiculos"},{id:"MLB1648",name:"Informatica"},{id:"MLB1051",name:"Celulares e Telefones"},{id:"MLB1574",name:"Casa, Moveis e Decoracao"},{id:"MLB1276",name:"Esportes e Fitness"},{id:"MLB1000",name:"Eletronicos, Audio e Video"},{id:"MLB1430",name:"Calcados, Roupas e Bolsas"},{id:"MLB1499",name:"Industria e Comercio"},{id:"MLB1953",name:"Mais Categorias"}];z.useEffect(()=>{f(x),g()},[]),z.useEffect(()=>{h&&b()},[h]);const g=async()=>{s(!0),o(null);try{const e=await Ef.get("/trends");c(e.data.trends||[])}catch(e){c(j())}finally{s(!1)}},b=async()=>{s(!0);try{const e=await Ef.get(`/trends/category/${h}`);d(e.data.trends||[])}catch(e){d(N())}finally{s(!1)}},j=()=>[{keyword:"smartphone samsung",volume:95e3,growth:12.5,category:"Celulares"},{keyword:"fone de ouvido bluetooth",volume:78e3,growth:25.3,category:"Eletronicos"},{keyword:"tenis nike",volume:65e3,growth:8.2,category:"Calcados"},{keyword:"notebook gamer",volume:55e3,growth:18.7,category:"Informatica"},{keyword:"smartwatch",volume:48e3,growth:32.1,category:"Eletronicos"},{keyword:"air fryer",volume:42e3,growth:15.4,category:"Eletrodomesticos"},{keyword:"cadeira gamer",volume:38e3,growth:22.8,category:"Moveis"},{keyword:"iphone",volume:85e3,growth:5.6,category:"Celulares"},{keyword:"monitor 4k",volume:32e3,growth:28.9,category:"Informatica"},{keyword:"playstation 5",volume:29e3,growth:-5.2,category:"Games"},{keyword:"kindle",volume:25e3,growth:11.3,category:"Eletronicos"},{keyword:"gopro",volume:22e3,growth:9.8,category:"Cameras"},{keyword:"tablet samsung",volume:28e3,growth:14.2,category:"Tablets"},{keyword:"alexa echo",volume:31e3,growth:19.5,category:"Smart Home"},{keyword:"ssd 1tb",volume:35e3,growth:21.7,category:"Informatica"}].sort((e,t)=>t.volume-e.volume),N=()=>{var e;const t=(null==(e=m.find(e=>e.id===h))?void 0:e.name)||"Categoria";return["Produto A","Produto B","Produto C","Produto D","Produto E","Produto F","Produto G","Produto H","Produto I","Produto J"].map((e,n)=>({keyword:`${e} ${t}`,volume:Math.floor(5e4*Math.random())+1e4,growth:40*Math.random()-10,position:n+1})).sort((e,t)=>t.volume-e.volume)},w=e=>e>15?"#10b981":e>0?"#84cc16":e>-10?"#f59e0b":"#ef4444",S=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString(),k=l.filter(e=>e.keyword.toLowerCase().includes(v.toLowerCase())),O=k.slice(0,10).map(e=>({name:e.keyword.length>20?e.keyword.substring(0,20)+"...":e.keyword,volume:e.volume,growth:e.growth}));return Y.jsxs("div",{className:"trends-page",children:[Y.jsxs("header",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"trending_up"}),"Tendencias de Mercado"]}),Y.jsx("p",{children:"Descubra o que esta vendendo mais no Mercado Livre"})]}),Y.jsx("div",{className:"header-actions",children:Y.jsxs("button",{className:"btn btn-secondary",onClick:g,children:[Y.jsx("span",{className:"material-icons",children:"refresh"}),"Atualizar"]})})]}),i&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),i]}),Y.jsxs("section",{className:"filters-section",children:[Y.jsxs("div",{className:"search-box",children:[Y.jsx("span",{className:"material-icons",children:"search"}),Y.jsx("input",{type:"text",placeholder:"Buscar tendencias...",value:v,onChange:e=>y(e.target.value)}),v&&Y.jsx("button",{className:"clear-btn",onClick:()=>y(""),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"category-chips",children:[Y.jsx("button",{className:"chip "+(h?"":"active"),onClick:()=>p(""),children:"Todas"}),m.map(e=>Y.jsx("button",{className:"chip "+(h===e.id?"active":""),onClick:()=>p(e.id),children:e.name},e.id))]})]}),r?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner-large"}),Y.jsx("p",{children:"Carregando tendencias..."})]}):Y.jsxs(Y.Fragment,{children:[Y.jsx("section",{className:"overview-section",children:Y.jsxs("div",{className:"overview-grid",children:[Y.jsxs("div",{className:"trend-highlight hot",children:[Y.jsx("div",{className:"highlight-icon",children:Y.jsx("span",{className:"material-icons",children:"local_fire_department"})}),Y.jsxs("div",{className:"highlight-content",children:[Y.jsx("span",{className:"highlight-label",children:"Mais Buscado"}),Y.jsx("span",{className:"highlight-value",children:(null==(e=k[0])?void 0:e.keyword)||"N/A"}),Y.jsxs("span",{className:"highlight-volume",children:[S((null==(t=k[0])?void 0:t.volume)||0)," buscas"]})]})]}),Y.jsxs("div",{className:"trend-highlight growing",children:[Y.jsx("div",{className:"highlight-icon",children:Y.jsx("span",{className:"material-icons",children:"rocket_launch"})}),Y.jsxs("div",{className:"highlight-content",children:[Y.jsx("span",{className:"highlight-label",children:"Maior Crescimento"}),Y.jsx("span",{className:"highlight-value",children:(null==(n=k.sort((e,t)=>t.growth-e.growth)[0])?void 0:n.keyword)||"N/A"}),Y.jsxs("span",{className:"highlight-growth positive",children:["+",(null==(a=k.sort((e,t)=>t.growth-e.growth)[0])?void 0:a.growth.toFixed(1))||0,"%"]})]})]}),Y.jsxs("div",{className:"trend-highlight total",children:[Y.jsx("div",{className:"highlight-icon",children:Y.jsx("span",{className:"material-icons",children:"insights"})}),Y.jsxs("div",{className:"highlight-content",children:[Y.jsx("span",{className:"highlight-label",children:"Total Analisado"}),Y.jsx("span",{className:"highlight-value",children:k.length}),Y.jsx("span",{className:"highlight-volume",children:"tendencias"})]})]})]})}),Y.jsx("section",{className:"chart-section",children:Y.jsxs("div",{className:"chart-card",children:[Y.jsx("div",{className:"chart-header",children:Y.jsxs("h3",{children:[Y.jsx("span",{className:"material-icons",children:"bar_chart"}),"Top 10 Tendencias"]})}),Y.jsx("div",{className:"chart-body",children:Y.jsx(RC,{width:"100%",height:350,children:Y.jsxs(lK,{data:O,layout:"vertical",children:[Y.jsx(lV,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),Y.jsx(JV,{type:"number",tickFormatter:S,stroke:"#9ca3af",fontSize:11}),Y.jsx(cW,{type:"category",dataKey:"name",width:150,stroke:"#9ca3af",fontSize:11}),Y.jsx(oC,{formatter:e=>[S(e),"Volume"],contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),Y.jsx(nU,{dataKey:"volume",radius:[0,4,4,0],fill:"#3b82f6"})]})})})]})}),Y.jsxs("section",{className:"trends-section",children:[Y.jsxs("h2",{className:"section-title",children:[Y.jsx("span",{className:"material-icons",children:"leaderboard"}),"Ranking de Tendencias"]}),Y.jsx("div",{className:"trends-table-container",children:Y.jsxs("table",{className:"trends-table",children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"#"}),Y.jsx("th",{children:"Palavra-chave"}),Y.jsx("th",{children:"Categoria"}),Y.jsx("th",{children:"Volume"}),Y.jsx("th",{children:"Crescimento"}),Y.jsx("th",{children:"Acao"})]})}),Y.jsx("tbody",{children:k.map((e,t)=>{return Y.jsxs("tr",{children:[Y.jsx("td",{className:"rank-cell",children:Y.jsx("span",{className:"rank "+(t<3?"top":""),children:t+1})}),Y.jsx("td",{className:"keyword-cell",children:Y.jsxs("div",{className:"keyword-content",children:[Y.jsx("span",{className:"keyword",children:e.keyword}),t<3&&Y.jsx("span",{className:"material-icons fire-icon",children:"local_fire_department"})]})}),Y.jsx("td",{className:"category-cell",children:Y.jsx("span",{className:"category-badge",children:e.category||"Geral"})}),Y.jsxs("td",{className:"volume-cell",children:[Y.jsx("span",{className:"volume",children:S(e.volume)}),Y.jsx("span",{className:"volume-label",children:"buscas/mes"})]}),Y.jsx("td",{className:"growth-cell",children:Y.jsxs("div",{className:"growth-indicator",style:{color:w(e.growth)},children:[Y.jsx("span",{className:"material-icons",children:(n=e.growth,n>0?"trending_up":n<0?"trending_down":"trending_flat")}),Y.jsxs("span",{children:[e.growth>0?"+":"",e.growth.toFixed(1),"%"]})]})}),Y.jsx("td",{className:"action-cell",children:Y.jsxs("a",{href:`https://lista.mercadolivre.com.br/${encodeURIComponent(e.keyword)}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"search"}),"Ver no ML"]})})]},t);var n})})]})}),0===k.length&&Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"search_off"}),Y.jsx("h3",{children:"Nenhuma tendencia encontrada"}),Y.jsx("p",{children:"Tente buscar por outro termo"})]})]}),Y.jsxs("section",{className:"opportunities-section",children:[Y.jsxs("h2",{className:"section-title",children:[Y.jsx("span",{className:"material-icons",children:"lightbulb"}),"Oportunidades Identificadas"]}),Y.jsx("div",{className:"opportunities-grid",children:k.filter(e=>e.growth>15).slice(0,6).map((e,t)=>Y.jsxs("div",{className:"opportunity-card",children:[Y.jsxs("div",{className:"opportunity-header",children:[Y.jsxs("span",{className:"opportunity-rank",children:["#",t+1]}),Y.jsxs("span",{className:"opportunity-growth",style:{color:w(e.growth)},children:[Y.jsx("span",{className:"material-icons",children:"trending_up"}),"+",e.growth.toFixed(1),"%"]})]}),Y.jsx("h4",{className:"opportunity-keyword",children:e.keyword}),Y.jsxs("p",{className:"opportunity-volume",children:[S(e.volume)," buscas mensais"]}),Y.jsxs("div",{className:"opportunity-actions",children:[Y.jsxs(Ch,{to:"/items/create",className:"btn btn-sm btn-primary",children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Criar Anuncio"]}),Y.jsx("a",{href:`https://lista.mercadolivre.com.br/${encodeURIComponent(e.keyword)}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-secondary",children:Y.jsx("span",{className:"material-icons",children:"open_in_new"})})]})]},t))}),0===k.filter(e=>e.growth>15).length&&Y.jsxs("div",{className:"no-opportunities",children:[Y.jsx("span",{className:"material-icons",children:"explore"}),Y.jsx("p",{children:"Nenhuma oportunidade de alto crescimento encontrada no momento."})]})]}),Y.jsxs("section",{className:"tips-section",children:[Y.jsxs("h2",{className:"section-title",children:[Y.jsx("span",{className:"material-icons",children:"tips_and_updates"}),"Como Usar as Tendencias"]}),Y.jsxs("div",{className:"tips-grid",children:[Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-number",children:"1"}),Y.jsx("h4",{children:"Analise o Volume"}),Y.jsx("p",{children:"Produtos com alto volume de buscas indicam grande demanda. Priorize esses nichos."})]}),Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-number",children:"2"}),Y.jsx("h4",{children:"Observe o Crescimento"}),Y.jsx("p",{children:"Tendencias em alta (verde) sao oportunidades. Tendencias em queda podem ser arriscadas."})]}),Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-number",children:"3"}),Y.jsx("h4",{children:"Pesquise a Concorrencia"}),Y.jsx("p",{children:"Antes de criar anuncios, veja quantos vendedores ja oferecem o produto."})]}),Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-number",children:"4"}),Y.jsx("h4",{children:"Otimize seus Titulos"}),Y.jsx("p",{children:"Use as palavras-chave em tendencia nos titulos dos seus anuncios para melhor visibilidade."})]})]})]})]})]})}function yH(){const[e,t]=z.useState([]),[n,a]=z.useState(""),[r,s]=z.useState(!1),[i,o]=z.useState(!1),[l,c]=z.useState([]),[u,d]=z.useState(null),[h,p]=z.useState([]),[m,f]=z.useState(""),[v,y]=z.useState(null);z.useEffect(()=>{x()},[]),z.useEffect(()=>{n&&g()},[n]);const x=async()=>{var e;try{const n=await Ef.get("/ml-accounts"),r=(null==(e=n.data.data)?void 0:e.accounts)||n.data.accounts||[];t(r),r.length>0&&a(r[0].id)}catch(n){y("Erro ao carregar contas")}},g=async()=>{var e;s(!0);try{const t=await Ef.get(`/products/${n}?limit=50&sort=-salesCount`);c((null==(e=t.data.data)?void 0:e.products)||[])}catch(t){y("Erro ao carregar produtos")}finally{s(!1)}},b=e=>{const t=e.price||100;return[{name:"Loja Eletronica SP",reputation:"5_green",sales:Math.floor(1e4*Math.random())+1e3},{name:"TechStore Brasil",reputation:"4_light_green",sales:Math.floor(5e3*Math.random())+500},{name:"MegaOfertas",reputation:"3_yellow",sales:Math.floor(3e3*Math.random())+200},{name:"Vendedor Express",reputation:"4_light_green",sales:Math.floor(8e3*Math.random())+1500},{name:"Casa Digital",reputation:"5_green",sales:Math.floor(12e3*Math.random())+2e3},{name:"Tech World",reputation:"3_yellow",sales:Math.floor(2e3*Math.random())+100},{name:"Oferta Certa",reputation:"4_light_green",sales:Math.floor(6e3*Math.random())+800}].map((e,n)=>({id:`comp_${n}`,seller:e.name,reputation:e.reputation,totalSales:e.sales,price:t*(.85+.3*Math.random()),shipping:Math.random()>.5?"free":Math.floor(30*Math.random())+10,listingType:Math.random()>.3?"gold_special":"gold_pro",condition:"new",available:Math.floor(100*Math.random())+1,permalink:"#"})).sort((e,t)=>e.price-t.price)},j=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),N=l.filter(e=>{var t;return null==(t=e.title)?void 0:t.toLowerCase().includes(m.toLowerCase())}),w=h.slice(0,8).map(e=>({name:e.seller.length>15?e.seller.substring(0,15)+"...":e.seller,price:e.price,isMe:!1}));u&&(w.push({name:"Meu Preco",price:u.price,isMe:!0}),w.sort((e,t)=>e.price-t.price));const S=h.length>0?h.reduce((e,t)=>e+t.price,0)/h.length:0,k=h.length>0?Math.min(...h.map(e=>e.price)):0;h.length>0&&Math.max(...h.map(e=>e.price));const O=u?h.filter(e=>e.price<u.price).length+1:0;return Y.jsxs("div",{className:"competitors-page",children:[Y.jsxs("header",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"compare_arrows"}),"Analise de Concorrencia"]}),Y.jsx("p",{children:"Compare seus precos com a concorrencia"})]}),Y.jsx("div",{className:"header-actions",children:Y.jsx("select",{className:"account-select",value:n,onChange:e=>a(e.target.value),children:e.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))})})]}),v&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),v]}),Y.jsxs("div",{className:"main-content",children:[Y.jsxs("aside",{className:"products-sidebar",children:[Y.jsxs("div",{className:"sidebar-header",children:[Y.jsx("h3",{children:"Seus Produtos"}),Y.jsx("span",{className:"product-count",children:N.length})]}),Y.jsxs("div",{className:"search-box",children:[Y.jsx("span",{className:"material-icons",children:"search"}),Y.jsx("input",{type:"text",placeholder:"Buscar produto...",value:m,onChange:e=>f(e.target.value)})]}),Y.jsx("div",{className:"products-list",children:r?Y.jsxs("div",{className:"loading-mini",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("span",{children:"Carregando..."})]}):N.length>0?N.map(e=>Y.jsxs("div",{className:"product-item "+((null==u?void 0:u.mlProductId)===e.mlProductId?"active":""),onClick:()=>(async e=>{d(e),o(!0);try{const t=await Ef.get(`/products/${n}/${e.mlProductId}/competitors`);p(t.data.competitors||[])}catch(t){p(b(e))}finally{o(!1)}})(e),children:[e.thumbnailUrl&&Y.jsx("img",{src:e.thumbnailUrl,alt:"",className:"product-thumb"}),Y.jsxs("div",{className:"product-info",children:[Y.jsx("span",{className:"product-title",children:e.title}),Y.jsx("span",{className:"product-price",children:j(e.price||0)})]}),Y.jsx("span",{className:"material-icons analyze-icon",children:"arrow_forward"})]},e._id||e.mlProductId)):Y.jsxs("div",{className:"no-products",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),Y.jsx("p",{children:"Nenhum produto encontrado"})]})})]}),Y.jsx("main",{className:"analysis-area",children:u?i?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner-large"}),Y.jsx("p",{children:"Analisando concorrencia..."})]}):Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"product-header",children:[u.thumbnailUrl&&Y.jsx("img",{src:u.thumbnailUrl,alt:"",className:"product-image"}),Y.jsxs("div",{className:"product-details",children:[Y.jsx("h2",{children:u.title}),Y.jsxs("p",{className:"product-id",children:["MLB",u.mlProductId]}),Y.jsxs("div",{className:"product-my-price",children:[Y.jsx("span",{className:"label",children:"Seu Preco:"}),Y.jsx("span",{className:"price",children:j(u.price||0)})]})]}),Y.jsx("div",{className:"product-actions",children:Y.jsxs(Ch,{to:`/items/${u.mlProductId}/edit`,className:"btn btn-primary",children:[Y.jsx("span",{className:"material-icons",children:"edit"}),"Editar Preco"]})})]}),Y.jsxs("div",{className:"stats-grid",children:[Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon blue",children:Y.jsx("span",{className:"material-icons",children:"groups"})}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("span",{className:"stat-value",children:h.length}),Y.jsx("span",{className:"stat-label",children:"Concorrentes"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon green",children:Y.jsx("span",{className:"material-icons",children:"leaderboard"})}),Y.jsxs("div",{className:"stat-content",children:[Y.jsxs("span",{className:"stat-value",children:[O,"o"]}),Y.jsx("span",{className:"stat-label",children:"Sua Posicao"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon yellow",children:Y.jsx("span",{className:"material-icons",children:"trending_down"})}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("span",{className:"stat-value",children:j(k)}),Y.jsx("span",{className:"stat-label",children:"Menor Preco"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon purple",children:Y.jsx("span",{className:"material-icons",children:"calculate"})}),Y.jsxs("div",{className:"stat-content",children:[Y.jsx("span",{className:"stat-value",children:j(S)}),Y.jsx("span",{className:"stat-label",children:"Preco Medio"})]})]})]}),Y.jsx("div",{className:"chart-section",children:Y.jsxs("div",{className:"chart-card",children:[Y.jsx("div",{className:"chart-header",children:Y.jsxs("h3",{children:[Y.jsx("span",{className:"material-icons",children:"bar_chart"}),"Comparativo de Precos"]})}),Y.jsx("div",{className:"chart-body",children:Y.jsx(RC,{width:"100%",height:300,children:Y.jsxs(lK,{data:w,layout:"vertical",children:[Y.jsx(lV,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),Y.jsx(JV,{type:"number",tickFormatter:e=>`R$${e.toFixed(0)}`,stroke:"#9ca3af",fontSize:11}),Y.jsx(cW,{type:"category",dataKey:"name",width:120,stroke:"#9ca3af",fontSize:11}),Y.jsx(oC,{formatter:e=>j(e)}),Y.jsx(nU,{dataKey:"price",radius:[0,4,4,0],children:w.map((e,t)=>Y.jsx(DC,{fill:e.isMe?"#3b82f6":"#e2e8f0"},`cell-${t}`))})]})})})]})}),Y.jsxs("div",{className:"competitors-section",children:[Y.jsxs("h3",{children:[Y.jsx("span",{className:"material-icons",children:"list"}),"Lista de Concorrentes"]}),Y.jsx("div",{className:"competitors-table-container",children:Y.jsxs("table",{className:"competitors-table",children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"#"}),Y.jsx("th",{children:"Vendedor"}),Y.jsx("th",{children:"Reputacao"}),Y.jsx("th",{children:"Preco"}),Y.jsx("th",{children:"Frete"}),Y.jsx("th",{children:"Vendas"}),Y.jsx("th",{children:"Tipo"}),Y.jsx("th",{children:"Acao"})]})}),Y.jsx("tbody",{children:h.map((e,t)=>{var n;const a={"5_green":{label:"Platinum",color:"#10b981",icon:"workspace_premium"},"4_light_green":{label:"Gold",color:"#84cc16",icon:"military_tech"},"3_yellow":{label:"Lider",color:"#eab308",icon:"verified"},"2_orange":{label:"Bom",color:"#f97316",icon:"thumb_up"},"1_red":{label:"Regular",color:"#ef4444",icon:"warning"}}[e.reputation]||{label:"N/A",color:"#6b7280",icon:"help"};const r=(s=u.price,(i=e.price)<.95*s?"cheaper":i>1.05*s?"expensive":"similar");var s,i;return Y.jsxs("tr",{className:r,children:[Y.jsx("td",{className:"rank-cell",children:Y.jsx("span",{className:"rank",children:t+1})}),Y.jsx("td",{className:"seller-cell",children:Y.jsx("span",{className:"seller-name",children:e.seller})}),Y.jsx("td",{className:"reputation-cell",children:Y.jsxs("div",{className:"rep-badge",style:{color:a.color},children:[Y.jsx("span",{className:"material-icons",children:a.icon}),Y.jsx("span",{children:a.label})]})}),Y.jsxs("td",{className:"price-cell",children:[Y.jsx("span",{className:`price ${r}`,children:j(e.price)}),"cheaper"===r&&Y.jsxs("span",{className:"diff negative",children:["-",Math.abs((e.price-u.price)/u.price*100).toFixed(1),"%"]}),"expensive"===r&&Y.jsxs("span",{className:"diff positive",children:["+",Math.abs((e.price-u.price)/u.price*100).toFixed(1),"%"]})]}),Y.jsx("td",{className:"shipping-cell",children:"free"===e.shipping?Y.jsxs("span",{className:"free-shipping",children:[Y.jsx("span",{className:"material-icons",children:"local_shipping"}),"Gratis"]}):Y.jsxs("span",{className:"paid-shipping",children:["R$ ",e.shipping]})}),Y.jsx("td",{className:"sales-cell",children:null==(n=e.totalSales)?void 0:n.toLocaleString("pt-BR")}),Y.jsx("td",{className:"type-cell",children:Y.jsx("span",{className:`listing-badge ${e.listingType}`,children:"gold_special"===e.listingType?"Premium":"Classico"})}),Y.jsx("td",{className:"action-cell",children:Y.jsx("a",{href:e.permalink,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-secondary",children:Y.jsx("span",{className:"material-icons",children:"open_in_new"})})})]},e.id||t)})})]})})]}),Y.jsxs("div",{className:"recommendation-card",children:[Y.jsx("div",{className:"rec-icon",children:Y.jsx("span",{className:"material-icons",children:"lightbulb"})}),Y.jsxs("div",{className:"rec-content",children:[Y.jsx("h4",{children:"Recomendacao"}),u.price>S?Y.jsxs("p",{children:["Seu preco esta ",Y.jsxs("strong",{children:[(100*(u.price/S-1)).toFixed(1),"% acima"]})," da media. Considere reduzir para ",j(.98*S)," para ser mais competitivo."]}):u.price<.9*S?Y.jsxs("p",{children:["Seu preco esta ",Y.jsxs("strong",{children:[(100*(1-u.price/S)).toFixed(1),"% abaixo"]})," da media. Voce pode aumentar para ",j(.95*S)," sem perder competitividade."]}):Y.jsxs("p",{children:["Seu preco esta ",Y.jsx("strong",{children:"bem posicionado"})," em relacao a concorrencia. Continue monitorando para manter sua vantagem."]})]})]})]}):Y.jsxs("div",{className:"empty-analysis",children:[Y.jsx("div",{className:"empty-icon",children:Y.jsx("span",{className:"material-icons",children:"analytics"})}),Y.jsx("h2",{children:"Selecione um produto"}),Y.jsx("p",{children:"Escolha um produto na lista ao lado para analisar a concorrencia"})]})})]})]})}function xH(){var e,t,n,a;const[r,s]=z.useState([]),[i,o]=z.useState(""),[l,c]=z.useState(!0),[u,d]=z.useState([]),[h,p]=z.useState("campaigns"),[m,f]=z.useState(!1),[v,y]=z.useState(!1),[x,g]=z.useState(null),[b,j]=z.useState([]),[N,w]=z.useState({totalSpend:0,totalClicks:0,totalImpressions:0,totalConversions:0,avgCpc:0,avgCtr:0,roi:0}),[S,k]=z.useState([]),[O,C]=z.useState("30"),[P,E]=z.useState(null),[_,A]=z.useState({name:"",type:"product_ads",dailyBudget:"",totalBudget:"",bidStrategy:"automatic",bidAmount:"",status:"active",selectedProducts:[],keywords:"",startDate:"",endDate:""});z.useEffect(()=>{T()},[]),z.useEffect(()=>{i&&M()},[i,O]);const T=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),n=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];s(n),n.length>0&&o(n[0].id)}catch(t){E("Erro ao carregar contas"),c(!1)}},M=async()=>{c(!0),E(null);try{const e=await Ef.get(`/advertising/${i}?days=${O}`);d(e.data.campaigns||[]),w(e.data.stats||{}),k(e.data.performance||[]),R()}catch(e){const t=I();d(t.campaigns),w(t.stats),k(t.performance),j(t.items)}finally{c(!1)}},R=async()=>{try{const e=await Ef.get(`/items/${i}?limit=50`);e.data.success&&j(e.data.data||[])}catch(e){console.error("Error fetching items:",e)}},D=()=>{A({name:"",type:"product_ads",dailyBudget:"",totalBudget:"",bidStrategy:"automatic",bidAmount:"",status:"active",selectedProducts:[],keywords:"",startDate:"",endDate:""})},I=()=>{const e=[{id:"camp_1",name:"Campanha Principal",status:"active",budget:500,spent:342.5,impressions:125e3,clicks:3750,conversions:89,revenue:12500,ctr:3,cpc:.91,roas:3.65},{id:"camp_2",name:"Promocao Verao",status:"active",budget:300,spent:215.3,impressions:85e3,clicks:2125,conversions:52,revenue:7800,ctr:2.5,cpc:1.01,roas:3.62},{id:"camp_3",name:"Lancamentos",status:"paused",budget:200,spent:0,impressions:0,clicks:0,conversions:0,revenue:0,ctr:0,cpc:0,roas:0},{id:"camp_4",name:"Eletronicos",status:"active",budget:400,spent:285,impressions:95e3,clicks:2850,conversions:68,revenue:9500,ctr:3,cpc:1,roas:3.33}],t={totalSpend:e.reduce((e,t)=>e+t.spent,0),totalClicks:e.reduce((e,t)=>e+t.clicks,0),totalImpressions:e.reduce((e,t)=>e+t.impressions,0),totalConversions:e.reduce((e,t)=>e+t.conversions,0),totalRevenue:e.reduce((e,t)=>e+t.revenue,0),avgCpc:e.filter(e=>e.clicks>0).reduce((e,t)=>e+t.cpc,0)/e.filter(e=>e.clicks>0).length||0,avgCtr:e.filter(e=>e.impressions>0).reduce((e,t)=>e+t.ctr,0)/e.filter(e=>e.impressions>0).length||0,roi:0};t.roi=t.totalSpend>0?(t.totalRevenue-t.totalSpend)/t.totalSpend*100:0;const n=[];for(let a=parseInt(O)-1;a>=0;a--){const e=new Date;e.setDate(e.getDate()-a),n.push({date:e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),spend:Math.floor(50*Math.random())+10,clicks:Math.floor(300*Math.random())+50,conversions:Math.floor(10*Math.random())+1})}return{campaigns:e,stats:t,performance:n,items:[{id:"MLB123456789",title:"Smartphone Samsung Galaxy S21 128GB",thumbnail:"/placeholder.png",price:2499,adStatus:"active",impressions:45e3,clicks:1350,conversions:32,spend:125.5,ctr:3,roas:6.4},{id:"MLB987654321",title:"Fone de Ouvido Bluetooth JBL Tune 510BT",thumbnail:"/placeholder.png",price:249,adStatus:"active",impressions:32e3,clicks:960,conversions:24,spend:85.2,ctr:3,roas:7},{id:"MLB456789123",title:"Notebook Dell Inspiron 15 Core i5",thumbnail:"/placeholder.png",price:3299,adStatus:"paused",impressions:18e3,clicks:450,conversions:8,spend:65,ctr:2.5,roas:4.1}]}},L=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),B=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toLocaleString("pt-BR"),F=e=>({active:"Ativa",paused:"Pausada",ended:"Encerrada"}[e]||e),$=async(e,t)=>{const n="active"===t?"paused":"active";try{await Ef.put(`/advertising/${i}/${e}/status`,{status:n}),d(u.map(t=>t.id===e?{...t,status:n}:t))}catch(a){d(u.map(t=>t.id===e?{...t,status:n}:t))}};return Y.jsxs("div",{className:"advertising-page",children:[Y.jsxs("header",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"campaign"}),"Product Ads"]}),Y.jsx("p",{children:"Gerencie seus anuncios patrocinados"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:i,onChange:e=>o(e.target.value),children:r.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("select",{className:"period-select",value:O,onChange:e=>C(e.target.value),children:[Y.jsx("option",{value:"7",children:"Ultimos 7 dias"}),Y.jsx("option",{value:"15",children:"Ultimos 15 dias"}),Y.jsx("option",{value:"30",children:"Ultimos 30 dias"}),Y.jsx("option",{value:"60",children:"Ultimos 60 dias"})]}),Y.jsxs("button",{className:"btn btn-primary",children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Nova Campanha"]})]})]}),P&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),P]}),l?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner-large"}),Y.jsx("p",{children:"Carregando campanhas..."})]}):Y.jsxs(Y.Fragment,{children:[Y.jsx("section",{className:"kpi-section",children:Y.jsxs("div",{className:"kpi-grid",children:[Y.jsxs("div",{className:"kpi-card spend",children:[Y.jsx("div",{className:"kpi-icon",children:Y.jsx("span",{className:"material-icons",children:"payments"})}),Y.jsxs("div",{className:"kpi-content",children:[Y.jsx("span",{className:"kpi-label",children:"Investimento"}),Y.jsx("span",{className:"kpi-value",children:L(N.totalSpend)})]})]}),Y.jsxs("div",{className:"kpi-card impressions",children:[Y.jsx("div",{className:"kpi-icon",children:Y.jsx("span",{className:"material-icons",children:"visibility"})}),Y.jsxs("div",{className:"kpi-content",children:[Y.jsx("span",{className:"kpi-label",children:"Impressoes"}),Y.jsx("span",{className:"kpi-value",children:B(N.totalImpressions)})]})]}),Y.jsxs("div",{className:"kpi-card clicks",children:[Y.jsx("div",{className:"kpi-icon",children:Y.jsx("span",{className:"material-icons",children:"touch_app"})}),Y.jsxs("div",{className:"kpi-content",children:[Y.jsx("span",{className:"kpi-label",children:"Cliques"}),Y.jsx("span",{className:"kpi-value",children:B(N.totalClicks)}),Y.jsxs("span",{className:"kpi-sub",children:["CTR: ",(null==(e=N.avgCtr)?void 0:e.toFixed(2))||0,"%"]})]})]}),Y.jsxs("div",{className:"kpi-card conversions",children:[Y.jsx("div",{className:"kpi-icon",children:Y.jsx("span",{className:"material-icons",children:"shopping_cart"})}),Y.jsxs("div",{className:"kpi-content",children:[Y.jsx("span",{className:"kpi-label",children:"Conversoes"}),Y.jsx("span",{className:"kpi-value",children:B(N.totalConversions)}),Y.jsxs("span",{className:"kpi-sub",children:["CPC: ",L(N.avgCpc||0)]})]})]}),Y.jsxs("div",{className:"kpi-card revenue",children:[Y.jsx("div",{className:"kpi-icon",children:Y.jsx("span",{className:"material-icons",children:"trending_up"})}),Y.jsxs("div",{className:"kpi-content",children:[Y.jsx("span",{className:"kpi-label",children:"Receita Gerada"}),Y.jsx("span",{className:"kpi-value",children:L(N.totalRevenue||0)})]})]}),Y.jsxs("div",{className:"kpi-card roi",children:[Y.jsx("div",{className:"kpi-icon",children:Y.jsx("span",{className:"material-icons",children:"insights"})}),Y.jsxs("div",{className:"kpi-content",children:[Y.jsx("span",{className:"kpi-label",children:"ROI"}),Y.jsxs("span",{className:"kpi-value",style:{color:N.roi>0?"#10b981":"#ef4444"},children:[N.roi>0?"+":"",(null==(t=N.roi)?void 0:t.toFixed(1))||0,"%"]})]})]})]})}),Y.jsx("section",{className:"chart-section",children:Y.jsxs("div",{className:"chart-card",children:[Y.jsx("div",{className:"chart-header",children:Y.jsxs("h3",{children:[Y.jsx("span",{className:"material-icons",children:"show_chart"}),"Performance"]})}),Y.jsx("div",{className:"chart-body",children:S.length>0?Y.jsx(RC,{width:"100%",height:300,children:Y.jsxs(uK,{data:S,children:[Y.jsxs("defs",{children:[Y.jsxs("linearGradient",{id:"colorSpend",x1:"0",y1:"0",x2:"0",y2:"1",children:[Y.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),Y.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]}),Y.jsxs("linearGradient",{id:"colorClicks",x1:"0",y1:"0",x2:"0",y2:"1",children:[Y.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),Y.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})]}),Y.jsx(lV,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),Y.jsx(JV,{dataKey:"date",stroke:"#9ca3af",fontSize:11}),Y.jsx(cW,{stroke:"#9ca3af",fontSize:11}),Y.jsx(oC,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),Y.jsx(Ck,{}),Y.jsx(zV,{type:"monotone",dataKey:"spend",stroke:"#ef4444",fill:"url(#colorSpend)",name:"Investimento (R$)"}),Y.jsx(zV,{type:"monotone",dataKey:"clicks",stroke:"#3b82f6",fill:"url(#colorClicks)",name:"Cliques"})]})}):Y.jsxs("div",{className:"no-data",children:[Y.jsx("span",{className:"material-icons",children:"insert_chart"}),Y.jsx("p",{children:"Sem dados de performance"})]})})]})}),Y.jsxs("section",{className:"campaigns-section",children:[Y.jsx("div",{className:"section-header",children:Y.jsxs("h2",{className:"section-title",children:[Y.jsx("span",{className:"material-icons",children:"list"}),"Campanhas (",u.length,")"]})}),Y.jsx("div",{className:"campaigns-grid",children:u.map(e=>{var t,n,a;return Y.jsxs("div",{className:`campaign-card ${e.status}`,children:[Y.jsxs("div",{className:"campaign-header",children:[Y.jsx("div",{className:"campaign-status",style:{background:(a=e.status,{active:"#10b981",paused:"#f59e0b",ended:"#ef4444"}[a]||"#64748b")},children:F(e.status)}),Y.jsx("button",{className:"btn-icon",onClick:()=>$(e.id,e.status),title:"active"===e.status?"Pausar":"Ativar",children:Y.jsx("span",{className:"material-icons",children:"active"===e.status?"pause":"play_arrow"})})]}),Y.jsx("h3",{className:"campaign-name",children:e.name}),Y.jsxs("div",{className:"campaign-budget",children:[Y.jsx("div",{className:"budget-bar",children:Y.jsx("div",{className:"budget-fill",style:{width:`${Math.min(e.spent/e.budget*100,100)}%`}})}),Y.jsxs("div",{className:"budget-info",children:[Y.jsx("span",{children:L(e.spent)}),Y.jsxs("span",{children:["de ",L(e.budget)]})]})]}),Y.jsxs("div",{className:"campaign-metrics",children:[Y.jsxs("div",{className:"metric",children:[Y.jsx("span",{className:"metric-value",children:B(e.impressions)}),Y.jsx("span",{className:"metric-label",children:"Impressoes"})]}),Y.jsxs("div",{className:"metric",children:[Y.jsx("span",{className:"metric-value",children:B(e.clicks)}),Y.jsx("span",{className:"metric-label",children:"Cliques"})]}),Y.jsxs("div",{className:"metric",children:[Y.jsxs("span",{className:"metric-value",children:[(null==(t=e.ctr)?void 0:t.toFixed(1))||0,"%"]}),Y.jsx("span",{className:"metric-label",children:"CTR"})]}),Y.jsxs("div",{className:"metric",children:[Y.jsx("span",{className:"metric-value",children:e.conversions}),Y.jsx("span",{className:"metric-label",children:"Vendas"})]})]}),Y.jsxs("div",{className:"campaign-roas",children:[Y.jsx("span",{className:"roas-label",children:"ROAS"}),Y.jsxs("span",{className:"roas-value",style:{color:e.roas>1?"#10b981":"#ef4444"},children:[(null==(n=e.roas)?void 0:n.toFixed(2))||0,"x"]})]}),Y.jsxs("div",{className:"campaign-actions",children:[Y.jsxs("button",{className:"btn btn-sm btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"edit"}),"Editar"]}),Y.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>(e=>{g(e),y(!0)})(e),children:[Y.jsx("span",{className:"material-icons",children:"bar_chart"}),"Detalhes"]})]})]},e.id)})}),0===u.length&&Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"campaign"}),Y.jsx("h3",{children:"Nenhuma campanha encontrada"}),Y.jsx("p",{children:"Crie sua primeira campanha para comecar a anunciar"}),Y.jsxs("button",{className:"btn btn-primary",onClick:()=>f(!0),children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Criar Campanha"]})]})]}),Y.jsxs("section",{className:"tips-section",children:[Y.jsxs("h2",{className:"section-title",children:[Y.jsx("span",{className:"material-icons",children:"tips_and_updates"}),"Dicas para Melhorar seus Anuncios"]}),Y.jsxs("div",{className:"tips-grid",children:[Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-icon",children:Y.jsx("span",{className:"material-icons",children:"filter_list"})}),Y.jsx("h4",{children:"Segmente seu Publico"}),Y.jsx("p",{children:"Use palavras-chave relevantes para atingir compradores interessados."})]}),Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-icon",children:Y.jsx("span",{className:"material-icons",children:"attach_money"})}),Y.jsx("h4",{children:"Ajuste seu Lance"}),Y.jsx("p",{children:"Comece com lances mais altos e ajuste conforme os resultados."})]}),Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-icon",children:Y.jsx("span",{className:"material-icons",children:"schedule"})}),Y.jsx("h4",{children:"Monitore Diariamente"}),Y.jsx("p",{children:"Acompanhe as metricas e pause campanhas que nao performam."})]}),Y.jsxs("div",{className:"tip-card",children:[Y.jsx("div",{className:"tip-icon",children:Y.jsx("span",{className:"material-icons",children:"photo"})}),Y.jsx("h4",{children:"Otimize seus Anuncios"}),Y.jsx("p",{children:"Use boas fotos e titulos claros para aumentar o CTR."})]})]})]}),Y.jsxs("section",{className:"products-ads-section",children:[Y.jsx("div",{className:"section-header",children:Y.jsxs("h2",{className:"section-title",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),"Anuncios por Produto (",b.length,")"]})}),Y.jsx("div",{className:"products-ads-table",children:Y.jsxs("table",{children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"Produto"}),Y.jsx("th",{children:"Status"}),Y.jsx("th",{children:"Impressoes"}),Y.jsx("th",{children:"Cliques"}),Y.jsx("th",{children:"CTR"}),Y.jsx("th",{children:"Conversoes"}),Y.jsx("th",{children:"Investimento"}),Y.jsx("th",{children:"ROAS"}),Y.jsx("th",{children:"Acoes"})]})}),Y.jsx("tbody",{children:b.map(e=>{var t,n,a;return Y.jsxs("tr",{children:[Y.jsx("td",{children:Y.jsxs("div",{className:"product-cell",children:[Y.jsx("img",{src:e.thumbnail||"/placeholder.png",alt:"",className:"product-thumb"}),Y.jsxs("div",{className:"product-info",children:[Y.jsxs("span",{className:"product-title",children:[null==(t=e.title)?void 0:t.substring(0,50),"..."]}),Y.jsx("span",{className:"product-id",children:e.id})]})]})}),Y.jsx("td",{children:Y.jsx("span",{className:`status-badge ${e.adStatus}`,children:"active"===e.adStatus?"Ativo":"Pausado"})}),Y.jsx("td",{children:B(e.impressions||0)}),Y.jsx("td",{children:B(e.clicks||0)}),Y.jsxs("td",{children:[(null==(n=e.ctr)?void 0:n.toFixed(1))||0,"%"]}),Y.jsx("td",{children:e.conversions||0}),Y.jsx("td",{children:L(e.spend||0)}),Y.jsx("td",{children:Y.jsxs("span",{style:{color:(e.roas||0)>1?"#10b981":"#ef4444"},children:[(null==(a=e.roas)?void 0:a.toFixed(1))||0,"x"]})}),Y.jsx("td",{children:Y.jsxs("div",{className:"action-buttons",children:[Y.jsx("button",{className:"btn-icon",title:"Editar",children:Y.jsx("span",{className:"material-icons",children:"edit"})}),Y.jsx("button",{className:"btn-icon",title:"active"===e.adStatus?"Pausar":"Ativar",children:Y.jsx("span",{className:"material-icons",children:"active"===e.adStatus?"pause":"play_arrow"})})]})})]},e.id)})})]})})]})]}),m&&Y.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:Y.jsxs("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsxs("h2",{children:[Y.jsx("span",{className:"material-icons",children:"add_circle"}),"Nova Campanha"]}),Y.jsx("button",{className:"btn-icon",onClick:()=>f(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Informacoes Basicas"}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Nome da Campanha"}),Y.jsx("input",{type:"text",value:_.name,onChange:e=>A(t=>({...t,name:e.target.value})),placeholder:"Ex: Promocao de Verao"})]}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Tipo de Campanha"}),Y.jsxs("select",{value:_.type,onChange:e=>A(t=>({...t,type:e.target.value})),children:[Y.jsx("option",{value:"product_ads",children:"Product Ads"}),Y.jsx("option",{value:"brand_ads",children:"Brand Ads"}),Y.jsx("option",{value:"display_ads",children:"Display Ads"})]})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Status Inicial"}),Y.jsxs("select",{value:_.status,onChange:e=>A(t=>({...t,status:e.target.value})),children:[Y.jsx("option",{value:"active",children:"Ativa"}),Y.jsx("option",{value:"paused",children:"Pausada"})]})]})]})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Orcamento"}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Orcamento Diario (R$)"}),Y.jsx("input",{type:"number",value:_.dailyBudget,onChange:e=>A(t=>({...t,dailyBudget:e.target.value})),placeholder:"50.00"})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Orcamento Total (R$)"}),Y.jsx("input",{type:"number",value:_.totalBudget,onChange:e=>A(t=>({...t,totalBudget:e.target.value})),placeholder:"1500.00"})]})]})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Estrategia de Lance"}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Tipo de Lance"}),Y.jsxs("select",{value:_.bidStrategy,onChange:e=>A(t=>({...t,bidStrategy:e.target.value})),children:[Y.jsx("option",{value:"automatic",children:"Automatico (Recomendado)"}),Y.jsx("option",{value:"manual",children:"Manual"}),Y.jsx("option",{value:"target_roas",children:"ROAS Alvo"})]})]}),"manual"===_.bidStrategy&&Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Valor do Lance (R$)"}),Y.jsx("input",{type:"number",value:_.bidAmount,onChange:e=>A(t=>({...t,bidAmount:e.target.value})),placeholder:"0.50",step:"0.01"})]})]}),Y.jsxs("div",{className:"bid-info",children:[Y.jsx("span",{className:"material-icons",children:"info"}),Y.jsx("p",{children:"automatic"===_.bidStrategy?"O ML otimizara automaticamente seus lances para maximizar conversoes.":"manual"===_.bidStrategy?"Voce define o valor maximo por clique. Recomendado para usuarios experientes.":"O sistema ajustara lances para atingir o ROAS desejado."})]})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Duracao"}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Data de Inicio"}),Y.jsx("input",{type:"date",value:_.startDate,onChange:e=>A(t=>({...t,startDate:e.target.value}))})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Data de Termino (opcional)"}),Y.jsx("input",{type:"date",value:_.endDate,onChange:e=>A(t=>({...t,endDate:e.target.value}))})]})]})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Palavras-chave (opcional)"}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Adicionar palavras-chave"}),Y.jsx("textarea",{value:_.keywords,onChange:e=>A(t=>({...t,keywords:e.target.value})),placeholder:"smartphone, celular, samsung\nSepare por virgula ou quebra de linha",rows:3})]})]})]}),Y.jsxs("div",{className:"modal-footer",children:[Y.jsx("button",{className:"btn btn-secondary",onClick:()=>f(!1),children:"Cancelar"}),Y.jsxs("button",{className:"btn btn-primary",onClick:async()=>{try{const e={..._,dailyBudget:parseFloat(_.dailyBudget)||0,totalBudget:parseFloat(_.totalBudget)||0,bidAmount:parseFloat(_.bidAmount)||0},t=await Ef.post(`/advertising/${i}/campaigns`,e);t.data.success&&(d(e=>[...e,t.data.data]),f(!1),D())}catch(e){const t={id:`camp_${Date.now()}`,name:_.name,type:_.type,status:_.status,budget:parseFloat(_.totalBudget)||30*parseFloat(_.dailyBudget),dailyBudget:parseFloat(_.dailyBudget)||0,spent:0,impressions:0,clicks:0,conversions:0,revenue:0,ctr:0,cpc:0,roas:0,bidStrategy:_.bidStrategy,products:_.selectedProducts.length,createdAt:(new Date).toISOString()};d(e=>[...e,t]),f(!1),D()}},disabled:!_.name||!_.dailyBudget&&!_.totalBudget,children:[Y.jsx("span",{className:"material-icons",children:"rocket_launch"}),"Criar Campanha"]})]})]})}),v&&x&&Y.jsx("div",{className:"modal-overlay",onClick:()=>y(!1),children:Y.jsxs("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsxs("h2",{children:[Y.jsx("span",{className:"material-icons",children:"analytics"}),x.name]}),Y.jsx("button",{className:"btn-icon",onClick:()=>y(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"campaign-detail-stats",children:[Y.jsxs("div",{className:"detail-stat",children:[Y.jsx("span",{className:"label",children:"Status"}),Y.jsx("span",{className:`status-badge ${x.status}`,children:F(x.status)})]}),Y.jsxs("div",{className:"detail-stat",children:[Y.jsx("span",{className:"label",children:"Orcamento"}),Y.jsx("span",{className:"value",children:L(x.budget)})]}),Y.jsxs("div",{className:"detail-stat",children:[Y.jsx("span",{className:"label",children:"Gasto"}),Y.jsx("span",{className:"value",children:L(x.spent)})]}),Y.jsxs("div",{className:"detail-stat",children:[Y.jsx("span",{className:"label",children:"Impressoes"}),Y.jsx("span",{className:"value",children:B(x.impressions)})]}),Y.jsxs("div",{className:"detail-stat",children:[Y.jsx("span",{className:"label",children:"Cliques"}),Y.jsx("span",{className:"value",children:B(x.clicks)})]}),Y.jsxs("div",{className:"detail-stat",children:[Y.jsx("span",{className:"label",children:"CTR"}),Y.jsxs("span",{className:"value",children:[null==(n=x.ctr)?void 0:n.toFixed(2),"%"]})]}),Y.jsxs("div",{className:"detail-stat",children:[Y.jsx("span",{className:"label",children:"CPC Medio"}),Y.jsx("span",{className:"value",children:L(x.cpc)})]}),Y.jsxs("div",{className:"detail-stat",children:[Y.jsx("span",{className:"label",children:"Conversoes"}),Y.jsx("span",{className:"value",children:x.conversions})]}),Y.jsxs("div",{className:"detail-stat",children:[Y.jsx("span",{className:"label",children:"Receita"}),Y.jsx("span",{className:"value",children:L(x.revenue)})]}),Y.jsxs("div",{className:"detail-stat highlight",children:[Y.jsx("span",{className:"label",children:"ROAS"}),Y.jsxs("span",{className:"value",style:{color:x.roas>1?"#10b981":"#ef4444"},children:[null==(a=x.roas)?void 0:a.toFixed(2),"x"]})]})]}),Y.jsxs("div",{className:"campaign-performance-chart",children:[Y.jsx("h3",{children:"Performance dos Ultimos 7 dias"}),Y.jsx(RC,{width:"100%",height:250,children:Y.jsxs(oK,{data:S.slice(-7),children:[Y.jsx(lV,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),Y.jsx(JV,{dataKey:"date",stroke:"#9ca3af",fontSize:11}),Y.jsx(cW,{stroke:"#9ca3af",fontSize:11}),Y.jsx(oC,{}),Y.jsx(Ck,{}),Y.jsx(kV,{type:"monotone",dataKey:"clicks",stroke:"#3b82f6",name:"Cliques"}),Y.jsx(kV,{type:"monotone",dataKey:"conversions",stroke:"#10b981",name:"Conversoes"})]})})]})]}),Y.jsxs("div",{className:"modal-footer",children:[Y.jsxs("button",{className:"btn btn-secondary",onClick:()=>$(x.id,x.status),children:[Y.jsx("span",{className:"material-icons",children:"active"===x.status?"pause":"play_arrow"}),"active"===x.status?"Pausar":"Ativar"," Campanha"]}),Y.jsxs("button",{className:"btn btn-primary",children:[Y.jsx("span",{className:"material-icons",children:"edit"}),"Editar Campanha"]})]})]})})]})}function gH(){const{token:e}=_f(),[t,n]=z.useState([]),[a,r]=z.useState(""),[s,i]=z.useState([]),[o,l]=z.useState([]),[c,u]=z.useState(!1),[d,h]=z.useState(!1),[p,m]=z.useState(null),[f,v]=z.useState("eligibility"),[y,x]=z.useState(""),[g,b]=z.useState(null),[j,N]=z.useState(!1),[w,S]=z.useState({total:0,catalogListed:0,buyBoxWinner:0,eligible:0});z.useEffect(()=>{k()},[]),z.useEffect(()=>{a&&(O(),C())},[a]);const k=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),a=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];n(a),a.length>0&&r(a[0].id)}catch(t){m("Erro ao carregar contas")}},O=async()=>{u(!0),m(null);try{const e=await Ef.get(`/catalog/${a}/items`);i(e.data.items||[])}catch(e){m("Erro ao carregar itens"),i([])}finally{u(!1)}},C=async()=>{try{const e=await Ef.get(`/catalog/${a}/stats`);S(e.data.stats||w)}catch(e){console.error("Erro ao carregar estatisticas:",e)}},P=async()=>{if(y.trim()){u(!0);try{const e=await Ef.get(`/catalog/${a}/products/search`,{params:{q:y}});l(e.data.products||[]),v("search")}catch(e){m("Erro ao buscar produtos no catalogo")}finally{u(!1)}}},E=(e,t="BRL")=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:t}).format(e||0),_=s.filter(e=>"eligibility"===f?!e.catalogListed:"catalog"===f?e.catalogListed:"buybox"!==f||e.catalogListed&&e.inCompetition);return Y.jsxs("div",{className:"catalog-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"menu_book"}),"Catalogo & Buy Box"]}),Y.jsx("p",{children:"Gerencie seus produtos no catalogo e competicao Buy Box"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:a,onChange:e=>r(e.target.value),children:t.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("button",{className:"btn btn-primary",onClick:O,disabled:c||!a,children:[Y.jsx("span",{className:"material-icons",children:"refresh"}),"Atualizar"]})]})]}),Y.jsxs("div",{className:"stats-grid",children:[Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon blue",children:Y.jsx("span",{className:"material-icons",children:"inventory_2"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:w.total}),Y.jsx("span",{className:"stat-label",children:"Total de Itens"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon purple",children:Y.jsx("span",{className:"material-icons",children:"menu_book"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:w.catalogListed}),Y.jsx("span",{className:"stat-label",children:"No Catalogo"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon gold",children:Y.jsx("span",{className:"material-icons",children:"emoji_events"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:w.buyBoxWinner}),Y.jsx("span",{className:"stat-label",children:"Ganhando Buy Box"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon green",children:Y.jsx("span",{className:"material-icons",children:"check_circle"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:w.eligible}),Y.jsx("span",{className:"stat-label",children:"Elegiveis"})]})]})]}),Y.jsx("div",{className:"search-section",children:Y.jsxs("div",{className:"search-bar",children:[Y.jsx("span",{className:"material-icons",children:"search"}),Y.jsx("input",{type:"text",placeholder:"Buscar produtos no catalogo por nome, GTIN, EAN...",value:y,onChange:e=>x(e.target.value),onKeyPress:e=>"Enter"===e.key&&P()}),Y.jsx("button",{className:"btn btn-primary",onClick:P,disabled:!y.trim(),children:"Buscar"})]})}),Y.jsxs("div",{className:"tabs-bar",children:[Y.jsxs("button",{className:"tab "+("eligibility"===f?"active":""),onClick:()=>v("eligibility"),children:[Y.jsx("span",{className:"material-icons",children:"fact_check"}),"Elegibilidade"]}),Y.jsxs("button",{className:"tab "+("catalog"===f?"active":""),onClick:()=>v("catalog"),children:[Y.jsx("span",{className:"material-icons",children:"menu_book"}),"No Catalogo"]}),Y.jsxs("button",{className:"tab "+("buybox"===f?"active":""),onClick:()=>v("buybox"),children:[Y.jsx("span",{className:"material-icons",children:"emoji_events"}),"Buy Box"]}),o.length>0&&Y.jsxs("button",{className:"tab "+("search"===f?"active":""),onClick:()=>v("search"),children:[Y.jsx("span",{className:"material-icons",children:"search"}),"Resultados (",o.length,")"]})]}),p&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),p]}),Y.jsx("div",{className:"catalog-content",children:c?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando..."})]}):"search"===f&&o.length>0?Y.jsx("div",{className:"catalog-products-grid",children:o.map(e=>{var t;return Y.jsxs("div",{className:"catalog-product-card",children:[Y.jsx("div",{className:"product-image",children:e.thumbnail?Y.jsx("img",{src:e.thumbnail,alt:e.name}):Y.jsx("span",{className:"material-icons",children:"image"})}),Y.jsxs("div",{className:"product-info",children:[Y.jsx("h3",{children:e.name}),Y.jsxs("p",{className:"product-id",children:["ID: ",e.id]}),e.gtin&&Y.jsxs("p",{className:"product-gtin",children:["GTIN: ",e.gtin]}),Y.jsx("div",{className:"product-attributes",children:null==(t=e.attributes)?void 0:t.slice(0,3).map((e,t)=>Y.jsxs("span",{className:"attribute-tag",children:[e.name,": ",e.value]},t))})]}),Y.jsx("div",{className:"product-actions",children:Y.jsxs("button",{className:"btn btn-sm btn-primary",onClick:()=>{b({catalogProductId:e.id}),N(!0)},children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Vincular Item"]})})]},e.id)})}):0===_.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"buybox"===f?"emoji_events":"menu_book"}),Y.jsx("h3",{children:"Nenhum item encontrado"}),Y.jsxs("p",{children:["eligibility"===f&&"Seus itens elegiveis para catalogo aparecerao aqui","catalog"===f&&"Seus itens no catalogo aparecerao aqui","buybox"===f&&"Seus itens competindo no Buy Box aparecerao aqui"]})]}):Y.jsx("div",{className:"items-table",children:Y.jsxs("table",{children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"Item"}),Y.jsx("th",{children:"Status"}),"buybox"===f&&Y.jsx("th",{children:"Buy Box"}),Y.jsx("th",{children:"Preco"}),"buybox"===f&&Y.jsx("th",{children:"Competidores"}),Y.jsx("th",{children:"Acoes"})]})}),Y.jsx("tbody",{children:_.map(e=>{const t={eligible:{class:"badge-success",text:"Elegivel"},not_eligible:{class:"badge-danger",text:"Nao Elegivel"},pending:{class:"badge-warning",text:"Pendente"},catalog_listed:{class:"badge-primary",text:"No Catalogo"}}[n=e.catalogStatus]||{class:"badge-secondary",text:n};var n;const r=void 0!==e.buyBoxWinner?e.buyBoxWinner?{class:"badge-success",icon:"emoji_events",text:"Ganhador"}:{class:"badge-warning",icon:"trending_down",text:"Competindo"}:null;return Y.jsxs("tr",{children:[Y.jsx("td",{children:Y.jsxs("div",{className:"item-cell",children:[Y.jsx("div",{className:"item-image",children:e.thumbnail?Y.jsx("img",{src:e.thumbnail,alt:e.title}):Y.jsx("span",{className:"material-icons",children:"image"})}),Y.jsxs("div",{className:"item-details",children:[Y.jsx("span",{className:"item-title",children:e.title}),Y.jsx("span",{className:"item-id",children:e.id})]})]})}),Y.jsx("td",{children:Y.jsx("span",{className:`badge ${t.class}`,children:t.text})}),"buybox"===f&&r&&Y.jsx("td",{children:Y.jsxs("span",{className:`badge ${r.class}`,children:[Y.jsx("span",{className:"material-icons",children:r.icon}),r.text]})}),Y.jsxs("td",{children:[Y.jsx("span",{className:"price",children:E(e.price)}),e.competitorPrice&&e.competitorPrice<e.price&&Y.jsxs("span",{className:"competitor-price",children:["Menor: ",E(e.competitorPrice)]})]}),"buybox"===f&&Y.jsx("td",{children:Y.jsxs("span",{className:"competitors-count",children:[e.competitorsCount||0," vendedores"]})}),Y.jsx("td",{children:Y.jsxs("div",{className:"actions",children:[!e.catalogListed&&"eligible"===e.catalogStatus&&Y.jsxs("button",{className:"btn btn-sm btn-primary",onClick:()=>{b(e),N(!0)},children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Publicar"]}),Y.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>(async e=>{try{return(await Ef.get(`/catalog/${a}/items/${e}/eligibility`)).data}catch(t){return m("Erro ao verificar elegibilidade"),null}})(e.id),children:[Y.jsx("span",{className:"material-icons",children:"fact_check"}),"Verificar"]}),Y.jsx("a",{href:e.permalink,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline",children:Y.jsx("span",{className:"material-icons",children:"open_in_new"})})]})})]},e.id)})})]})})}),j&&Y.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:Y.jsxs("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsx("h2",{children:"Selecionar Produto do Catalogo"}),Y.jsx("button",{className:"close-btn",onClick:()=>N(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"search-bar",children:[Y.jsx("input",{type:"text",placeholder:"Buscar produto por nome, GTIN, EAN...",value:y,onChange:e=>x(e.target.value),onKeyPress:e=>"Enter"===e.key&&P()}),Y.jsx("button",{className:"btn btn-primary",onClick:P,children:"Buscar"})]}),o.length>0&&Y.jsx("div",{className:"products-list",children:o.map(e=>Y.jsxs("div",{className:"product-option",onClick:()=>(async(e,t)=>{try{await Ef.post(`/catalog/${a}/items/${e}/catalog`,{catalog_product_id:t}),await O(),N(!1),b(null)}catch(n){m("Erro ao publicar no catalogo")}})(g.id,e.id),children:[Y.jsx("div",{className:"product-thumb",children:e.thumbnail?Y.jsx("img",{src:e.thumbnail,alt:e.name}):Y.jsx("span",{className:"material-icons",children:"image"})}),Y.jsxs("div",{className:"product-details",children:[Y.jsx("span",{className:"product-name",children:e.name}),Y.jsx("span",{className:"product-id",children:e.id})]}),Y.jsx("span",{className:"material-icons select-icon",children:"chevron_right"})]},e.id))})]})]})})]})}function bH(){const{token:e}=_f(),[t,n]=z.useState([]),[a,r]=z.useState(""),[s,i]=z.useState([]),[o,l]=z.useState([]),[c,u]=z.useState(!1),[d,h]=z.useState(null),[p,m]=z.useState("inventory"),[f,v]=z.useState({totalItems:0,inStock:0,lowStock:0,outOfStock:0,pendingShipments:0,inTransit:0}),[y,x]=z.useState({status:"all",warehouse:"all"});z.useEffect(()=>{g()},[]),z.useEffect(()=>{a&&b()},[a,p]);const g=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),a=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];n(a),a.length>0&&r(a[0].id)}catch(t){h("Erro ao carregar contas")}},b=async()=>{u(!0),h(null);try{"inventory"===p?await j():await N(),await w()}catch(e){h("Erro ao carregar dados")}finally{u(!1)}},j=async()=>{const e=await Ef.get(`/fulfillment/${a}/inventory`);i(e.data.inventory||[])},N=async()=>{const e=await Ef.get(`/fulfillment/${a}/shipments`);l(e.data.shipments||[])},w=async()=>{try{const e=await Ef.get(`/fulfillment/${a}/stats`);v(e.data.stats||f)}catch(e){console.error("Erro ao carregar estatisticas:",e)}},S=e=>e?new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",k=s.filter(e=>"all"===y.status||("in_stock"===y.status?e.available_quantity>5:"low_stock"===y.status?e.available_quantity>0&&e.available_quantity<=5:"out_of_stock"!==y.status||0===e.available_quantity));return Y.jsxs("div",{className:"fulfillment-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"warehouse"}),"Fulfillment (Full)"]}),Y.jsx("p",{children:"Gerencie seu estoque e envios do Mercado Envios Full"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:a,onChange:e=>r(e.target.value),children:t.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("button",{className:"btn btn-primary",onClick:b,disabled:c||!a,children:[Y.jsx("span",{className:"material-icons",children:"refresh"}),"Atualizar"]})]})]}),Y.jsxs("div",{className:"stats-grid",children:[Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon blue",children:Y.jsx("span",{className:"material-icons",children:"inventory"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:f.totalItems}),Y.jsx("span",{className:"stat-label",children:"Itens no Full"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon green",children:Y.jsx("span",{className:"material-icons",children:"check_circle"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:f.inStock}),Y.jsx("span",{className:"stat-label",children:"Em Estoque"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon warning",children:Y.jsx("span",{className:"material-icons",children:"warning"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:f.lowStock}),Y.jsx("span",{className:"stat-label",children:"Estoque Baixo"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon danger",children:Y.jsx("span",{className:"material-icons",children:"error"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:f.outOfStock}),Y.jsx("span",{className:"stat-label",children:"Sem Estoque"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon purple",children:Y.jsx("span",{className:"material-icons",children:"schedule"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:f.pendingShipments}),Y.jsx("span",{className:"stat-label",children:"Envios Pendentes"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon cyan",children:Y.jsx("span",{className:"material-icons",children:"local_shipping"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:f.inTransit}),Y.jsx("span",{className:"stat-label",children:"Em Transito"})]})]})]}),Y.jsxs("div",{className:"tabs-bar",children:[Y.jsxs("button",{className:"tab "+("inventory"===p?"active":""),onClick:()=>m("inventory"),children:[Y.jsx("span",{className:"material-icons",children:"inventory"}),"Estoque Full"]}),Y.jsxs("button",{className:"tab "+("shipments"===p?"active":""),onClick:()=>m("shipments"),children:[Y.jsx("span",{className:"material-icons",children:"local_shipping"}),"Envios Full"]}),Y.jsxs("button",{className:"tab "+("inbound"===p?"active":""),onClick:()=>m("inbound"),children:[Y.jsx("span",{className:"material-icons",children:"move_to_inbox"}),"Reposicao"]})]}),"inventory"===p&&Y.jsx("div",{className:"filters-bar",children:Y.jsxs("div",{className:"filter-group",children:[Y.jsx("label",{children:"Status do Estoque:"}),Y.jsxs("select",{value:y.status,onChange:e=>x({...y,status:e.target.value}),children:[Y.jsx("option",{value:"all",children:"Todos"}),Y.jsx("option",{value:"in_stock",children:"Em Estoque"}),Y.jsx("option",{value:"low_stock",children:"Estoque Baixo"}),Y.jsx("option",{value:"out_of_stock",children:"Sem Estoque"})]})]})}),d&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),d]}),Y.jsx("div",{className:"fulfillment-content",children:c?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando..."})]}):"inventory"===p?0===k.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"inventory"}),Y.jsx("h3",{children:"Nenhum item no Fulfillment"}),Y.jsx("p",{children:"Seus produtos enviados para o centro de distribuicao aparecerao aqui"})]}):Y.jsx("div",{className:"inventory-table",children:Y.jsxs("table",{children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"Produto"}),Y.jsx("th",{children:"SKU"}),Y.jsx("th",{children:"Disponivel"}),Y.jsx("th",{children:"Reservado"}),Y.jsx("th",{children:"Em Transito"}),Y.jsx("th",{children:"Status"}),Y.jsx("th",{children:"Deposito"}),Y.jsx("th",{children:"Acoes"})]})}),Y.jsx("tbody",{children:k.map(e=>{const t=((e,t=5)=>0===e?{class:"badge-danger",text:"Sem Estoque",icon:"error"}:e<=t?{class:"badge-warning",text:"Estoque Baixo",icon:"warning"}:{class:"badge-success",text:"Em Estoque",icon:"check_circle"})(e.available_quantity);return Y.jsxs("tr",{children:[Y.jsx("td",{children:Y.jsxs("div",{className:"product-cell",children:[Y.jsx("div",{className:"product-image",children:e.thumbnail?Y.jsx("img",{src:e.thumbnail,alt:e.title}):Y.jsx("span",{className:"material-icons",children:"image"})}),Y.jsxs("div",{className:"product-details",children:[Y.jsx("span",{className:"product-title",children:e.title}),Y.jsx("span",{className:"product-id",children:e.item_id})]})]})}),Y.jsx("td",{children:Y.jsx("span",{className:"sku",children:e.seller_sku||"-"})}),Y.jsx("td",{children:Y.jsx("span",{className:"quantity "+(0===e.available_quantity?"zero":""),children:e.available_quantity})}),Y.jsx("td",{children:Y.jsx("span",{className:"quantity reserved",children:e.reserved_quantity||0})}),Y.jsx("td",{children:Y.jsx("span",{className:"quantity transit",children:e.in_transit_quantity||0})}),Y.jsx("td",{children:Y.jsxs("span",{className:`badge ${t.class}`,children:[Y.jsx("span",{className:"material-icons",children:t.icon}),t.text]})}),Y.jsx("td",{children:Y.jsxs("span",{className:"warehouse",children:[Y.jsx("span",{className:"material-icons",children:"location_on"}),e.warehouse_id||"Principal"]})}),Y.jsx("td",{children:Y.jsxs("div",{className:"actions",children:[Y.jsx("button",{className:"btn btn-sm btn-secondary",title:"Repor estoque",children:Y.jsx("span",{className:"material-icons",children:"add_shopping_cart"})}),Y.jsx("button",{className:"btn btn-sm btn-outline",title:"Ver detalhes",children:Y.jsx("span",{className:"material-icons",children:"visibility"})})]})})]},e.id)})})]})}):"shipments"===p?0===o.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"local_shipping"}),Y.jsx("h3",{children:"Nenhum envio encontrado"}),Y.jsx("p",{children:"Seus envios Fulfillment aparecerao aqui"})]}):Y.jsx("div",{className:"shipments-table",children:Y.jsxs("table",{children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"ID Envio"}),Y.jsx("th",{children:"Pedido"}),Y.jsx("th",{children:"Destino"}),Y.jsx("th",{children:"Status"}),Y.jsx("th",{children:"Criado em"}),Y.jsx("th",{children:"Previsao"}),Y.jsx("th",{children:"Acoes"})]})}),Y.jsx("tbody",{children:o.map(e=>{const t={pending:{class:"badge-warning",text:"Pendente",icon:"schedule"},ready_to_ship:{class:"badge-info",text:"Pronto para Envio",icon:"inventory_2"},shipped:{class:"badge-primary",text:"Enviado",icon:"local_shipping"},delivered:{class:"badge-success",text:"Entregue",icon:"check_circle"},cancelled:{class:"badge-danger",text:"Cancelado",icon:"cancel"}}[n=e.status]||{class:"badge-secondary",text:n,icon:"help"};var n;return Y.jsxs("tr",{children:[Y.jsx("td",{children:Y.jsxs("span",{className:"shipment-id",children:["#",e.id]})}),Y.jsx("td",{children:Y.jsxs("span",{className:"order-id",children:["#",e.order_id]})}),Y.jsx("td",{children:Y.jsxs("div",{className:"destination",children:[Y.jsx("span",{className:"city",children:e.receiver_city||"N/A"}),Y.jsx("span",{className:"state",children:e.receiver_state||""})]})}),Y.jsx("td",{children:Y.jsxs("span",{className:`badge ${t.class}`,children:[Y.jsx("span",{className:"material-icons",children:t.icon}),t.text]})}),Y.jsx("td",{children:S(e.date_created)}),Y.jsx("td",{children:S(e.estimated_delivery_date)}),Y.jsx("td",{children:Y.jsxs("div",{className:"actions",children:[Y.jsx("button",{className:"btn btn-sm btn-secondary",title:"Rastrear",children:Y.jsx("span",{className:"material-icons",children:"location_searching"})}),Y.jsx("a",{href:`https://www.mercadolivre.com.br/envios/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline",children:Y.jsx("span",{className:"material-icons",children:"open_in_new"})})]})})]},e.id)})})]})}):Y.jsx("div",{className:"inbound-section",children:Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"move_to_inbox"}),Y.jsx("h3",{children:"Central de Reposicao"}),Y.jsx("p",{children:"Crie pedidos de reposicao para enviar mais produtos ao centro de distribuicao"}),Y.jsxs("button",{className:"btn btn-primary",children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Criar Pedido de Reposicao"]})]})})})]})}function jH(){const{token:e}=_f(),[t,n]=z.useState([]),[a,r]=z.useState(""),[s,i]=z.useState([]),[o,l]=z.useState(!1),[c,u]=z.useState(null),[d,h]=z.useState(""),[p,m]=z.useState("margin_desc"),[f,v]=z.useState(!1),[y,x]=z.useState({salePrice:0,productCost:0,shippingCost:0,mlFeePercent:16,mlFeeFixed:6,taxPercent:0,otherCosts:0}),[g,b]=z.useState(null),[j,N]=z.useState({totalItems:0,avgMargin:0,profitableItems:0,unprofitableItems:0,totalRevenue:0,totalProfit:0});z.useEffect(()=>{w()},[]),z.useEffect(()=>{a&&(S(),k())},[a]);const w=async()=>{var e;try{const t=await Ef.get("/ml-accounts"),a=(null==(e=t.data.data)?void 0:e.accounts)||t.data.accounts||[];n(a),a.length>0&&r(a[0].id)}catch(t){u("Erro ao carregar contas")}},S=async()=>{l(!0),u(null);try{const e=await Ef.get(`/items/${a}/profit-analysis`);i(e.data.items||[])}catch(e){try{const e=(await Ef.get(`/items/${a}`)).data.items||[];i(e.map(e=>({...e,cost:.4*e.price,mlFee:.16*e.price,shippingCost:15,profit:.3*e.price,margin:30})))}catch(CH){i([])}}finally{l(!1)}},k=async()=>{try{const e=await Ef.get(`/items/${a}/profit-stats`);N(e.data.stats||j)}catch(e){if(s.length>0){const e=s.filter(e=>e.margin>0).length,t=s.reduce((e,t)=>e+(t.margin||0),0)/s.length;N({totalItems:s.length,avgMargin:t.toFixed(1),profitableItems:e,unprofitableItems:s.length-e,totalRevenue:s.reduce((e,t)=>e+(t.price||0),0),totalProfit:s.reduce((e,t)=>e+(t.profit||0),0)})}}},O=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0),C=[...s].sort((e,t)=>{switch(p){case"margin_desc":return(t.margin||0)-(e.margin||0);case"margin_asc":return(e.margin||0)-(t.margin||0);case"profit_desc":return(t.profit||0)-(e.profit||0);case"profit_asc":return(e.profit||0)-(t.profit||0);case"price_desc":return(t.price||0)-(e.price||0);case"price_asc":return(e.price||0)-(t.price||0);default:return 0}}),P=C.filter(e=>{var t,n;return(null==(t=e.title)?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null==(n=e.id)?void 0:n.toLowerCase().includes(d.toLowerCase()))});return Y.jsxs("div",{className:"profit-calculator-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsxs("h1",{children:[Y.jsx("span",{className:"material-icons",children:"calculate"}),"Calculadora de Lucro"]}),Y.jsx("p",{children:"Analise a lucratividade de cada produto e otimize suas margens"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsx("select",{className:"account-select",value:a,onChange:e=>r(e.target.value),children:t.map(e=>Y.jsx("option",{value:e.id,children:e.nickname||e.mlUserId},e.id))}),Y.jsxs("button",{className:"btn btn-primary",onClick:()=>v(!0),children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Calcular Novo"]})]})]}),Y.jsxs("div",{className:"stats-grid",children:[Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon blue",children:Y.jsx("span",{className:"material-icons",children:"inventory_2"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:j.totalItems}),Y.jsx("span",{className:"stat-label",children:"Total de Itens"})]})]}),Y.jsxs("div",{className:"stat-card highlight",children:[Y.jsx("div",{className:"stat-icon green",children:Y.jsx("span",{className:"material-icons",children:"trending_up"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsxs("span",{className:"stat-value",children:[j.avgMargin,"%"]}),Y.jsx("span",{className:"stat-label",children:"Margem Media"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon success",children:Y.jsx("span",{className:"material-icons",children:"thumb_up"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:j.profitableItems}),Y.jsx("span",{className:"stat-label",children:"Lucrativos"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon danger",children:Y.jsx("span",{className:"material-icons",children:"thumb_down"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:j.unprofitableItems}),Y.jsx("span",{className:"stat-label",children:"Nao Lucrativos"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon purple",children:Y.jsx("span",{className:"material-icons",children:"payments"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:O(j.totalRevenue)}),Y.jsx("span",{className:"stat-label",children:"Faturamento Total"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon gold",children:Y.jsx("span",{className:"material-icons",children:"savings"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:O(j.totalProfit)}),Y.jsx("span",{className:"stat-label",children:"Lucro Total"})]})]})]}),Y.jsxs("div",{className:"filters-bar",children:[Y.jsxs("div",{className:"search-box",children:[Y.jsx("span",{className:"material-icons",children:"search"}),Y.jsx("input",{type:"text",placeholder:"Buscar produto...",value:d,onChange:e=>h(e.target.value)})]}),Y.jsxs("div",{className:"sort-box",children:[Y.jsx("label",{children:"Ordenar por:"}),Y.jsxs("select",{value:p,onChange:e=>m(e.target.value),children:[Y.jsx("option",{value:"margin_desc",children:"Maior Margem"}),Y.jsx("option",{value:"margin_asc",children:"Menor Margem"}),Y.jsx("option",{value:"profit_desc",children:"Maior Lucro"}),Y.jsx("option",{value:"profit_asc",children:"Menor Lucro"}),Y.jsx("option",{value:"price_desc",children:"Maior Preco"}),Y.jsx("option",{value:"price_asc",children:"Menor Preco"})]})]})]}),c&&Y.jsxs("div",{className:"alert alert-danger",children:[Y.jsx("span",{className:"material-icons",children:"error"}),c]}),Y.jsx("div",{className:"profit-content",children:o?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando analise de lucro..."})]}):0===P.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"calculate"}),Y.jsx("h3",{children:"Nenhum produto encontrado"}),Y.jsx("p",{children:"Configure os custos dos seus produtos para ver a analise de lucratividade"})]}):Y.jsx("div",{className:"items-table",children:Y.jsxs("table",{children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"Produto"}),Y.jsx("th",{children:"Preco Venda"}),Y.jsx("th",{children:"Custo"}),Y.jsx("th",{children:"Taxa ML"}),Y.jsx("th",{children:"Frete"}),Y.jsx("th",{children:"Lucro"}),Y.jsx("th",{children:"Margem"}),Y.jsx("th",{children:"Status"}),Y.jsx("th",{children:"Acoes"})]})}),Y.jsx("tbody",{children:P.map(e=>{var t;const n=(a=e.margin)>=30?{class:"badge-success",text:"Excelente"}:a>=15?{class:"badge-warning",text:"Moderada"}:a>=0?{class:"badge-danger",text:"Baixa"}:{class:"badge-danger",text:"Prejuizo"};var a;return Y.jsxs("tr",{children:[Y.jsx("td",{children:Y.jsxs("div",{className:"product-cell",children:[Y.jsx("div",{className:"product-image",children:e.thumbnail?Y.jsx("img",{src:e.thumbnail,alt:e.title}):Y.jsx("span",{className:"material-icons",children:"image"})}),Y.jsxs("div",{className:"product-details",children:[Y.jsx("span",{className:"product-title",children:e.title}),Y.jsx("span",{className:"product-id",children:e.id})]})]})}),Y.jsx("td",{children:Y.jsx("span",{className:"price",children:O(e.price)})}),Y.jsx("td",{children:Y.jsx("span",{className:"cost",children:O(e.cost)})}),Y.jsx("td",{children:Y.jsx("span",{className:"fee",children:O(e.mlFee)})}),Y.jsx("td",{children:Y.jsx("span",{className:"shipping",children:O(e.shippingCost)})}),Y.jsx("td",{children:Y.jsx("span",{className:"profit "+(e.profit<0?"negative":"positive"),children:O(e.profit)})}),Y.jsx("td",{children:Y.jsxs("div",{className:"margin-cell",children:[Y.jsx("div",{className:"margin-bar",children:Y.jsx("div",{className:"margin-fill "+(e.margin<0?"negative":e.margin<15?"low":e.margin<30?"medium":"high"),style:{width:`${Math.min(Math.abs(e.margin),100)}%`}})}),Y.jsxs("span",{className:"margin-value",children:[null==(t=e.margin)?void 0:t.toFixed(1),"%"]})]})}),Y.jsx("td",{children:Y.jsx("span",{className:`badge ${n.class}`,children:n.text})}),Y.jsx("td",{children:Y.jsx("div",{className:"actions",children:Y.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>{x({...y,salePrice:e.price,productCost:e.cost}),v(!0)},children:Y.jsx("span",{className:"material-icons",children:"edit"})})})})]},e.id)})})]})})}),f&&Y.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:Y.jsxs("div",{className:"modal calculator-modal",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsxs("h2",{children:[Y.jsx("span",{className:"material-icons",children:"calculate"}),"Calculadora de Lucro"]}),Y.jsx("button",{className:"close-btn",onClick:()=>v(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsx("div",{className:"modal-body",children:Y.jsxs("div",{className:"calculator-grid",children:[Y.jsxs("div",{className:"input-section",children:[Y.jsx("h3",{children:"Valores de Entrada"}),Y.jsxs("div",{className:"input-group",children:[Y.jsx("label",{children:"Preco de Venda (R$)"}),Y.jsx("input",{type:"number",value:y.salePrice,onChange:e=>x({...y,salePrice:parseFloat(e.target.value)||0})})]}),Y.jsxs("div",{className:"input-group",children:[Y.jsx("label",{children:"Custo do Produto (R$)"}),Y.jsx("input",{type:"number",value:y.productCost,onChange:e=>x({...y,productCost:parseFloat(e.target.value)||0})})]}),Y.jsxs("div",{className:"input-group",children:[Y.jsx("label",{children:"Custo de Frete (R$)"}),Y.jsx("input",{type:"number",value:y.shippingCost,onChange:e=>x({...y,shippingCost:parseFloat(e.target.value)||0})})]}),Y.jsxs("div",{className:"input-row",children:[Y.jsxs("div",{className:"input-group",children:[Y.jsx("label",{children:"Taxa ML (%)"}),Y.jsx("input",{type:"number",value:y.mlFeePercent,onChange:e=>x({...y,mlFeePercent:parseFloat(e.target.value)||0})})]}),Y.jsxs("div",{className:"input-group",children:[Y.jsx("label",{children:"Taxa Fixa (R$)"}),Y.jsx("input",{type:"number",value:y.mlFeeFixed,onChange:e=>x({...y,mlFeeFixed:parseFloat(e.target.value)||0})})]})]}),Y.jsxs("div",{className:"input-group",children:[Y.jsx("label",{children:"Impostos (%)"}),Y.jsx("input",{type:"number",value:y.taxPercent,onChange:e=>x({...y,taxPercent:parseFloat(e.target.value)||0})})]}),Y.jsxs("div",{className:"input-group",children:[Y.jsx("label",{children:"Outros Custos (R$)"}),Y.jsx("input",{type:"number",value:y.otherCosts,onChange:e=>x({...y,otherCosts:parseFloat(e.target.value)||0})})]}),Y.jsxs("button",{className:"btn btn-primary btn-block",onClick:()=>{const{salePrice:e,productCost:t,shippingCost:n,mlFeePercent:a,mlFeeFixed:r,taxPercent:s,otherCosts:i}=y,o=e*a/100+r,l=e*s/100,c=t+n+o+l+i,u=e-c;b({salePrice:e,productCost:t,shippingCost:n,mlFee:o,tax:l,otherCosts:i,totalCosts:c,profit:u,margin:e>0?u/e*100:0,markup:t>0?(e-t)/t*100:0})},children:[Y.jsx("span",{className:"material-icons",children:"calculate"}),"Calcular"]})]}),Y.jsxs("div",{className:"result-section",children:[Y.jsx("h3",{children:"Resultado"}),g?Y.jsxs("div",{className:"result-content",children:[Y.jsxs("div",{className:"result-summary",children:[Y.jsxs("div",{className:"profit-display "+(g.profit>=0?"positive":"negative"),children:[Y.jsx("span",{className:"label",children:"Lucro por Unidade"}),Y.jsx("span",{className:"value",children:O(g.profit)})]}),Y.jsxs("div",{className:"margin-display "+(g.margin>=0?"positive":"negative"),children:[Y.jsx("span",{className:"label",children:"Margem de Lucro"}),Y.jsxs("span",{className:"value",children:[g.margin.toFixed(2),"%"]})]})]}),Y.jsxs("div",{className:"breakdown",children:[Y.jsx("h4",{children:"Detalhamento"}),Y.jsxs("div",{className:"breakdown-item",children:[Y.jsx("span",{children:"Preco de Venda"}),Y.jsx("span",{className:"positive",children:O(g.salePrice)})]}),Y.jsxs("div",{className:"breakdown-item",children:[Y.jsx("span",{children:"(-) Custo do Produto"}),Y.jsx("span",{className:"negative",children:O(g.productCost)})]}),Y.jsxs("div",{className:"breakdown-item",children:[Y.jsx("span",{children:"(-) Taxa Mercado Livre"}),Y.jsx("span",{className:"negative",children:O(g.mlFee)})]}),Y.jsxs("div",{className:"breakdown-item",children:[Y.jsx("span",{children:"(-) Frete"}),Y.jsx("span",{className:"negative",children:O(g.shippingCost)})]}),Y.jsxs("div",{className:"breakdown-item",children:[Y.jsx("span",{children:"(-) Impostos"}),Y.jsx("span",{className:"negative",children:O(g.tax)})]}),Y.jsxs("div",{className:"breakdown-item",children:[Y.jsx("span",{children:"(-) Outros Custos"}),Y.jsx("span",{className:"negative",children:O(g.otherCosts)})]}),Y.jsxs("div",{className:"breakdown-total",children:[Y.jsx("span",{children:"= Lucro Liquido"}),Y.jsx("span",{className:g.profit>=0?"positive":"negative",children:O(g.profit)})]})]}),Y.jsxs("div",{className:"metrics",children:[Y.jsxs("div",{className:"metric",children:[Y.jsx("span",{className:"metric-label",children:"Markup"}),Y.jsxs("span",{className:"metric-value",children:[g.markup.toFixed(2),"%"]})]}),Y.jsxs("div",{className:"metric",children:[Y.jsx("span",{className:"metric-label",children:"Custo Total"}),Y.jsx("span",{className:"metric-value",children:O(g.totalCosts)})]})]})]}):Y.jsxs("div",{className:"no-result",children:[Y.jsx("span",{className:"material-icons",children:"info"}),Y.jsx("p",{children:"Preencha os valores e clique em calcular"})]})]})]})})]})})]})}function NH(){const[e,t]=z.useState(""),[n,a]=z.useState([]),[r,s]=z.useState([]),[i,o]=z.useState(!0),[l,c]=z.useState(!1),[u,d]=z.useState(null),[h,p]=z.useState([]),[m,f]=z.useState(""),[v,y]=z.useState({totalRules:0,activeRules:0,itemsAffected:0,lastExecution:null}),[x,g]=z.useState({name:"",type:"competitor_match",items:[],conditions:{minPrice:"",maxPrice:"",minMargin:"",competitorDiff:""},action:{type:"match_lowest",value:"",adjustment:"percentage"},schedule:{frequency:"hourly",active:!0}});z.useEffect(()=>{b()},[]),z.useEffect(()=>{e&&(j(),N())},[e]);const b=async()=>{var e;try{const n=await Ef.get("/ml-accounts");if(n.data.success){const r=(null==(e=n.data.data)?void 0:e.accounts)||[];a(r),r.length>0&&t(r[0].id||r[0].accountId)}}catch(n){console.error("Error fetching accounts:",n)}},j=async()=>{try{o(!0);const e=[{id:1,name:"Match Concorrente - Eletronicos",type:"competitor_match",itemsCount:45,conditions:{minMargin:10,competitorDiff:5},action:{type:"match_lowest",adjustment:"percentage",value:2},schedule:{frequency:"hourly",active:!0},lastRun:"2024-01-15T10:30:00",status:"active"},{id:2,name:"Margem Minima - Acessorios",type:"margin_protection",itemsCount:120,conditions:{minMargin:15},action:{type:"set_min_margin",value:15},schedule:{frequency:"daily",active:!0},lastRun:"2024-01-15T08:00:00",status:"active"},{id:3,name:"Promocao Temporaria",type:"time_based",itemsCount:30,conditions:{minPrice:50,maxPrice:500},action:{type:"discount",adjustment:"percentage",value:10},schedule:{frequency:"once",active:!1},lastRun:"2024-01-14T18:00:00",status:"paused"}];s(e),y({totalRules:e.length,activeRules:e.filter(e=>"active"===e.status).length,itemsAffected:e.reduce((e,t)=>e+t.itemsCount,0),lastExecution:"2024-01-15T10:30:00"})}catch(e){console.error("Error fetching rules:",e)}finally{o(!1)}},N=async()=>{try{const t=await Ef.get(`/items/${e}/list?limit=100`);t.data.success&&p(t.data.data||[])}catch(t){console.error("Error fetching items:",t)}},w=()=>{d(null),g({name:"",type:"competitor_match",items:[],conditions:{minPrice:"",maxPrice:"",minMargin:"",competitorDiff:""},action:{type:"match_lowest",value:"",adjustment:"percentage"},schedule:{frequency:"hourly",active:!0}}),c(!0)},S=e=>e?new Date(e).toLocaleString("pt-BR"):"Nunca executada",k=h.filter(e=>{var t,n;return(null==(t=e.title)?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null==(n=e.id)?void 0:n.includes(m))});return Y.jsxs("div",{className:"price-automation-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsx("h1",{children:"Automacao de Precos"}),Y.jsx("p",{children:"Crie regras automaticas para ajustar precos baseado em concorrentes, margem e outros criterios"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsxs("select",{className:"account-select",value:e,onChange:e=>t(e.target.value),children:[Y.jsx("option",{value:"",children:"Selecione uma conta"}),n.map(e=>Y.jsx("option",{value:e.id||e.accountId,children:e.nickname||e.id||e.accountId},e.id||e.accountId))]}),Y.jsxs("button",{className:"btn btn-primary",onClick:w,disabled:!e,children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Nova Regra"]})]})]}),e?Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"stats-grid",children:[Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon blue",children:Y.jsx("span",{className:"material-icons",children:"rule"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:v.totalRules}),Y.jsx("span",{className:"stat-label",children:"Total de Regras"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon green",children:Y.jsx("span",{className:"material-icons",children:"play_circle"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:v.activeRules}),Y.jsx("span",{className:"stat-label",children:"Regras Ativas"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon purple",children:Y.jsx("span",{className:"material-icons",children:"inventory_2"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:v.itemsAffected}),Y.jsx("span",{className:"stat-label",children:"Produtos Afetados"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon orange",children:Y.jsx("span",{className:"material-icons",children:"schedule"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:v.lastExecution?S(v.lastExecution):"N/A"}),Y.jsx("span",{className:"stat-label",children:"Ultima Execucao"})]})]})]}),Y.jsxs("div",{className:"section",children:[Y.jsx("div",{className:"section-header",children:Y.jsx("h2",{children:"Regras de Precificacao"})}),i?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando regras..."})]}):0===r.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"price_change"}),Y.jsx("h3",{children:"Nenhuma regra criada"}),Y.jsx("p",{children:"Crie sua primeira regra de automacao de precos"}),Y.jsxs("button",{className:"btn btn-primary",onClick:w,children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Criar Regra"]})]}):Y.jsx("div",{className:"rules-list",children:r.map(e=>{var t,n,a,r,i,o,l,u;return Y.jsxs("div",{className:`rule-card ${e.status}`,children:[Y.jsxs("div",{className:"rule-header",children:[Y.jsxs("div",{className:"rule-info",children:[Y.jsx("h3",{children:e.name}),Y.jsx("span",{className:`rule-type ${e.type}`,children:(u=e.type,{competitor_match:"Match Concorrente",margin_protection:"Protecao de Margem",time_based:"Baseado em Tempo",stock_based:"Baseado em Estoque",sales_based:"Baseado em Vendas"}[u]||u)})]}),Y.jsx("div",{className:"rule-status",children:Y.jsx("span",{className:`status-badge ${e.status}`,children:"active"===e.status?"Ativa":"Pausada"})})]}),Y.jsxs("div",{className:"rule-details",children:[Y.jsxs("div",{className:"detail-item",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),Y.jsxs("span",{children:[e.itemsCount," produtos"]})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("span",{className:"material-icons",children:"tune"}),Y.jsx("span",{children:(l=e.action,{match_lowest:"Igualar menor preco",set_min_margin:"Definir margem minima",discount:"Aplicar desconto",increase:"Aumentar preco",fixed_price:"Preco fixo"}[null==l?void 0:l.type]||(null==l?void 0:l.type))})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("span",{className:"material-icons",children:"schedule"}),Y.jsx("span",{children:"hourly"===(null==(t=e.schedule)?void 0:t.frequency)?"A cada hora":"daily"===(null==(n=e.schedule)?void 0:n.frequency)?"Diariamente":"Uma vez"})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("span",{className:"material-icons",children:"history"}),Y.jsx("span",{children:S(e.lastRun)})]})]}),Y.jsxs("div",{className:"rule-conditions",children:[(null==(a=e.conditions)?void 0:a.minMargin)&&Y.jsxs("span",{className:"condition-tag",children:["Margem min: ",e.conditions.minMargin,"%"]}),(null==(r=e.conditions)?void 0:r.competitorDiff)&&Y.jsxs("span",{className:"condition-tag",children:["Diff concorrente: ",e.conditions.competitorDiff,"%"]}),(null==(i=e.conditions)?void 0:i.minPrice)&&Y.jsxs("span",{className:"condition-tag",children:["Preco min: R$ ",e.conditions.minPrice]}),(null==(o=e.conditions)?void 0:o.maxPrice)&&Y.jsxs("span",{className:"condition-tag",children:["Preco max: R$ ",e.conditions.maxPrice]})]}),Y.jsxs("div",{className:"rule-actions",children:[Y.jsx("button",{className:"btn btn-icon",onClick:()=>(async e=>{try{s(t=>t.map(t=>t.id===e?{...t,lastRun:(new Date).toISOString()}:t)),alert("Regra executada com sucesso!")}catch(t){console.error("Error running rule:",t)}})(e.id),title:"Executar agora",children:Y.jsx("span",{className:"material-icons",children:"play_arrow"})}),Y.jsx("button",{className:"btn btn-icon",onClick:()=>{return t=e.id,void s(e=>e.map(e=>e.id===t?{...e,status:"active"===e.status?"paused":"active"}:e));var t},title:"active"===e.status?"Pausar":"Ativar",children:Y.jsx("span",{className:"material-icons",children:"active"===e.status?"pause":"play_circle"})}),Y.jsx("button",{className:"btn btn-icon",onClick:()=>(e=>{d(e),g({name:e.name,type:e.type,items:e.items||[],conditions:e.conditions||{},action:e.action||{},schedule:e.schedule||{}}),c(!0)})(e),title:"Editar",children:Y.jsx("span",{className:"material-icons",children:"edit"})}),Y.jsx("button",{className:"btn btn-icon danger",onClick:()=>{return t=e.id,void(window.confirm("Tem certeza que deseja excluir esta regra?")&&s(e=>e.filter(e=>e.id!==t)));var t},title:"Excluir",children:Y.jsx("span",{className:"material-icons",children:"delete"})})]})]},e.id)})})]})]}):Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"price_change"}),Y.jsx("h3",{children:"Selecione uma conta"}),Y.jsx("p",{children:"Selecione uma conta do Mercado Livre para gerenciar as regras de automacao de precos"})]}),l&&Y.jsx("div",{className:"modal-overlay",onClick:()=>c(!1),children:Y.jsxs("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsx("h2",{children:u?"Editar Regra":"Nova Regra de Precificacao"}),Y.jsx("button",{className:"btn btn-icon",onClick:()=>c(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Informacoes Basicas"}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Nome da Regra"}),Y.jsx("input",{type:"text",value:x.name,onChange:e=>g(t=>({...t,name:e.target.value})),placeholder:"Ex: Match concorrente - Eletronicos"})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Tipo de Regra"}),Y.jsxs("select",{value:x.type,onChange:e=>g(t=>({...t,type:e.target.value})),children:[Y.jsx("option",{value:"competitor_match",children:"Match Concorrente"}),Y.jsx("option",{value:"margin_protection",children:"Protecao de Margem"}),Y.jsx("option",{value:"time_based",children:"Baseado em Tempo"}),Y.jsx("option",{value:"stock_based",children:"Baseado em Estoque"}),Y.jsx("option",{value:"sales_based",children:"Baseado em Vendas"})]})]})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Condicoes"}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Preco Minimo (R$)"}),Y.jsx("input",{type:"number",value:x.conditions.minPrice,onChange:e=>g(t=>({...t,conditions:{...t.conditions,minPrice:e.target.value}})),placeholder:"0.00"})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Preco Maximo (R$)"}),Y.jsx("input",{type:"number",value:x.conditions.maxPrice,onChange:e=>g(t=>({...t,conditions:{...t.conditions,maxPrice:e.target.value}})),placeholder:"0.00"})]})]}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Margem Minima (%)"}),Y.jsx("input",{type:"number",value:x.conditions.minMargin,onChange:e=>g(t=>({...t,conditions:{...t.conditions,minMargin:e.target.value}})),placeholder:"10"})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Diferenca Concorrente (%)"}),Y.jsx("input",{type:"number",value:x.conditions.competitorDiff,onChange:e=>g(t=>({...t,conditions:{...t.conditions,competitorDiff:e.target.value}})),placeholder:"5"})]})]})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Acao"}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Tipo de Acao"}),Y.jsxs("select",{value:x.action.type,onChange:e=>g(t=>({...t,action:{...t.action,type:e.target.value}})),children:[Y.jsx("option",{value:"match_lowest",children:"Igualar menor preco"}),Y.jsx("option",{value:"set_min_margin",children:"Definir margem minima"}),Y.jsx("option",{value:"discount",children:"Aplicar desconto"}),Y.jsx("option",{value:"increase",children:"Aumentar preco"}),Y.jsx("option",{value:"fixed_price",children:"Preco fixo"})]})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Valor"}),Y.jsxs("div",{className:"input-with-select",children:[Y.jsx("input",{type:"number",value:x.action.value,onChange:e=>g(t=>({...t,action:{...t.action,value:e.target.value}})),placeholder:"0"}),Y.jsxs("select",{value:x.action.adjustment,onChange:e=>g(t=>({...t,action:{...t.action,adjustment:e.target.value}})),children:[Y.jsx("option",{value:"percentage",children:"%"}),Y.jsx("option",{value:"fixed",children:"R$"})]})]})]})]})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Agendamento"}),Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Frequencia"}),Y.jsxs("select",{value:x.schedule.frequency,onChange:e=>g(t=>({...t,schedule:{...t.schedule,frequency:e.target.value}})),children:[Y.jsx("option",{value:"hourly",children:"A cada hora"}),Y.jsx("option",{value:"daily",children:"Diariamente"}),Y.jsx("option",{value:"weekly",children:"Semanalmente"}),Y.jsx("option",{value:"once",children:"Executar uma vez"})]})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Status"}),Y.jsxs("div",{className:"toggle-switch",children:[Y.jsx("input",{type:"checkbox",id:"rule-active",checked:x.schedule.active,onChange:e=>g(t=>({...t,schedule:{...t.schedule,active:e.target.checked}}))}),Y.jsx("label",{htmlFor:"rule-active",children:x.schedule.active?"Ativa":"Pausada"})]})]})]})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Produtos"}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Buscar produtos"}),Y.jsx("input",{type:"text",value:m,onChange:e=>f(e.target.value),placeholder:"Buscar por titulo ou ID..."})]}),Y.jsx("div",{className:"items-selection",children:k.slice(0,10).map(e=>{var t;return Y.jsxs("div",{className:"item-checkbox",children:[Y.jsx("input",{type:"checkbox",id:`item-${e.id}`,checked:x.items.includes(e.id),onChange:t=>{t.target.checked?g(t=>({...t,items:[...t.items,e.id]})):g(t=>({...t,items:t.items.filter(t=>t!==e.id)}))}}),Y.jsxs("label",{htmlFor:`item-${e.id}`,children:[e.thumbnail&&Y.jsx("img",{src:e.thumbnail,alt:"",className:"item-thumb"}),Y.jsxs("div",{className:"item-info",children:[Y.jsxs("span",{className:"item-title",children:[null==(t=e.title)?void 0:t.substring(0,60),"..."]}),Y.jsx("span",{className:"item-id",children:e.id})]})]})]},e.id)})}),Y.jsxs("p",{className:"items-selected",children:[x.items.length," produtos selecionados"]})]})]}),Y.jsxs("div",{className:"modal-footer",children:[Y.jsx("button",{className:"btn btn-secondary",onClick:()=>c(!1),children:"Cancelar"}),Y.jsxs("button",{className:"btn btn-primary",onClick:async()=>{try{if(u)s(e=>e.map(e=>e.id===u.id?{...e,...x}:e));else{const e={id:Date.now(),...x,itemsCount:x.items.length,status:"active",lastRun:null};s(t=>[...t,e])}c(!1)}catch(e){console.error("Error saving rule:",e)}},children:[Y.jsx("span",{className:"material-icons",children:"save"}),u?"Salvar Alteracoes":"Criar Regra"]})]})]})})]})}function wH(){const[e,t]=z.useState(""),[n,a]=z.useState([]),[r,s]=z.useState("overview"),[i,o]=z.useState(!0),[l,c]=z.useState([]),[u,d]=z.useState([]),[h,p]=z.useState([]),[m,f]=z.useState(!1),[v,y]=z.useState([]),[x,g]=z.useState(""),[b,j]=z.useState({totalGlobalItems:0,activeCountries:0,pendingShipments:0,totalRevenue:0}),[N,w]=z.useState({items:[],targetCountries:[],pricingStrategy:"net_proceeds",markup:0}),S=[{code:"MLA",name:"Argentina",currency:"ARS",flag:""},{code:"MLM",name:"Mexico",currency:"MXN",flag:""},{code:"MLC",name:"Chile",currency:"CLP",flag:""},{code:"MCO",name:"Colombia",currency:"COP",flag:""},{code:"MLU",name:"Uruguai",currency:"UYU",flag:""},{code:"MPE",name:"Peru",currency:"PEN",flag:""},{code:"MEC",name:"Equador",currency:"USD",flag:""}];z.useEffect(()=>{k()},[]),z.useEffect(()=>{e&&(O(),C())},[e]);const k=async()=>{var e;try{const n=await Ef.get("/ml-accounts");if(n.data.success){const r=(null==(e=n.data.data)?void 0:e.accounts)||[];a(r),r.length>0&&t(r[0].id||r[0].accountId)}}catch(n){console.error("Error fetching accounts:",n)}},O=async()=>{try{o(!0);const e=[{id:"MLB123456789",title:"Smartphone Samsung Galaxy S21 128GB",thumbnail:"https://http2.mlstatic.com/D_NQ_NP_2X_600000-MLB123456789-012024-F.webp",status:"active",localPrice:2499,publishedCountries:[{code:"MLA",price:45e4,status:"active",sales:12},{code:"MLM",price:12500,status:"active",sales:8},{code:"MLC",price:85e4,status:"paused",sales:3}]},{id:"MLB987654321",title:"Fone de Ouvido Bluetooth JBL Tune 510BT",thumbnail:"https://http2.mlstatic.com/D_NQ_NP_2X_600000-MLB987654321-012024-F.webp",status:"active",localPrice:249,publishedCountries:[{code:"MLA",price:35e3,status:"active",sales:45},{code:"MCO",price:18e4,status:"active",sales:22}]}];c(e),j({totalGlobalItems:e.length,activeCountries:4,pendingShipments:7,totalRevenue:45890.5})}catch(e){console.error("Error fetching global data:",e)}finally{o(!1)}},C=async()=>{try{const t=await Ef.get(`/items/${e}/list?limit=50`);t.data.success&&y(t.data.data||[])}catch(t){console.error("Error fetching local items:",t),y([])}},P=(e,t="BRL")=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:t}).format(e),E=v.filter(e=>{var t,n;return(null==(t=e.title)?void 0:t.toLowerCase().includes(x.toLowerCase()))||(null==(n=e.id)?void 0:n.includes(x))});return Y.jsxs("div",{className:"global-selling-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsx("h1",{children:"Global Selling"}),Y.jsx("p",{children:"Venda seus produtos em outros paises da America Latina com Cross-Border Trade"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsxs("select",{className:"account-select",value:e,onChange:e=>t(e.target.value),children:[Y.jsx("option",{value:"",children:"Selecione uma conta"}),n.map(e=>Y.jsx("option",{value:e.id||e.accountId,children:e.nickname||e.id||e.accountId},e.id||e.accountId))]}),Y.jsxs("button",{className:"btn btn-primary",onClick:()=>f(!0),disabled:!e,children:[Y.jsx("span",{className:"material-icons",children:"add"}),"Publicar Globalmente"]})]})]}),e?Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"stats-grid",children:[Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon blue",children:Y.jsx("span",{className:"material-icons",children:"inventory_2"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:b.totalGlobalItems}),Y.jsx("span",{className:"stat-label",children:"Produtos Globais"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon green",children:Y.jsx("span",{className:"material-icons",children:"flag"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:b.activeCountries}),Y.jsx("span",{className:"stat-label",children:"Paises Ativos"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon orange",children:Y.jsx("span",{className:"material-icons",children:"local_shipping"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:b.pendingShipments}),Y.jsx("span",{className:"stat-label",children:"Envios Pendentes"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon purple",children:Y.jsx("span",{className:"material-icons",children:"payments"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:P(b.totalRevenue)}),Y.jsx("span",{className:"stat-label",children:"Receita Global"})]})]})]}),Y.jsxs("div",{className:"tabs",children:[Y.jsxs("button",{className:"tab "+("overview"===r?"active":""),onClick:()=>s("overview"),children:[Y.jsx("span",{className:"material-icons",children:"grid_view"}),"Visao Geral"]}),Y.jsxs("button",{className:"tab "+("items"===r?"active":""),onClick:()=>s("items"),children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),"Produtos"]}),Y.jsxs("button",{className:"tab "+("shipments"===r?"active":""),onClick:()=>s("shipments"),children:[Y.jsx("span",{className:"material-icons",children:"local_shipping"}),"Envios"]}),Y.jsxs("button",{className:"tab "+("countries"===r?"active":""),onClick:()=>s("countries"),children:[Y.jsx("span",{className:"material-icons",children:"public"}),"Paises"]})]}),i?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando dados globais..."})]}):Y.jsxs(Y.Fragment,{children:["overview"===r&&Y.jsxs("div",{className:"section",children:[Y.jsx("div",{className:"section-header",children:Y.jsx("h2",{children:"Produtos Publicados Globalmente"})}),0===l.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"public"}),Y.jsx("h3",{children:"Nenhum produto global"}),Y.jsx("p",{children:"Comece a vender internacionalmente publicando seus produtos em outros paises"}),Y.jsx("button",{className:"btn btn-primary",onClick:()=>f(!0),children:"Publicar Primeiro Produto"})]}):Y.jsx("div",{className:"global-items-list",children:l.map(e=>Y.jsxs("div",{className:"global-item-card",children:[Y.jsxs("div",{className:"item-main",children:[Y.jsx("img",{src:e.thumbnail||"/placeholder.png",alt:e.title,className:"item-image"}),Y.jsxs("div",{className:"item-info",children:[Y.jsx("h3",{children:e.title}),Y.jsx("p",{className:"item-id",children:e.id}),Y.jsxs("p",{className:"item-local-price",children:["Preco local: ",P(e.localPrice)]})]})]}),Y.jsxs("div",{className:"countries-published",children:[Y.jsx("h4",{children:"Paises Publicados"}),Y.jsx("div",{className:"countries-grid",children:e.publishedCountries.map(t=>{const n=(a=t.code,S.find(e=>e.code===a)||{name:a,flag:"",currency:"USD"});var a;return Y.jsxs("div",{className:`country-card ${t.status}`,children:[Y.jsxs("div",{className:"country-header",children:[Y.jsx("span",{className:"country-flag",children:n.flag}),Y.jsx("span",{className:"country-name",children:n.name}),Y.jsx("span",{className:`status-dot ${t.status}`})]}),Y.jsxs("div",{className:"country-details",children:[Y.jsxs("div",{className:"detail",children:[Y.jsx("span",{className:"label",children:"Preco"}),Y.jsx("span",{className:"value",children:P(t.price,n.currency)})]}),Y.jsxs("div",{className:"detail",children:[Y.jsx("span",{className:"label",children:"Vendas"}),Y.jsx("span",{className:"value",children:t.sales})]})]}),Y.jsxs("div",{className:"country-actions",children:[Y.jsx("button",{className:"btn btn-sm",onClick:()=>{return n=e.id,a=t.code,void c(e=>e.map(e=>e.id===n?{...e,publishedCountries:e.publishedCountries.map(e=>e.code===a?{...e,status:"active"===e.status?"paused":"active"}:e)}:e));var n,a},children:"active"===t.status?"Pausar":"Ativar"}),Y.jsx("button",{className:"btn btn-sm danger",onClick:()=>{return n=e.id,a=t.code,void(window.confirm(`Remover publicacao em ${a}?`)&&c(e=>e.map(e=>e.id===n?{...e,publishedCountries:e.publishedCountries.filter(e=>e.code!==a)}:e)));var n,a},children:"Remover"})]})]},t.code)})})]})]},e.id))})]}),"countries"===r&&Y.jsxs("div",{className:"section",children:[Y.jsx("div",{className:"section-header",children:Y.jsx("h2",{children:"Paises Disponiveis"})}),Y.jsx("div",{className:"countries-available",children:S.map(e=>Y.jsxs("div",{className:"available-country-card",children:[Y.jsxs("div",{className:"country-info",children:[Y.jsx("span",{className:"country-flag large",children:e.flag}),Y.jsxs("div",{children:[Y.jsx("h3",{children:e.name}),Y.jsxs("p",{children:["Mercado Livre ",e.code]})]})]}),Y.jsxs("div",{className:"country-stats",children:[Y.jsxs("div",{className:"stat",children:[Y.jsx("span",{className:"label",children:"Moeda"}),Y.jsx("span",{className:"value",children:e.currency})]}),Y.jsxs("div",{className:"stat",children:[Y.jsx("span",{className:"label",children:"Produtos"}),Y.jsx("span",{className:"value",children:l.reduce((t,n)=>t+(n.publishedCountries.some(t=>t.code===e.code)?1:0),0)})]})]}),Y.jsxs("button",{className:"btn btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"visibility"}),"Ver Detalhes"]})]},e.code))})]}),"shipments"===r&&Y.jsxs("div",{className:"section",children:[Y.jsx("div",{className:"section-header",children:Y.jsx("h2",{children:"Envios Internacionais"})}),Y.jsxs("div",{className:"info-banner",children:[Y.jsx("span",{className:"material-icons",children:"info"}),Y.jsxs("div",{children:[Y.jsx("strong",{children:"Net Proceeds Obrigatorio"}),Y.jsx("p",{children:"A partir de 26/01/2026, todos os envios CBT devem usar precificacao Net Proceeds para garantir transparencia nos custos."})]})]}),Y.jsx("div",{className:"shipments-list",children:Y.jsxs("div",{className:"shipment-card",children:[Y.jsxs("div",{className:"shipment-header",children:[Y.jsx("span",{className:"shipment-id",children:"#CBT-2024-001234"}),Y.jsx("span",{className:"status-badge pending",children:"Aguardando Envio"})]}),Y.jsxs("div",{className:"shipment-details",children:[Y.jsxs("div",{className:"detail",children:[Y.jsx("span",{className:"material-icons",children:"flag"}),Y.jsx("span",{children:"Argentina (MLA)"})]}),Y.jsxs("div",{className:"detail",children:[Y.jsx("span",{className:"material-icons",children:"inventory_2"}),Y.jsx("span",{children:"2 produtos"})]}),Y.jsxs("div",{className:"detail",children:[Y.jsx("span",{className:"material-icons",children:"schedule"}),Y.jsx("span",{children:"Prazo: 15/01/2024"})]})]}),Y.jsxs("div",{className:"shipment-actions",children:[Y.jsxs("button",{className:"btn btn-primary",children:[Y.jsx("span",{className:"material-icons",children:"print"}),"Imprimir Etiqueta"]}),Y.jsxs("button",{className:"btn btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"track_changes"}),"Rastrear"]})]})]})})]})]})]}):Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"public"}),Y.jsx("h3",{children:"Selecione uma conta"}),Y.jsx("p",{children:"Selecione uma conta do Mercado Livre para gerenciar vendas internacionais"})]}),m&&Y.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:Y.jsxs("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsx("h2",{children:"Publicar Globalmente"}),Y.jsx("button",{className:"btn btn-icon",onClick:()=>f(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Selecionar Produtos"}),Y.jsx("div",{className:"form-group",children:Y.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:x,onChange:e=>g(e.target.value)})}),Y.jsx("div",{className:"items-selection",children:E.slice(0,10).map(e=>{var t;return Y.jsxs("div",{className:"item-checkbox",children:[Y.jsx("input",{type:"checkbox",id:`publish-${e.id}`,checked:N.items.includes(e.id),onChange:t=>{t.target.checked?w(t=>({...t,items:[...t.items,e.id]})):w(t=>({...t,items:t.items.filter(t=>t!==e.id)}))}}),Y.jsxs("label",{htmlFor:`publish-${e.id}`,children:[e.thumbnail&&Y.jsx("img",{src:e.thumbnail,alt:"",className:"item-thumb"}),Y.jsxs("div",{className:"item-details",children:[Y.jsxs("span",{className:"item-title",children:[null==(t=e.title)?void 0:t.substring(0,50),"..."]}),Y.jsx("span",{className:"item-price",children:P(e.price)})]})]})]},e.id)})}),Y.jsxs("p",{className:"selected-count",children:[N.items.length," produtos selecionados"]})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Paises de Destino"}),Y.jsx("div",{className:"countries-selection",children:S.map(e=>Y.jsxs("div",{className:"country-checkbox",children:[Y.jsx("input",{type:"checkbox",id:`country-${e.code}`,checked:N.targetCountries.includes(e.code),onChange:t=>{t.target.checked?w(t=>({...t,targetCountries:[...t.targetCountries,e.code]})):w(t=>({...t,targetCountries:t.targetCountries.filter(t=>t!==e.code)}))}}),Y.jsxs("label",{htmlFor:`country-${e.code}`,children:[Y.jsx("span",{className:"flag",children:e.flag}),Y.jsx("span",{className:"name",children:e.name}),Y.jsxs("span",{className:"currency",children:["(",e.currency,")"]})]})]},e.code))})]}),Y.jsxs("div",{className:"form-section",children:[Y.jsx("h3",{children:"Estrategia de Precificacao"}),Y.jsxs("div",{className:"pricing-options",children:[Y.jsxs("div",{className:"pricing-option",children:[Y.jsx("input",{type:"radio",id:"net_proceeds",name:"pricing",value:"net_proceeds",checked:"net_proceeds"===N.pricingStrategy,onChange:e=>w(t=>({...t,pricingStrategy:e.target.value}))}),Y.jsxs("label",{htmlFor:"net_proceeds",children:[Y.jsx("strong",{children:"Net Proceeds (Recomendado)"}),Y.jsx("p",{children:"Voce define quanto quer receber e o ML calcula o preco final automaticamente"})]})]}),Y.jsxs("div",{className:"pricing-option",children:[Y.jsx("input",{type:"radio",id:"fixed_markup",name:"pricing",value:"fixed_markup",checked:"fixed_markup"===N.pricingStrategy,onChange:e=>w(t=>({...t,pricingStrategy:e.target.value}))}),Y.jsxs("label",{htmlFor:"fixed_markup",children:[Y.jsx("strong",{children:"Markup Fixo"}),Y.jsx("p",{children:"Aplica um percentual de markup sobre o preco local"})]})]})]}),"fixed_markup"===N.pricingStrategy&&Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Percentual de Markup (%)"}),Y.jsx("input",{type:"number",value:N.markup,onChange:e=>w(t=>({...t,markup:e.target.value})),placeholder:"20"})]})]})]}),Y.jsxs("div",{className:"modal-footer",children:[Y.jsx("button",{className:"btn btn-secondary",onClick:()=>f(!1),children:"Cancelar"}),Y.jsxs("button",{className:"btn btn-primary",onClick:async()=>{try{console.log("Publishing items globally:",N),alert("Produtos publicados com sucesso nos paises selecionados!"),f(!1),O()}catch(e){console.error("Error publishing globally:",e)}},disabled:0===N.items.length||0===N.targetCountries.length,children:[Y.jsx("span",{className:"material-icons",children:"public"}),"Publicar em ",N.targetCountries.length," Pais(es)"]})]})]})})]})}function SH(){const[e,t]=z.useState(""),[n,a]=z.useState([]),[r,s]=z.useState("overview"),[i,o]=z.useState(!0),[l,c]=z.useState({start:"",end:""}),[u,d]=z.useState("releases"),[h,p]=z.useState([]),[m,f]=z.useState({totalReceived:0,totalFees:0,netProfit:0,pendingBalance:0,refunds:0,chargebacks:0}),[v,y]=z.useState([]),[x,g]=z.useState([]),b=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ef4444","#06b6d4"];z.useEffect(()=>{const e=new Date,t=new Date;t.setDate(t.getDate()-30),c({start:t.toISOString().split("T")[0],end:e.toISOString().split("T")[0]}),j()},[]);const j=async()=>{var e;try{const n=await Ef.get("/ml-accounts");if(n.data.success){const r=(null==(e=n.data.data)?void 0:e.accounts)||[];a(r),r.length>0&&t(r[0].id||r[0].accountId)}}catch(n){console.error("Error fetching accounts:",n)}};z.useEffect(()=>{e&&l.start&&l.end&&N()},[e,l]);const N=async()=>{try{o(!0);const e=[{date:"01/01",received:4500,fees:540,net:3960},{date:"05/01",received:5200,fees:624,net:4576},{date:"10/01",received:3800,fees:456,net:3344},{date:"15/01",received:6100,fees:732,net:5368},{date:"20/01",received:4900,fees:588,net:4312},{date:"25/01",received:7200,fees:864,net:6336},{date:"30/01",received:5500,fees:660,net:4840}],t=[{name:"Taxa ML",value:8540,percentage:53.8},{name:"Taxa MP",value:3200,percentage:20.2},{name:"Frete",value:2890,percentage:18.2},{name:"Impostos",value:1240,percentage:7.8}],n=[{id:"RPT-2024-001",type:"release",period:"01/01/2024 - 15/01/2024",generatedAt:"2024-01-16T10:00:00",status:"ready",totalAmount:45890.5,downloadUrl:"#"},{id:"RPT-2024-002",type:"settlement",period:"16/01/2024 - 31/01/2024",generatedAt:"2024-02-01T08:00:00",status:"ready",totalAmount:52340,downloadUrl:"#"},{id:"RPT-2024-003",type:"release",period:"01/02/2024 - 15/02/2024",generatedAt:null,status:"pending",totalAmount:null,downloadUrl:null}];f({totalReceived:125890.5,totalFees:15870.2,netProfit:110020.3,pendingBalance:8450,refunds:2340,chargebacks:890}),y(e),g(t),p(n)}catch(e){console.error("Error fetching financial data:",e)}finally{o(!1)}},w=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0);return Y.jsxs("div",{className:"financial-reports-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsx("h1",{children:"Relatorios Financeiros"}),Y.jsx("p",{children:"Relatorios detalhados do Mercado Pago: liberacoes, liquidacoes, taxas e conciliacoes"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsxs("select",{className:"account-select",value:e,onChange:e=>t(e.target.value),children:[Y.jsx("option",{value:"",children:"Selecione uma conta"}),n.map(e=>Y.jsx("option",{value:e.id||e.accountId,children:e.nickname||e.id||e.accountId},e.id||e.accountId))]}),Y.jsxs("div",{className:"date-range",children:[Y.jsx("input",{type:"date",value:l.start,onChange:e=>c(t=>({...t,start:e.target.value}))}),Y.jsx("span",{children:"ate"}),Y.jsx("input",{type:"date",value:l.end,onChange:e=>c(t=>({...t,end:e.target.value}))})]})]})]}),e?Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"stats-grid",children:[Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon green",children:Y.jsx("span",{className:"material-icons",children:"account_balance_wallet"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:w(m.totalReceived)}),Y.jsx("span",{className:"stat-label",children:"Total Recebido"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon red",children:Y.jsx("span",{className:"material-icons",children:"remove_circle"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:w(m.totalFees)}),Y.jsx("span",{className:"stat-label",children:"Total em Taxas"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon blue",children:Y.jsx("span",{className:"material-icons",children:"trending_up"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:w(m.netProfit)}),Y.jsx("span",{className:"stat-label",children:"Lucro Liquido"})]})]}),Y.jsxs("div",{className:"stat-card",children:[Y.jsx("div",{className:"stat-icon orange",children:Y.jsx("span",{className:"material-icons",children:"schedule"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:w(m.pendingBalance)}),Y.jsx("span",{className:"stat-label",children:"Saldo Pendente"})]})]})]}),Y.jsxs("div",{className:"secondary-stats",children:[Y.jsxs("div",{className:"secondary-stat",children:[Y.jsx("span",{className:"material-icons warning",children:"undo"}),Y.jsxs("div",{children:[Y.jsx("span",{className:"value",children:w(m.refunds)}),Y.jsx("span",{className:"label",children:"Reembolsos"})]})]}),Y.jsxs("div",{className:"secondary-stat",children:[Y.jsx("span",{className:"material-icons danger",children:"gpp_bad"}),Y.jsxs("div",{children:[Y.jsx("span",{className:"value",children:w(m.chargebacks)}),Y.jsx("span",{className:"label",children:"Chargebacks"})]})]})]}),Y.jsxs("div",{className:"tabs",children:[Y.jsxs("button",{className:"tab "+("overview"===r?"active":""),onClick:()=>s("overview"),children:[Y.jsx("span",{className:"material-icons",children:"bar_chart"}),"Visao Geral"]}),Y.jsxs("button",{className:"tab "+("reports"===r?"active":""),onClick:()=>s("reports"),children:[Y.jsx("span",{className:"material-icons",children:"description"}),"Relatorios"]}),Y.jsxs("button",{className:"tab "+("fees"===r?"active":""),onClick:()=>s("fees"),children:[Y.jsx("span",{className:"material-icons",children:"receipt_long"}),"Detalhamento Taxas"]}),Y.jsxs("button",{className:"tab "+("transactions"===r?"active":""),onClick:()=>s("transactions"),children:[Y.jsx("span",{className:"material-icons",children:"swap_horiz"}),"Transacoes"]})]}),i?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando dados financeiros..."})]}):Y.jsxs(Y.Fragment,{children:["overview"===r&&Y.jsxs("div",{className:"charts-grid",children:[Y.jsxs("div",{className:"chart-card full-width",children:[Y.jsx("h3",{children:"Evolucao Financeira"}),Y.jsx(RC,{width:"100%",height:300,children:Y.jsxs(oK,{data:v,children:[Y.jsx(lV,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),Y.jsx(JV,{dataKey:"date",stroke:"var(--text-secondary)"}),Y.jsx(cW,{stroke:"var(--text-secondary)"}),Y.jsx(oC,{contentStyle:{background:"var(--bg-primary)",border:"1px solid var(--border-color)",borderRadius:"8px"},formatter:e=>w(e)}),Y.jsx(Ck,{}),Y.jsx(kV,{type:"monotone",dataKey:"received",name:"Recebido",stroke:"#10b981",strokeWidth:2}),Y.jsx(kV,{type:"monotone",dataKey:"fees",name:"Taxas",stroke:"#ef4444",strokeWidth:2}),Y.jsx(kV,{type:"monotone",dataKey:"net",name:"Liquido",stroke:"#3b82f6",strokeWidth:2})]})})]}),Y.jsxs("div",{className:"chart-card",children:[Y.jsx("h3",{children:"Composicao de Taxas"}),Y.jsx(RC,{width:"100%",height:250,children:Y.jsxs(cK,{children:[Y.jsx(f$,{data:x,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:x.map((e,t)=>Y.jsx(DC,{fill:b[t%b.length]},`cell-${t}`))}),Y.jsx(oC,{formatter:e=>w(e)})]})}),Y.jsx("div",{className:"pie-legend",children:x.map((e,t)=>Y.jsxs("div",{className:"legend-item",children:[Y.jsx("span",{className:"color-dot",style:{background:b[t]}}),Y.jsx("span",{className:"name",children:e.name}),Y.jsxs("span",{className:"value",children:[e.percentage,"%"]})]},e.name))})]}),Y.jsxs("div",{className:"chart-card",children:[Y.jsx("h3",{children:"Receitas por Dia"}),Y.jsx(RC,{width:"100%",height:250,children:Y.jsxs(lK,{data:v,children:[Y.jsx(lV,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),Y.jsx(JV,{dataKey:"date",stroke:"var(--text-secondary)"}),Y.jsx(cW,{stroke:"var(--text-secondary)"}),Y.jsx(oC,{contentStyle:{background:"var(--bg-primary)",border:"1px solid var(--border-color)",borderRadius:"8px"},formatter:e=>w(e)}),Y.jsx(nU,{dataKey:"net",name:"Liquido",fill:"#3b82f6",radius:[4,4,0,0]})]})})]})]}),"reports"===r&&Y.jsxs("div",{className:"section",children:[Y.jsx("div",{className:"section-header",children:Y.jsx("h2",{children:"Gerar Novo Relatorio"})}),Y.jsxs("div",{className:"report-generator",children:[Y.jsxs("div",{className:"form-row",children:[Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Tipo de Relatorio"}),Y.jsxs("select",{value:u,onChange:e=>d(e.target.value),children:[Y.jsx("option",{value:"releases",children:"Liberacoes (Release Report)"}),Y.jsx("option",{value:"settlements",children:"Liquidacoes (Settlement Report)"}),Y.jsx("option",{value:"account_balance",children:"Extrato de Conta"})]})]}),Y.jsxs("div",{className:"form-group",children:[Y.jsx("label",{children:"Periodo"}),Y.jsxs("div",{className:"date-inputs",children:[Y.jsx("input",{type:"date",value:l.start,onChange:e=>c(t=>({...t,start:e.target.value}))}),Y.jsx("span",{children:"ate"}),Y.jsx("input",{type:"date",value:l.end,onChange:e=>c(t=>({...t,end:e.target.value}))})]})]})]}),Y.jsxs("button",{className:"btn btn-primary",onClick:async()=>{try{alert(`Gerando relatorio de ${u} para o periodo selecionado...`)}catch(e){console.error("Error generating report:",e)}},children:[Y.jsx("span",{className:"material-icons",children:"description"}),"Gerar Relatorio"]})]}),Y.jsx("div",{className:"section-header",style:{marginTop:"32px"},children:Y.jsx("h2",{children:"Relatorios Gerados"})}),Y.jsx("div",{className:"reports-list",children:h.map(e=>{return Y.jsxs("div",{className:`report-card ${e.status}`,children:[Y.jsxs("div",{className:"report-info",children:[Y.jsxs("div",{className:"report-header",children:[Y.jsx("span",{className:"report-id",children:e.id}),Y.jsx("span",{className:`status-badge ${e.status}`,children:"ready"===e.status?"Pronto":"Processando"})]}),Y.jsxs("div",{className:"report-details",children:[Y.jsx("span",{className:"report-type",children:"release"===e.type?"Liberacoes":"Liquidacoes"}),Y.jsx("span",{className:"report-period",children:e.period})]}),e.totalAmount&&Y.jsxs("div",{className:"report-amount",children:["Total: ",w(e.totalAmount)]}),Y.jsxs("div",{className:"report-date",children:["Gerado em: ",(t=e.generatedAt,t?new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-")]})]}),Y.jsx("div",{className:"report-actions",children:Y.jsxs("button",{className:"btn btn-primary",onClick:()=>(e=>{"ready"===e.status&&alert(`Baixando relatorio ${e.id}...`)})(e),disabled:"ready"!==e.status,children:[Y.jsx("span",{className:"material-icons",children:"download"}),"Baixar CSV"]})})]},e.id);var t})})]}),"fees"===r&&Y.jsxs("div",{className:"section",children:[Y.jsx("div",{className:"section-header",children:Y.jsx("h2",{children:"Detalhamento de Taxas"})}),Y.jsx("div",{className:"fees-breakdown",children:Y.jsxs("table",{className:"fees-table",children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{children:"Categoria"}),Y.jsx("th",{children:"Descricao"}),Y.jsx("th",{children:"Quantidade"}),Y.jsx("th",{children:"Valor Total"}),Y.jsx("th",{children:"% do Total"})]})}),Y.jsxs("tbody",{children:[Y.jsxs("tr",{children:[Y.jsxs("td",{children:[Y.jsx("span",{className:"fee-icon ml",children:"ML"}),"Taxa Mercado Livre"]}),Y.jsx("td",{children:"Comissao sobre vendas"}),Y.jsx("td",{children:"245"}),Y.jsx("td",{children:w(8540)}),Y.jsx("td",{children:"53.8%"})]}),Y.jsxs("tr",{children:[Y.jsxs("td",{children:[Y.jsx("span",{className:"fee-icon mp",children:"MP"}),"Taxa Mercado Pago"]}),Y.jsx("td",{children:"Processamento de pagamentos"}),Y.jsx("td",{children:"245"}),Y.jsx("td",{children:w(3200)}),Y.jsx("td",{children:"20.2%"})]}),Y.jsxs("tr",{children:[Y.jsxs("td",{children:[Y.jsx("span",{className:"fee-icon shipping",children:Y.jsx("span",{className:"material-icons",children:"local_shipping"})}),"Custos de Frete"]}),Y.jsx("td",{children:"Subsidio de frete gratis"}),Y.jsx("td",{children:"180"}),Y.jsx("td",{children:w(2890)}),Y.jsx("td",{children:"18.2%"})]}),Y.jsxs("tr",{children:[Y.jsxs("td",{children:[Y.jsx("span",{className:"fee-icon tax",children:Y.jsx("span",{className:"material-icons",children:"receipt"})}),"Impostos"]}),Y.jsx("td",{children:"ISS e outros"}),Y.jsx("td",{children:"-"}),Y.jsx("td",{children:w(1240)}),Y.jsx("td",{children:"7.8%"})]})]}),Y.jsx("tfoot",{children:Y.jsxs("tr",{children:[Y.jsx("td",{colSpan:"3",children:Y.jsx("strong",{children:"Total de Taxas"})}),Y.jsx("td",{children:Y.jsx("strong",{children:w(m.totalFees)})}),Y.jsx("td",{children:Y.jsx("strong",{children:"100%"})})]})})]})}),Y.jsxs("div",{className:"fee-tips",children:[Y.jsx("h3",{children:"Dicas para Reduzir Taxas"}),Y.jsxs("ul",{children:[Y.jsxs("li",{children:[Y.jsx("span",{className:"material-icons",children:"lightbulb"}),"Melhore sua reputacao para ter taxas reduzidas"]}),Y.jsxs("li",{children:[Y.jsx("span",{className:"material-icons",children:"lightbulb"}),"Use Mercado Envios Full para subsidio de frete"]}),Y.jsxs("li",{children:[Y.jsx("span",{className:"material-icons",children:"lightbulb"}),"Venda em categorias com taxas menores"]}),Y.jsxs("li",{children:[Y.jsx("span",{className:"material-icons",children:"lightbulb"}),"Aumente o ticket medio para diluir custos fixos"]})]})]})]}),"transactions"===r&&Y.jsxs("div",{className:"section",children:[Y.jsx("div",{className:"section-header",children:Y.jsx("h2",{children:"Ultimas Transacoes"})}),Y.jsxs("div",{className:"transactions-list",children:[Y.jsxs("div",{className:"transaction-item credit",children:[Y.jsx("div",{className:"transaction-icon",children:Y.jsx("span",{className:"material-icons",children:"arrow_downward"})}),Y.jsxs("div",{className:"transaction-info",children:[Y.jsx("span",{className:"transaction-title",children:"Venda #MLB-5001234567"}),Y.jsx("span",{className:"transaction-date",children:"15/01/2024 14:32"})]}),Y.jsxs("div",{className:"transaction-amount",children:[Y.jsxs("span",{className:"amount",children:["+ ",w(299.9)]}),Y.jsxs("span",{className:"fee",children:["Taxa: -",w(35.98)]})]})]}),Y.jsxs("div",{className:"transaction-item credit",children:[Y.jsx("div",{className:"transaction-icon",children:Y.jsx("span",{className:"material-icons",children:"arrow_downward"})}),Y.jsxs("div",{className:"transaction-info",children:[Y.jsx("span",{className:"transaction-title",children:"Venda #MLB-5001234568"}),Y.jsx("span",{className:"transaction-date",children:"15/01/2024 12:18"})]}),Y.jsxs("div",{className:"transaction-amount",children:[Y.jsxs("span",{className:"amount",children:["+ ",w(189)]}),Y.jsxs("span",{className:"fee",children:["Taxa: -",w(22.68)]})]})]}),Y.jsxs("div",{className:"transaction-item debit",children:[Y.jsx("div",{className:"transaction-icon",children:Y.jsx("span",{className:"material-icons",children:"arrow_upward"})}),Y.jsxs("div",{className:"transaction-info",children:[Y.jsx("span",{className:"transaction-title",children:"Reembolso #MLB-5001234555"}),Y.jsx("span",{className:"transaction-date",children:"14/01/2024 18:45"})]}),Y.jsx("div",{className:"transaction-amount",children:Y.jsxs("span",{className:"amount refund",children:["- ",w(149.9)]})})]}),Y.jsxs("div",{className:"transaction-item withdrawal",children:[Y.jsx("div",{className:"transaction-icon",children:Y.jsx("span",{className:"material-icons",children:"account_balance"})}),Y.jsxs("div",{className:"transaction-info",children:[Y.jsx("span",{className:"transaction-title",children:"Saque para conta bancaria"}),Y.jsx("span",{className:"transaction-date",children:"14/01/2024 10:00"})]}),Y.jsx("div",{className:"transaction-amount",children:Y.jsxs("span",{className:"amount withdrawal",children:["- ",w(5e3)]})})]})]}),Y.jsx("div",{className:"load-more",children:Y.jsx("button",{className:"btn btn-secondary",children:"Carregar Mais Transacoes"})})]})]})]}):Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"account_balance"}),Y.jsx("h3",{children:"Selecione uma conta"}),Y.jsx("p",{children:"Selecione uma conta do Mercado Livre para ver os relatorios financeiros"})]})]})}function kH(){const[e,t]=z.useState(""),[n,a]=z.useState([]),[r,s]=z.useState(!0),[i,o]=z.useState("pending"),[l,c]=z.useState([]),[u,d]=z.useState([]),[h,p]=z.useState({start:"",end:""}),[m,f]=z.useState(""),[v,y]=z.useState(!1),[x,g]=z.useState(null),[b,j]=z.useState({pendingCount:0,pendingAmount:0,reconciledCount:0,reconciledAmount:0,discrepancyCount:0,discrepancyAmount:0});z.useEffect(()=>{const e=new Date,t=new Date;t.setDate(t.getDate()-30),p({start:t.toISOString().split("T")[0],end:e.toISOString().split("T")[0]}),N()},[]);const N=async()=>{var e;try{const n=await Ef.get("/ml-accounts");if(n.data.success){const r=(null==(e=n.data.data)?void 0:e.accounts)||[];a(r),r.length>0&&t(r[0].id||r[0].accountId)}}catch(n){console.error("Error fetching accounts:",n)}};z.useEffect(()=>{e&&h.start&&h.end&&w()},[e,h,i]);const w=async()=>{try{s(!0);c([{id:"TXN-001",orderId:"MLB-5001234567",date:"2024-01-15T14:32:00",type:"sale",amount:299.9,mlAmount:299.9,bankAmount:263.91,fees:35.99,status:"pending",buyer:"Joao Silva",product:"Smartphone Samsung Galaxy"},{id:"TXN-002",orderId:"MLB-5001234568",date:"2024-01-15T12:18:00",type:"sale",amount:189,mlAmount:189,bankAmount:166.32,fees:22.68,status:"reconciled",buyer:"Maria Santos",product:"Fone de Ouvido JBL"},{id:"TXN-003",orderId:"MLB-5001234569",date:"2024-01-14T18:45:00",type:"refund",amount:-149.9,mlAmount:-149.9,bankAmount:-149.9,fees:0,status:"reconciled",buyer:"Pedro Oliveira",product:"Capa Celular"},{id:"TXN-004",orderId:"MLB-5001234570",date:"2024-01-14T10:00:00",type:"sale",amount:450,mlAmount:450,bankAmount:390.5,fees:54,status:"discrepancy",discrepancyReason:"Diferenca de R$ 5.50 entre ML e banco",buyer:"Ana Costa",product:"Tablet Samsung Tab"}]),j({pendingCount:15,pendingAmount:4520.5,reconciledCount:230,reconciledAmount:45890,discrepancyCount:3,discrepancyAmount:890.5})}catch(e){console.error("Error fetching transactions:",e)}finally{s(!1)}},S=async e=>{try{c(t=>t.map(t=>e.includes(t.id)?{...t,status:"reconciled"}:t)),d([]),alert(`${e.length} transacao(oes) conciliada(s) com sucesso!`)}catch(t){console.error("Error reconciling:",t)}},k=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0),O=e=>new Date(e).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),C=l.filter(e=>{const t="all"===i||e.status===i,n=!m||e.orderId.toLowerCase().includes(m.toLowerCase())||e.buyer.toLowerCase().includes(m.toLowerCase())||e.product.toLowerCase().includes(m.toLowerCase());return t&&n});return Y.jsxs("div",{className:"conciliation-page",children:[Y.jsxs("div",{className:"page-header",children:[Y.jsxs("div",{className:"header-content",children:[Y.jsx("h1",{children:"Conciliacao de Pagamentos"}),Y.jsx("p",{children:"Compare e concilie transacoes do Mercado Pago com seu extrato bancario"})]}),Y.jsxs("div",{className:"header-actions",children:[Y.jsxs("select",{className:"account-select",value:e,onChange:e=>t(e.target.value),children:[Y.jsx("option",{value:"",children:"Selecione uma conta"}),n.map(e=>Y.jsx("option",{value:e.id||e.accountId,children:e.nickname||e.id||e.accountId},e.id||e.accountId))]}),Y.jsxs("button",{className:"btn btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"upload_file"}),"Importar Extrato"]}),Y.jsxs("button",{className:"btn btn-secondary",children:[Y.jsx("span",{className:"material-icons",children:"download"}),"Exportar"]})]})]}),e?Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"stats-grid",children:[Y.jsxs("div",{className:"stat-card warning",children:[Y.jsx("div",{className:"stat-icon",children:Y.jsx("span",{className:"material-icons",children:"pending"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:b.pendingCount}),Y.jsx("span",{className:"stat-amount",children:k(b.pendingAmount)}),Y.jsx("span",{className:"stat-label",children:"Pendentes"})]})]}),Y.jsxs("div",{className:"stat-card success",children:[Y.jsx("div",{className:"stat-icon",children:Y.jsx("span",{className:"material-icons",children:"check_circle"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:b.reconciledCount}),Y.jsx("span",{className:"stat-amount",children:k(b.reconciledAmount)}),Y.jsx("span",{className:"stat-label",children:"Conciliadas"})]})]}),Y.jsxs("div",{className:"stat-card danger",children:[Y.jsx("div",{className:"stat-icon",children:Y.jsx("span",{className:"material-icons",children:"error"})}),Y.jsxs("div",{className:"stat-info",children:[Y.jsx("span",{className:"stat-value",children:b.discrepancyCount}),Y.jsx("span",{className:"stat-amount",children:k(b.discrepancyAmount)}),Y.jsx("span",{className:"stat-label",children:"Divergencias"})]})]})]}),Y.jsxs("div",{className:"filters-bar",children:[Y.jsxs("div",{className:"date-range",children:[Y.jsx("input",{type:"date",value:h.start,onChange:e=>p(t=>({...t,start:e.target.value}))}),Y.jsx("span",{children:"ate"}),Y.jsx("input",{type:"date",value:h.end,onChange:e=>p(t=>({...t,end:e.target.value}))})]}),Y.jsxs("div",{className:"search-box",children:[Y.jsx("span",{className:"material-icons",children:"search"}),Y.jsx("input",{type:"text",placeholder:"Buscar por pedido, comprador ou produto...",value:m,onChange:e=>f(e.target.value)})]})]}),Y.jsxs("div",{className:"tabs",children:[Y.jsxs("button",{className:"tab "+("pending"===i?"active":""),onClick:()=>o("pending"),children:[Y.jsx("span",{className:"material-icons",children:"pending"}),"Pendentes",Y.jsx("span",{className:"badge",children:b.pendingCount})]}),Y.jsxs("button",{className:"tab "+("reconciled"===i?"active":""),onClick:()=>o("reconciled"),children:[Y.jsx("span",{className:"material-icons",children:"check_circle"}),"Conciliadas"]}),Y.jsxs("button",{className:"tab "+("discrepancy"===i?"active":""),onClick:()=>o("discrepancy"),children:[Y.jsx("span",{className:"material-icons",children:"error"}),"Divergencias",b.discrepancyCount>0&&Y.jsx("span",{className:"badge danger",children:b.discrepancyCount})]}),Y.jsxs("button",{className:"tab "+("all"===i?"active":""),onClick:()=>o("all"),children:[Y.jsx("span",{className:"material-icons",children:"list"}),"Todas"]})]}),u.length>0&&Y.jsxs("div",{className:"bulk-actions",children:[Y.jsxs("span",{children:[u.length," transacao(oes) selecionada(s)"]}),Y.jsxs("button",{className:"btn btn-primary",onClick:()=>S(u),children:[Y.jsx("span",{className:"material-icons",children:"check"}),"Conciliar Selecionadas"]}),Y.jsx("button",{className:"btn btn-secondary",onClick:()=>d([]),children:"Limpar Selecao"})]}),Y.jsx("div",{className:"section",children:r?Y.jsxs("div",{className:"loading-state",children:[Y.jsx("div",{className:"spinner"}),Y.jsx("p",{children:"Carregando transacoes..."})]}):0===C.length?Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"receipt_long"}),Y.jsx("h3",{children:"Nenhuma transacao encontrada"}),Y.jsx("p",{children:"Nao ha transacoes para o filtro selecionado"})]}):Y.jsx("div",{className:"transactions-table-wrapper",children:Y.jsxs("table",{className:"transactions-table",children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:["pending"===i&&Y.jsx("th",{className:"checkbox-col",children:Y.jsx("input",{type:"checkbox",checked:u.length===C.filter(e=>"pending"===e.status).length,onChange:()=>{const e=C.filter(e=>"pending"===e.status).map(e=>e.id);u.length===e.length?d([]):d(e)}})}),Y.jsx("th",{children:"Data"}),Y.jsx("th",{children:"Pedido"}),Y.jsx("th",{children:"Produto"}),Y.jsx("th",{children:"Comprador"}),Y.jsx("th",{children:"Tipo"}),Y.jsx("th",{children:"Valor ML"}),Y.jsx("th",{children:"Taxas"}),Y.jsx("th",{children:"Valor Banco"}),Y.jsx("th",{children:"Status"}),Y.jsx("th",{children:"Acoes"})]})}),Y.jsx("tbody",{children:C.map(e=>Y.jsxs("tr",{className:e.status,children:["pending"===i&&Y.jsx("td",{className:"checkbox-col",children:Y.jsx("input",{type:"checkbox",checked:u.includes(e.id),onChange:()=>{return t=e.id,void d(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},disabled:"pending"!==e.status})}),Y.jsx("td",{children:O(e.date)}),Y.jsx("td",{className:"order-id",children:e.orderId}),Y.jsxs("td",{className:"product-cell",children:[e.product.substring(0,30),"..."]}),Y.jsx("td",{children:e.buyer}),Y.jsx("td",{children:Y.jsx("span",{className:`type-badge ${e.type}`,children:"sale"===e.type?"Venda":"refund"===e.type?"Reembolso":e.type})}),Y.jsx("td",{className:e.amount>=0?"positive":"negative",children:k(e.mlAmount)}),Y.jsx("td",{className:"fees",children:k(e.fees)}),Y.jsx("td",{className:e.bankAmount>=0?"positive":"negative",children:k(e.bankAmount)}),Y.jsx("td",{children:Y.jsx("span",{className:`status-badge ${e.status}`,children:"pending"===e.status?"Pendente":"reconciled"===e.status?"Conciliada":"Divergencia"})}),Y.jsxs("td",{className:"actions-cell",children:[Y.jsx("button",{className:"btn btn-icon",onClick:()=>(e=>{g(e),y(!0)})(e),title:"Ver detalhes",children:Y.jsx("span",{className:"material-icons",children:"visibility"})}),"pending"===e.status&&Y.jsx("button",{className:"btn btn-icon success",onClick:()=>S([e.id]),title:"Conciliar",children:Y.jsx("span",{className:"material-icons",children:"check"})})]})]},e.id))})]})})})]}):Y.jsxs("div",{className:"empty-state",children:[Y.jsx("span",{className:"material-icons",children:"account_balance"}),Y.jsx("h3",{children:"Selecione uma conta"}),Y.jsx("p",{children:"Selecione uma conta do Mercado Livre para conciliar pagamentos"})]}),v&&x&&Y.jsx("div",{className:"modal-overlay",onClick:()=>y(!1),children:Y.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[Y.jsxs("div",{className:"modal-header",children:[Y.jsx("h2",{children:"Detalhes da Transacao"}),Y.jsx("button",{className:"btn btn-icon",onClick:()=>y(!1),children:Y.jsx("span",{className:"material-icons",children:"close"})})]}),Y.jsxs("div",{className:"modal-body",children:[Y.jsxs("div",{className:"detail-section",children:[Y.jsx("h3",{children:"Informacoes do Pedido"}),Y.jsxs("div",{className:"detail-grid",children:[Y.jsxs("div",{className:"detail-item",children:[Y.jsx("span",{className:"label",children:"ID Transacao"}),Y.jsx("span",{className:"value",children:x.id})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("span",{className:"label",children:"Pedido ML"}),Y.jsx("span",{className:"value",children:x.orderId})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("span",{className:"label",children:"Data"}),Y.jsx("span",{className:"value",children:O(x.date)})]}),Y.jsxs("div",{className:"detail-item",children:[Y.jsx("span",{className:"label",children:"Comprador"}),Y.jsx("span",{className:"value",children:x.buyer})]}),Y.jsxs("div",{className:"detail-item full-width",children:[Y.jsx("span",{className:"label",children:"Produto"}),Y.jsx("span",{className:"value",children:x.product})]})]})]}),Y.jsxs("div",{className:"detail-section",children:[Y.jsx("h3",{children:"Valores"}),Y.jsxs("div",{className:"values-comparison",children:[Y.jsxs("div",{className:"value-box ml",children:[Y.jsx("span",{className:"source",children:"Mercado Pago"}),Y.jsx("span",{className:"amount",children:k(x.mlAmount)})]}),Y.jsx("div",{className:"comparison-arrow",children:Y.jsx("span",{className:"material-icons",children:"compare_arrows"})}),Y.jsxs("div",{className:"value-box bank",children:[Y.jsx("span",{className:"source",children:"Banco"}),Y.jsx("span",{className:"amount",children:k(x.bankAmount)})]})]}),Y.jsxs("div",{className:"fees-detail",children:[Y.jsx("span",{className:"label",children:"Taxas deduzidas:"}),Y.jsx("span",{className:"value",children:k(x.fees)})]})]}),"discrepancy"===x.status&&Y.jsxs("div",{className:"detail-section warning",children:[Y.jsx("h3",{children:"Divergencia Encontrada"}),Y.jsx("p",{children:x.discrepancyReason})]})]}),Y.jsxs("div",{className:"modal-footer",children:["pending"===x.status&&Y.jsxs("button",{className:"btn btn-primary",onClick:()=>{S([x.id]),y(!1)},children:[Y.jsx("span",{className:"material-icons",children:"check"}),"Conciliar Transacao"]}),Y.jsx("button",{className:"btn btn-secondary",onClick:()=>y(!1),children:"Fechar"})]})]})})]})}function OH(){const{token:e,loadToken:t}=_f();return z.useEffect(()=>{t()},[t]),Y.jsxs(Sh,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[Y.jsx(PK,{}),Y.jsxs(gh,{children:[Y.jsx(yh,{path:"/auth/callback",element:Y.jsx(SK,{})}),e?Y.jsxs(yh,{element:Y.jsx(CK,{}),children:[Y.jsx(yh,{path:"/",element:Y.jsx(hK,{})}),Y.jsx(yh,{path:"/accounts",element:Y.jsx(mK,{})}),Y.jsx(yh,{path:"/accounts/:accountId/products",element:Y.jsx(bK,{})}),Y.jsx(yh,{path:"/products",element:Y.jsx(jK,{})}),Y.jsx(yh,{path:"/orders",element:Y.jsx(EK,{})}),Y.jsx(yh,{path:"/sales-dashboard",element:Y.jsx(pH,{})}),Y.jsx(yh,{path:"/shipments",element:Y.jsx(AK,{})}),Y.jsx(yh,{path:"/invoices",element:Y.jsx($K,{})}),Y.jsx(yh,{path:"/questions",element:Y.jsx(_K,{})}),Y.jsx(yh,{path:"/messages",element:Y.jsx(TK,{})}),Y.jsx(yh,{path:"/claims",element:Y.jsx(RK,{})}),Y.jsx(yh,{path:"/items",element:Y.jsx(IK,{})}),Y.jsx(yh,{path:"/items/create",element:Y.jsx(LK,{})}),Y.jsx(yh,{path:"/items/:itemId/edit",element:Y.jsx(BK,{})}),Y.jsx(yh,{path:"/promotions",element:Y.jsx(MK,{})}),Y.jsx(yh,{path:"/reports",element:Y.jsx(NK,{})}),Y.jsx(yh,{path:"/metrics",element:Y.jsx(FK,{})}),Y.jsx(yh,{path:"/inventory",element:Y.jsx(dH,{})}),Y.jsx(yh,{path:"/moderations",element:Y.jsx(cH,{})}),Y.jsx(yh,{path:"/reviews",element:Y.jsx(uH,{})}),Y.jsx(yh,{path:"/reputation",element:Y.jsx(mH,{})}),Y.jsx(yh,{path:"/quality",element:Y.jsx(fH,{})}),Y.jsx(yh,{path:"/trends",element:Y.jsx(vH,{})}),Y.jsx(yh,{path:"/competitors",element:Y.jsx(yH,{})}),Y.jsx(yh,{path:"/advertising",element:Y.jsx(xH,{})}),Y.jsx(yh,{path:"/catalog",element:Y.jsx(gH,{})}),Y.jsx(yh,{path:"/fulfillment",element:Y.jsx(bH,{})}),Y.jsx(yh,{path:"/profit-calculator",element:Y.jsx(jH,{})}),Y.jsx(yh,{path:"/price-automation",element:Y.jsx(NH,{})}),Y.jsx(yh,{path:"/global-selling",element:Y.jsx(wH,{})}),Y.jsx(yh,{path:"/financial-reports",element:Y.jsx(SH,{})}),Y.jsx(yh,{path:"/conciliation",element:Y.jsx(kH,{})}),Y.jsx(yh,{path:"/billing",element:Y.jsx(lH,{})}),Y.jsx(yh,{path:"/notifications",element:Y.jsx(DK,{})}),Y.jsx(yh,{path:"/settings",element:Y.jsx(wK,{})}),Y.jsx(yh,{path:"*",element:Y.jsx(fh,{to:"/"})})]}):Y.jsxs(Y.Fragment,{children:[Y.jsx(yh,{path:"/login",element:Y.jsx(Uf,{})}),Y.jsx(yh,{path:"/register",element:Y.jsx(qf,{})}),Y.jsx(yh,{path:"*",element:Y.jsx(fh,{to:"/login"})})]})]})]})}J.createRoot(document.getElementById("root")).render(Y.jsx(U.StrictMode,{children:Y.jsx(OH,{})}));
