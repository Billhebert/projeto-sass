### Mercado Livre Official API - Direct Integration
### Real endpoints from Mercado Livre API (not via our backend)
### Docs: https://developers.mercadolibre.com.br/pt_BR/api-docs-pt

# ============================================================================
# CONFIGURA√á√ÉO - Vari√°veis
# ============================================================================

@mlBaseUrl = https://api.mercadolibre.com
@mlAuthUrl = https://auth.mercadolibre.com.br
@accessToken = seu_access_token_aqui
@refreshToken = seu_refresh_token_aqui
@userId = seu_user_id_aqui
@clientId = seu_client_id
@clientSecret = seu_client_secret
@redirectUrl = http://localhost:5173/ml-auth-callback
@siteId = MLB

# ============================================================================
# üîê AUTENTICA√á√ÉO (OAuth 2.0)
# ============================================================================

### [AUTH-01] Obter URL de Autoriza√ß√£o
# Usu√°rio deve visitar essa URL e autorizar
GET {{mlAuthUrl}}/authorization?response_type=code&client_id={{clientId}}&redirect_uri={{redirectUrl}}

### [AUTH-02] Trocar Code por Access Token
# Ap√≥s usu√°rio autorizar, vai receber um code. Troque por token aqui.
POST {{mlAuthUrl}}/oauth/token
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id={{clientId}}&client_secret={{clientSecret}}&code=AUTH_CODE_AQUI&redirect_uri={{redirectUrl}}

### [AUTH-03] Renovar Access Token (se expirou)
POST {{mlAuthUrl}}/oauth/token
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id={{clientId}}&client_secret={{clientSecret}}&refresh_token={{refreshToken}}

# ============================================================================
# üë§ USU√ÅRIO & CONTA
# ============================================================================

### [USER-01] Obter Informa√ß√µes do Usu√°rio Autenticado
GET {{mlBaseUrl}}/users/me
Authorization: Bearer {{accessToken}}

### [USER-02] Obter Dados Espec√≠ficos de um Usu√°rio
GET {{mlBaseUrl}}/users/{{userId}}
Authorization: Bearer {{accessToken}}

### [USER-03] Obter Reputa√ß√£o do Vendedor
GET {{mlBaseUrl}}/users/{{userId}}/reputation
Authorization: Bearer {{accessToken}}

### [USER-04] Obter Transa√ß√µes do Vendedor
GET {{mlBaseUrl}}/users/{{userId}}/transactions?period=30d&sort=date_desc&involved=true
Authorization: Bearer {{accessToken}}

# ============================================================================
# üì¶ PRODUTOS (ITEMS)
# ============================================================================

### [ITEM-01] Publicar Novo Produto
POST {{mlBaseUrl}}/items
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "title": "iPhone 15 Pro 256GB Prata",
  "category_id": "MLB1055",
  "price": 6999,
  "currency_id": "BRL",
  "available_quantity": 5,
  "condition": "new",
  "buying_mode": "buy_it_now",
  "listing_type": "gold_pro",
  "pictures": [
    {
      "source": "https://example.com/image.jpg"
    }
  ],
  "description": {
    "plain_text": "iPhone 15 Pro novo, lacrado na caixa com garantia Apple de 1 ano."
  },
  "attributes": [
    {
      "id": "BRAND",
      "value_name": "Apple"
    },
    {
      "id": "MODEL",
      "value_name": "iPhone 15 Pro"
    },
    {
      "id": "MEMORY",
      "value_name": "256 GB"
    }
  ],
  "shipping": {
    "mode": "me1",
    "local_pick_up": true,
    "free_shipping": true
  }
}

### [ITEM-02] Obter Detalhes de um Produto
GET {{mlBaseUrl}}/items/ITEM_ID_AQUI
Authorization: Bearer {{accessToken}}

### [ITEM-03] Atualizar Produto
PUT {{mlBaseUrl}}/items/ITEM_ID_AQUI
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "title": "iPhone 15 Pro 256GB Prata - Novo T√≠tulo",
  "price": 6499,
  "available_quantity": 10,
  "status": "active"
}

### [ITEM-04] Listar Produtos do Vendedor
GET {{mlBaseUrl}}/users/{{userId}}/items/search?sort=date_desc&limit=50
Authorization: Bearer {{accessToken}}

### [ITEM-05] Obter Imagens do Produto
GET {{mlBaseUrl}}/items/ITEM_ID_AQUI/pictures
Authorization: Bearer {{accessToken}}

### [ITEM-06] Adicionar Imagem ao Produto
POST {{mlBaseUrl}}/items/ITEM_ID_AQUI/pictures
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "pictures": [
    {
      "source": "https://example.com/new_image.jpg"
    }
  ]
}

### [ITEM-07] Deletar Imagem
DELETE {{mlBaseUrl}}/items/ITEM_ID_AQUI/pictures/PICTURE_ID
Authorization: Bearer {{accessToken}}

### [ITEM-08] Pausar Produto
PUT {{mlBaseUrl}}/items/ITEM_ID_AQUI
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "status": "paused"
}

### [ITEM-09] Ativar Produto Pausado
PUT {{mlBaseUrl}}/items/ITEM_ID_AQUI
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "status": "active"
}

### [ITEM-10] Deletar Produto
DELETE {{mlBaseUrl}}/items/ITEM_ID_AQUI
Authorization: Bearer {{accessToken}}

# ============================================================================
# üìã PEDIDOS (ORDERS)
# ============================================================================

### [ORDER-01] Listar Pedidos Recebidos
GET {{mlBaseUrl}}/orders/search?seller={{userId}}&sort=date_desc&limit=50&offset=0
Authorization: Bearer {{accessToken}}

### [ORDER-02] Listar Pedidos por Status
GET {{mlBaseUrl}}/orders/search?seller={{userId}}&status=paid&sort=date_desc&limit=50
Authorization: Bearer {{accessToken}}

### [ORDER-03] Obter Detalhes Completos do Pedido
GET {{mlBaseUrl}}/orders/ORDER_ID_AQUI
Authorization: Bearer {{accessToken}}

### [ORDER-04] Obter Informa√ß√µes de Faturamento (NFe)
GET {{mlBaseUrl}}/orders/ORDER_ID_AQUI/billing_info
Authorization: Bearer {{accessToken}}

### [ORDER-05] Buscar Informa√ß√µes do Comprador
GET {{mlBaseUrl}}/orders/ORDER_ID_AQUI/buyer
Authorization: Bearer {{accessToken}}

### [ORDER-06] Obter Feedback do Comprador
GET {{mlBaseUrl}}/orders/ORDER_ID_AQUI/feedback
Authorization: Bearer {{accessToken}}

# ============================================================================
# üí≥ PAGAMENTOS (MERCADO PAGO)
# ============================================================================

### [PAYMENT-01] Listar Pagamentos Recebidos
GET {{mlBaseUrl}}/users/{{userId}}/payments?sort=date_desc&limit=50&offset=0
Authorization: Bearer {{accessToken}}

### [PAYMENT-02] Listar Pagamentos por Status
GET {{mlBaseUrl}}/users/{{userId}}/payments?status=approved&sort=date_desc
Authorization: Bearer {{accessToken}}

### [PAYMENT-03] Obter Detalhes do Pagamento
GET {{mlBaseUrl}}/collections/PAYMENT_ID_AQUI
Authorization: Bearer {{accessToken}}

### [PAYMENT-04] Obter Informa√ß√µes de Cobran√ßa
GET {{mlBaseUrl}}/users/{{userId}}/billing_info
Authorization: Bearer {{accessToken}}

# ============================================================================
# üì¶ ENVIOS (SHIPMENTS)
# ============================================================================

### [SHIP-01] Listar Envios do Vendedor
GET {{mlBaseUrl}}/shipments/search?seller_id={{userId}}&sort=date_desc&limit=50
Authorization: Bearer {{accessToken}}

### [SHIP-02] Obter Detalhes do Envio
GET {{mlBaseUrl}}/shipments/SHIPMENT_ID_AQUI
Authorization: Bearer {{accessToken}}

### [SHIP-03] Atualizar Status do Envio
POST {{mlBaseUrl}}/shipments/SHIPMENT_ID_AQUI/status_update
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "shipment": {
    "status": "shipped",
    "tracking_code": "BR123456789"
  }
}

### [SHIP-04] Gerar Etiqueta de Frete (Meli Envios)
POST {{mlBaseUrl}}/shipments/SHIPMENT_ID_AQUI/label
Authorization: Bearer {{accessToken}}

# ============================================================================
# üîç BUSCAS & CATEGORIAS
# ============================================================================

### [SEARCH-01] Buscar Produtos no Mercado Livre
GET {{mlBaseUrl}}/sites/{{siteId}}/search?q=iphone&sort=price_asc&limit=50
Authorization: Bearer {{accessToken}}

### [SEARCH-02] Buscar por Categoria
GET {{mlBaseUrl}}/sites/{{siteId}}/search?category={{categoryId}}&sort=date_desc&limit=50
Authorization: Bearer {{accessToken}}

### [SEARCH-03] Obter Categorias
GET {{mlBaseUrl}}/sites/{{siteId}}/categories
Authorization: Bearer {{accessToken}}

### [SEARCH-04] Obter Detalhes da Categoria
GET {{mlBaseUrl}}/categories/CATEGORY_ID_AQUI
Authorization: Bearer {{accessToken}}

### [SEARCH-05] Listar Atributos de Categoria
GET {{mlBaseUrl}}/categories/CATEGORY_ID_AQUI/attributes
Authorization: Bearer {{accessToken}}

### [SEARCH-06] Buscar Valores de Atributo
GET {{mlBaseUrl}}/categories/CATEGORY_ID_AQUI/attributes/ATTRIBUTE_ID
Authorization: Bearer {{accessToken}}

# ============================================================================
# ‚ùì PERGUNTAS & RESPOSTAS
# ============================================================================

### [QUESTION-01] Listar Perguntas em um Produto
GET {{mlBaseUrl}}/items/ITEM_ID_AQUI/questions?sort=date_desc&limit=50
Authorization: Bearer {{accessToken}}

### [QUESTION-02] Responder a uma Pergunta
POST {{mlBaseUrl}}/questions/QUESTION_ID_AQUI/answers
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "text": "Sim, o produto vem com todos os acess√≥rios originais."
}

### [QUESTION-03] Deletar Resposta
DELETE {{mlBaseUrl}}/questions/QUESTION_ID_AQUI/answers/ANSWER_ID
Authorization: Bearer {{accessToken}}

# ============================================================================
# ‚≠ê FEEDBACK & AVALIA√á√ïES
# ============================================================================

### [FEEDBACK-01] Listar Feedback Recebido
GET {{mlBaseUrl}}/users/{{userId}}/rating/search?sort=date_desc&limit=50
Authorization: Bearer {{accessToken}}

### [FEEDBACK-02] Dar Feedback ao Comprador
POST {{mlBaseUrl}}/feedback
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "buyer": BUYER_ID,
  "order": ORDER_ID,
  "rating": "positive",
  "message": "Excelente comprador! Recomendo."
}

### [FEEDBACK-03] Responder Feedback Negativo
POST {{mlBaseUrl}}/feedback/FEEDBACK_ID/reclame/reply
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "message": "Desculpe pelo ocorrido. Como podemos resolver?"
}

# ============================================================================
# üîî DEVOLU√á√ÉO & RECLAMA√á√ïES (CLAIMS)
# ============================================================================

### [CLAIM-01] Listar Reclama√ß√µes do Vendedor
GET {{mlBaseUrl}}/users/{{userId}}/claims/search?sort=date_desc&limit=50
Authorization: Bearer {{accessToken}}

### [CLAIM-02] Obter Detalhes da Reclama√ß√£o
GET {{mlBaseUrl}}/claims/CLAIM_ID_AQUI
Authorization: Bearer {{accessToken}}

### [CLAIM-03] Responder Reclama√ß√£o (Reembolso)
POST {{mlBaseUrl}}/claims/CLAIM_ID_AQUI/actions/accept_refund
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "message": "Autorizado - Reembolso total ser√° processado."
}

### [CLAIM-04] Responder Reclama√ß√£o (Troca)
POST {{mlBaseUrl}}/claims/CLAIM_ID_AQUI/actions/accept_replacement
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "message": "Autorizado - Enviaremos um produto novo em breve."
}

### [CLAIM-05] Rejeitar Reclama√ß√£o
POST {{mlBaseUrl}}/claims/CLAIM_ID_AQUI/actions/reject
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "message": "N√£o concordo com a reclama√ß√£o. Motivo: produto foi entregue conforme descrito."
}

# ============================================================================
# üìä RELAT√ìRIOS & ESTAT√çSTICAS
# ============================================================================

### [STATS-01] Obter Estat√≠sticas de Vendas
GET {{mlBaseUrl}}/users/{{userId}}/sales_summary
Authorization: Bearer {{accessToken}}

### [STATS-02] Obter Hist√≥rico de Vendas (√∫ltimos 30 dias)
GET {{mlBaseUrl}}/users/{{userId}}/items/sales?date_from=2025-01-07&date_to=2025-02-07&status=all&sort=date_desc
Authorization: Bearer {{accessToken}}

### [STATS-03] Listar Visitas em Produtos
GET {{mlBaseUrl}}/users/{{userId}}/items_visits
Authorization: Bearer {{accessToken}}

### [STATS-04] Obter Metricas de um Produto
GET {{mlBaseUrl}}/items/ITEM_ID_AQUI/insights/visits
Authorization: Bearer {{accessToken}}

# ============================================================================
# üè™ LOJAS & CONFIGURA√á√ïES
# ============================================================================

### [STORE-01] Obter Informa√ß√µes da Loja
GET {{mlBaseUrl}}/users/{{userId}}/store
Authorization: Bearer {{accessToken}}

### [STORE-02] Listar Pol√≠ticas de Log√≠stica
GET {{mlBaseUrl}}/users/{{userId}}/shipping_policies
Authorization: Bearer {{accessToken}}

### [STORE-03] Obter Configura√ß√µes de Devolu√ß√£o
GET {{mlBaseUrl}}/users/{{userId}}/return_policy
Authorization: Bearer {{accessToken}}

### [STORE-04] Obter M√©todos de Envio Dispon√≠veis
GET {{mlBaseUrl}}/users/{{userId}}/shipping_methods
Authorization: Bearer {{accessToken}}

# ============================================================================
# üí∞ PROMO√á√ïES & CUPONS
# ============================================================================

### [PROMO-01] Listar Promo√ß√µes Ativas
GET {{mlBaseUrl}}/users/{{userId}}/promotions?status=active&sort=date_desc
Authorization: Bearer {{accessToken}}

### [PROMO-02] Criar Nova Promo√ß√£o
POST {{mlBaseUrl}}/promotions
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "name": "Black Friday 2025",
  "type": "item_price_discount",
  "discount_configuration": {
    "discount": {
      "type": "percentage",
      "value": 50
    }
  },
  "starts_at": "2025-11-28T00:00:00Z",
  "ends_at": "2025-11-30T23:59:59Z",
  "items": [
    {
      "item_id": "ITEM_ID_1"
    }
  ]
}

### [PROMO-03] Atualizar Promo√ß√£o
PUT {{mlBaseUrl}}/promotions/PROMOTION_ID
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "status": "active",
  "discount_configuration": {
    "discount": {
      "type": "percentage",
      "value": 60
    }
  }
}

### [PROMO-04] Pausar Promo√ß√£o
POST {{mlBaseUrl}}/promotions/PROMOTION_ID/pause
Authorization: Bearer {{accessToken}}

### [PROMO-05] Retomar Promo√ß√£o
POST {{mlBaseUrl}}/promotions/PROMOTION_ID/resume
Authorization: Bearer {{accessToken}}

### [PROMO-06] Deletar Promo√ß√£o
DELETE {{mlBaseUrl}}/promotions/PROMOTION_ID
Authorization: Bearer {{accessToken}}

# ============================================================================
# üéØ PUBLICA√á√ïES & LISTAGENS
# ============================================================================

### [PUB-01] Listar Publica√ß√µes do Vendedor
GET {{mlBaseUrl}}/users/{{userId}}/items/search?sort=date_desc&limit=50
Authorization: Bearer {{accessToken}}

### [PUB-02] Obter Estat√≠sticas de Publica√ß√£o
GET {{mlBaseUrl}}/items/ITEM_ID_AQUI/visits_stats
Authorization: Bearer {{accessToken}}

### [PUB-03] Verificar Sa√∫de de Publica√ß√£o
GET {{mlBaseUrl}}/items/ITEM_ID_AQUI/health
Authorization: Bearer {{accessToken}}

# ============================================================================
# üì≤ NOTIFICA√á√ïES & WEBHOOKS
# ============================================================================

### [WEBHOOK-01] Listar Inscri√ß√µes em Notifica√ß√µes
GET {{mlBaseUrl}}/users/{{userId}}/subscriptions
Authorization: Bearer {{accessToken}}

### [WEBHOOK-02] Inscrever-se em Notifica√ß√µes
POST {{mlBaseUrl}}/users/{{userId}}/subscriptions
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "topic": "orders_v2",
  "webhook_url": "https://seu-dominio.com/webhook/orders",
  "applications": ["YOUR_APP_ID"]
}

### [WEBHOOK-03] Cancelar Inscri√ß√£o
DELETE {{mlBaseUrl}}/users/{{userId}}/subscriptions/SUBSCRIPTION_ID
Authorization: Bearer {{accessToken}}

# ============================================================================
# üîÑ SINCRONIZA√á√ÉO & INTEGRA√á√ïES
# ============================================================================

### [SYNC-01] Obter Hist√≥rico de Mudan√ßas
GET {{mlBaseUrl}}/items/ITEM_ID_AQUI/changes
Authorization: Bearer {{accessToken}}

### [SYNC-02] Sincronizar Dados de Pedidos
GET {{mlBaseUrl}}/orders/search?seller={{userId}}&sort=date_desc&limit=50&offset=0
Authorization: Bearer {{accessToken}}

### [SYNC-03] Listar Chamadas de API (Hist√≥rico)
GET {{mlBaseUrl}}/users/{{userId}}/api_calls
Authorization: Bearer {{accessToken}}

# ============================================================================
# üõ†Ô∏è UTILIT√ÅRIOS
# ============================================================================

### [UTIL-01] Verificar Taxa de C√¢mbio
GET {{mlBaseUrl}}/currency_conversions/search?from=USD&to=BRL

### [UTIL-02] Listar Sites Dispon√≠veis
GET {{mlBaseUrl}}/sites

### [UTIL-03] Obter Informa√ß√µes do Site
GET {{mlBaseUrl}}/sites/{{siteId}}

### [UTIL-04] Testar Conex√£o (Health Check)
GET {{mlBaseUrl}}/status

# ============================================================================
# üìù NOTAS & EXEMPLOS
# ============================================================================

# AUTENTICA√á√ÉO
# 1. Use [AUTH-01] para obter URL de autoriza√ß√£o
# 2. Redirecione usu√°rio para aquela URL
# 3. Mercado Livre vai redirecionar com um code
# 4. Use [AUTH-02] com esse code para obter access token
# 5. Guarde o refresh token em local seguro
# 6. Use access token em todos os requests

# PAR√ÇMETROS COMUNS
# - limit: quantidade de resultados (default: 50, max: 50 em alguns endpoints)
# - offset: p√°gina (multiplicar limit √ó p√°gina)
# - sort: date_desc, date_asc, price_asc, price_desc
# - status: active, paused, closed, under_review, archived

# HEADERS IMPORTANTES
# - Authorization: Bearer {access_token}
# - Content-Type: application/json
# - X-Request-Id: (gerado automaticamente para tracking)

# RATE LIMITS
# - 600 requisi√ß√µes por minuto (por app)
# - 6000 requisi√ß√µes por hora
# - Se exceder: 429 Too Many Requests

# TRATAMENTO DE ERROS
# Respostas com erro incluem:
# {
#   "message": "Descri√ß√£o do erro",
#   "error": "c√≥digo_do_erro",
#   "status": 400,
#   "cause": [ lista de causas espec√≠ficas ]
# }

# DOCUMENTA√á√ÉO OFICIAL
# https://developers.mercadolibre.com.br/pt_BR/api-docs-pt
# https://developers.mercadolibre.com.br/pt_BR/reference

# ENDPOINTS MAIS USADOS
# Autentica√ß√£o:        [AUTH-01], [AUTH-02], [AUTH-03]
# Listar Produtos:     [ITEM-04]
# Criar Produto:       [ITEM-01]
# Listar Pedidos:      [ORDER-01], [ORDER-02]
# Ver Detalhes Pedido: [ORDER-03]
# Listar Pagamentos:   [PAYMENT-01]
# Feedback:            [FEEDBACK-01]

# VARI√ÅVEIS QUE PRECISA SUBSTITUIR
# - {{accessToken}}: seu token do OAuth (v√°lido 6 horas)
# - {{refreshToken}}: refresh token (v√°lido 180 dias)
# - {{userId}}: seu ID no Mercado Livre
# - {{clientId}}: ID da sua app
# - {{clientSecret}}: secret da sua app
# - ITEM_ID_AQUI: ID do produto (ex: MLB2500123456)
# - ORDER_ID_AQUI: ID do pedido (ex: 1234567890)
# - CATEGORY_ID_AQUI: ID da categoria (ex: MLB5672)
